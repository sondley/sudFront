{"ast":null,"code":"import api from \"../../api\";\nexport var GET_TRANSACTIONS = \"GET_TRANSACTIONS\";\nexport var GET_TRANSACTIONS_SUCCESS = \"GET_TRANSACTIONS_SUCCESS\";\nexport var GET_TRANSACTIONS_FAIL = \"GET_TRANSACTIONS_FAIL\";\nexport var GET_COMPTE = \"GET_COMPTE\";\nexport var GET_COMPTE_SUCCESS = \"GET_COMPTE_SUCCESS\";\nexport var GET_COMPTE_FAIL = \"GET_COMPTE_FAIL\";\nexport var GET_COMPTE_STATUS = \"GET_COMPTE_STATUS\";\nexport var GET_COMPTE_STATUS_SUCCESS = \"GET_COMPTE_STATUS_SUCCESS\";\nexport var GET_COMPTE_STATUS_FAIL = \"GET_COMPTE_STATUS_FAIL\";\nexport var OPEN_CAISSE = \"OPEN_CAISSE\";\nexport var OPEN_CAISSE_SUCCESS = \"OPEN_CAISSE_SUCCESS\";\nexport var OPEN_CAISSE_FAIL = \"OPEN_CAISSE_FAIL\";\nexport var CLOSE_CAISSE = \"CLOSE_CAISSE\";\nexport var CLOSE_CAISSE_SUCCESS = \"CLOSE_CAISSE_SUCCESS\";\nexport var CLOSE_CAISSE_FAIL = \"CLOSE_CAISSE_FAIL\";\n\nfunction requestBegin(type) {\n  return {\n    type: type\n  };\n}\n\nfunction requestSuccess(type, data, message) {\n  return {\n    type: type,\n    payload: {\n      data: data,\n      message: message\n    }\n  };\n}\n\nfunction requestFail(type, message) {\n  return {\n    type: type,\n    payload: {\n      message: message\n    }\n  };\n}\n\nexport function getTransactions() {\n  return function (dispatch) {\n    dispatch(requestBegin(GET_TRANSACTIONS));\n    return api.requestGET(\"/caisseTransactions\").then(function (objResponse) {\n      if (objResponse.data.success) {\n        dispatch(requestSuccess(GET_TRANSACTIONS_SUCCESS, objResponse.data.data, objResponse.data.message));\n      } else {\n        dispatch(requestFail(GET_TRANSACTIONS_FAIL, objResponse.data.message));\n      }\n    }).catch(function (objError) {\n      dispatch(requestFail(GET_TRANSACTIONS_FAIL, objError.response));\n    });\n  };\n}\nexport function getCompte() {\n  return function (dispatch) {\n    dispatch(requestBegin(GET_COMPTE));\n    return api.requestGET(\"/totalDisponibleCaisse\").then(function (objResponse) {\n      if (objResponse.data.success) {\n        dispatch(requestSuccess(GET_COMPTE_SUCCESS, objResponse.data.data, objResponse.data.message));\n      } else {\n        dispatch(requestFail(GET_COMPTE_FAIL, objResponse.data.message));\n      }\n    }).catch(function (objError) {\n      dispatch(requestFail(GET_COMPTE_FAIL, objError.response));\n    });\n  };\n}\nexport function OpenCaisse(item, onClose) {\n  return function (dispatch) {\n    dispatch(requestBegin(OPEN_CAISSE));\n    return api.requestPOST(\"/openCaisse\", {\n      idVendeur: item.idVendeur,\n      quantiteDonnee: item.quantiteDonnee\n    }).then(function (objResponse) {\n      if (objResponse.data.success) {\n        dispatch(requestSuccess(OPEN_CAISSE_SUCCESS, objResponse.data.data, objResponse.data.message));\n        onClose();\n      } else {\n        dispatch(requestFail(OPEN_CAISSE_FAIL, objResponse.data.message));\n      }\n    }).catch(function (objError) {\n      dispatch(requestFail(OPEN_CAISSE_FAIL, objError.response));\n    });\n  };\n}\nexport function CloseCaisse(item, onClose) {\n  return function (dispatch) {\n    dispatch(requestBegin(CLOSE_CAISSE));\n    return api.requestPOST(\"/closeCaisse\", {\n      quantiteRemise: item.quantiteRemise\n    }).then(function (objResponse) {\n      if (objResponse.data.success) {\n        dispatch(requestSuccess(CLOSE_CAISSE_SUCCESS, objResponse.data.data, objResponse.data.message));\n        onClose();\n      } else {\n        dispatch(requestFail(CLOSE_CAISSE_FAIL, objResponse.data.message));\n      }\n    }).catch(function (objError) {\n      dispatch(requestFail(CLOSE_CAISSE_FAIL, objError.response));\n    });\n  };\n}\nexport function getCaisseStatus() {\n  return function (dispatch) {\n    dispatch(requestBegin(GET_COMPTE_STATUS));\n    return api.requestGET(\"/getCaisseNow\").then(function (objResponse) {\n      if (objResponse.data.success) {\n        dispatch(requestSuccess(GET_COMPTE_STATUS_SUCCESS, objResponse.data.data, objResponse.data.message));\n        console.log(objResponse.data.data);\n      } else {\n        dispatch(requestFail(GET_COMPTE_STATUS_FAIL, objResponse.data.message));\n      }\n    }).catch(function (objError) {\n      dispatch(requestFail(GET_COMPTE_STATUS_FAIL, objError.response));\n    });\n  };\n}","map":{"version":3,"sources":["/Users/sondley/Desktop/PapaRohenson/grandsud/src/redux/actions/compte.js"],"names":["api","GET_TRANSACTIONS","GET_TRANSACTIONS_SUCCESS","GET_TRANSACTIONS_FAIL","GET_COMPTE","GET_COMPTE_SUCCESS","GET_COMPTE_FAIL","GET_COMPTE_STATUS","GET_COMPTE_STATUS_SUCCESS","GET_COMPTE_STATUS_FAIL","OPEN_CAISSE","OPEN_CAISSE_SUCCESS","OPEN_CAISSE_FAIL","CLOSE_CAISSE","CLOSE_CAISSE_SUCCESS","CLOSE_CAISSE_FAIL","requestBegin","type","requestSuccess","data","message","payload","requestFail","getTransactions","dispatch","requestGET","then","objResponse","success","catch","objError","response","getCompte","OpenCaisse","item","onClose","requestPOST","idVendeur","quantiteDonnee","CloseCaisse","quantiteRemise","getCaisseStatus","console","log"],"mappings":"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","sourcesContent":["import api from \"../../api\";\n\nexport const GET_TRANSACTIONS = \"GET_TRANSACTIONS\";\nexport const GET_TRANSACTIONS_SUCCESS = \"GET_TRANSACTIONS_SUCCESS\";\nexport const GET_TRANSACTIONS_FAIL = \"GET_TRANSACTIONS_FAIL\";\nexport const GET_COMPTE = \"GET_COMPTE\";\nexport const GET_COMPTE_SUCCESS = \"GET_COMPTE_SUCCESS\";\nexport const GET_COMPTE_FAIL = \"GET_COMPTE_FAIL\";\nexport const GET_COMPTE_STATUS = \"GET_COMPTE_STATUS\";\nexport const GET_COMPTE_STATUS_SUCCESS = \"GET_COMPTE_STATUS_SUCCESS\";\nexport const GET_COMPTE_STATUS_FAIL = \"GET_COMPTE_STATUS_FAIL\";\nexport const OPEN_CAISSE = \"OPEN_CAISSE\";\nexport const OPEN_CAISSE_SUCCESS = \"OPEN_CAISSE_SUCCESS\";\nexport const OPEN_CAISSE_FAIL = \"OPEN_CAISSE_FAIL\";\nexport const CLOSE_CAISSE = \"CLOSE_CAISSE\";\nexport const CLOSE_CAISSE_SUCCESS = \"CLOSE_CAISSE_SUCCESS\";\nexport const CLOSE_CAISSE_FAIL = \"CLOSE_CAISSE_FAIL\";\n\nfunction requestBegin(type) {\n\treturn { type };\n}\n\nfunction requestSuccess(type, data, message) {\n\treturn { type, payload: { data, message } };\n}\n\nfunction requestFail(type, message) {\n\treturn { type, payload: { message } };\n}\n\nexport function getTransactions() {\n\treturn dispatch => {\n\t\tdispatch(requestBegin(GET_TRANSACTIONS));\n\t\treturn api\n\t\t\t.requestGET(\"/caisseTransactions\")\n\t\t\t.then(objResponse => {\n\t\t\t\tif (objResponse.data.success) {\n\t\t\t\t\tdispatch(requestSuccess(GET_TRANSACTIONS_SUCCESS, objResponse.data.data, objResponse.data.message));\n\t\t\t\t} else {\n\t\t\t\t\tdispatch(requestFail(GET_TRANSACTIONS_FAIL, objResponse.data.message));\n\t\t\t\t}\n\t\t\t})\n\t\t\t.catch(objError => {\n\t\t\t\tdispatch(requestFail(GET_TRANSACTIONS_FAIL, objError.response));\n\t\t\t});\n\t};\n}\n\nexport function getCompte() {\n\treturn dispatch => {\n\t\tdispatch(requestBegin(GET_COMPTE));\n\t\treturn api\n\t\t\t.requestGET(\"/totalDisponibleCaisse\")\n\t\t\t.then(objResponse => {\n\t\t\t\tif (objResponse.data.success) {\n\t\t\t\t\tdispatch(requestSuccess(GET_COMPTE_SUCCESS, objResponse.data.data, objResponse.data.message));\n\t\t\t\t} else {\n\t\t\t\t\tdispatch(requestFail(GET_COMPTE_FAIL, objResponse.data.message));\n\t\t\t\t}\n\t\t\t})\n\t\t\t.catch(objError => {\n\t\t\t\tdispatch(requestFail(GET_COMPTE_FAIL, objError.response));\n\t\t\t});\n\t};\n}\n\nexport function OpenCaisse(item, onClose) {\n\treturn dispatch => {\n\t\tdispatch(requestBegin(OPEN_CAISSE));\n\t\treturn api\n\t\t\t.requestPOST(\"/openCaisse\", {\n\t\t\t\tidVendeur: item.idVendeur,\n\t\t\t\tquantiteDonnee: item.quantiteDonnee\n\t\t\t})\n\t\t\t.then(objResponse => {\n\t\t\t\tif (objResponse.data.success) {\n\t\t\t\t\tdispatch(requestSuccess(OPEN_CAISSE_SUCCESS, objResponse.data.data, objResponse.data.message));\n\t\t\t\t\tonClose();\n\t\t\t\t} else {\n\t\t\t\t\tdispatch(requestFail(OPEN_CAISSE_FAIL, objResponse.data.message));\n\t\t\t\t}\n\t\t\t})\n\t\t\t.catch(objError => {\n\t\t\t\tdispatch(requestFail(OPEN_CAISSE_FAIL, objError.response));\n\t\t\t});\n\t};\n}\n\nexport function CloseCaisse(item, onClose) {\n\treturn dispatch => {\n\t\tdispatch(requestBegin(CLOSE_CAISSE));\n\t\treturn api\n\t\t\t.requestPOST(\"/closeCaisse\", {\n\t\t\t\tquantiteRemise: item.quantiteRemise\n\t\t\t})\n\t\t\t.then(objResponse => {\n\t\t\t\tif (objResponse.data.success) {\n\t\t\t\t\tdispatch(requestSuccess(CLOSE_CAISSE_SUCCESS, objResponse.data.data, objResponse.data.message));\n\t\t\t\t\tonClose();\n\t\t\t\t} else {\n\t\t\t\t\tdispatch(requestFail(CLOSE_CAISSE_FAIL, objResponse.data.message));\n\t\t\t\t}\n\t\t\t})\n\t\t\t.catch(objError => {\n\t\t\t\tdispatch(requestFail(CLOSE_CAISSE_FAIL, objError.response));\n\t\t\t});\n\t};\n}\n\nexport function getCaisseStatus() {\n\treturn dispatch => {\n\t\tdispatch(requestBegin(GET_COMPTE_STATUS));\n\t\treturn api\n\t\t\t.requestGET(\"/getCaisseNow\")\n\t\t\t.then(objResponse => {\n\t\t\t\tif (objResponse.data.success) {\n\t\t\t\t\tdispatch(requestSuccess(GET_COMPTE_STATUS_SUCCESS, objResponse.data.data, objResponse.data.message));\n\t\t\t\t\tconsole.log(objResponse.data.data);\n\t\t\t\t} else {\n\t\t\t\t\tdispatch(requestFail(GET_COMPTE_STATUS_FAIL, objResponse.data.message));\n\t\t\t\t}\n\t\t\t})\n\t\t\t.catch(objError => {\n\t\t\t\tdispatch(requestFail(GET_COMPTE_STATUS_FAIL, objError.response));\n\t\t\t});\n\t};\n}\n"]},"metadata":{},"sourceType":"module"}