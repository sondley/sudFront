{"ast":null,"code":"import api from \"../../api\";\nimport { getProducts } from \"./product\";\nimport { getClients } from \"./client\";\nexport var GET_SALES = \"GET_SALES\";\nexport var GET_SALES_SUCCESS = \"GET_SALES_SUCCESS\";\nexport var GET_SALES_FAIL = \"GET_SALES_FAIL\";\nexport var CREATE_SALE = \"CREATE_SALE\";\nexport var CREATE_SALE_SUCCESS = \"CREATE_SALE_SUCCESS\";\nexport var CREATE_SALE_FAIL = \"CREATE_SALE_FAIL\";\n\nfunction requestBegin(type) {\n  return {\n    type: type\n  };\n}\n\nfunction requestSuccess(type, sale, message) {\n  return {\n    type: type,\n    payload: {\n      sale: sale,\n      message: message\n    }\n  };\n}\n\nfunction requestFail(type, message) {\n  return {\n    type: type,\n    payload: {\n      message: message\n    }\n  };\n}\n\nexport function getSales() {\n  return function (dispatch) {\n    dispatch(getProducts());\n    dispatch(getClients());\n    dispatch(requestBegin(GET_SALES));\n    return api.requestGET(\"/ventas\").then(function (objResponse) {\n      dispatch(requestSuccess(GET_SALES_SUCCESS, objResponse.data.results));\n    }).catch(function (objError) {\n      dispatch(requestFail(GET_SALES_FAIL, objError));\n    });\n  };\n}\nexport function createSale(sale, action) {\n  return function (dispatch) {\n    dispatch(requestBegin(CREATE_SALE));\n    return api.requestPOST(\"users/ventas\", {\n      numero_venta: sale.numero_venta,\n      vendedor: sale.vendedor,\n      moneda: sale.moneda,\n      subtotal: sale.subtotal,\n      total_iva: sale.total_iva,\n      total: sale.total,\n      tipo_pago: sale.tipo_pago,\n      descuento: sale.descuento,\n      importe: sale.importe,\n      cliente_id: sale.cliente_id,\n      productos: sale.productos\n    }).then(function (objResponse) {\n      dispatch(requestSuccess(CREATE_SALE_SUCCESS, objResponse.data));\n      action();\n    }).catch(function (objError) {\n      dispatch(requestFail(CREATE_SALE_FAIL, objError));\n    });\n  };\n}","map":{"version":3,"sources":["/Users/sondley/Desktop/PapaRohenson/grandsud/src/redux/actions/sales.js"],"names":["api","getProducts","getClients","GET_SALES","GET_SALES_SUCCESS","GET_SALES_FAIL","CREATE_SALE","CREATE_SALE_SUCCESS","CREATE_SALE_FAIL","requestBegin","type","requestSuccess","sale","message","payload","requestFail","getSales","dispatch","requestGET","then","objResponse","data","results","catch","objError","createSale","action","requestPOST","numero_venta","vendedor","moneda","subtotal","total_iva","total","tipo_pago","descuento","importe","cliente_id","productos"],"mappings":"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","sourcesContent":["import api from \"../../api\";\nimport { getProducts } from \"./product\";\nimport { getClients } from \"./client\";\n\nexport const GET_SALES = \"GET_SALES\";\nexport const GET_SALES_SUCCESS = \"GET_SALES_SUCCESS\";\nexport const GET_SALES_FAIL = \"GET_SALES_FAIL\";\nexport const CREATE_SALE = \"CREATE_SALE\";\nexport const CREATE_SALE_SUCCESS = \"CREATE_SALE_SUCCESS\";\nexport const CREATE_SALE_FAIL = \"CREATE_SALE_FAIL\";\n\nfunction requestBegin(type) {\n  return { type };\n}\n\nfunction requestSuccess(type, sale, message) {\n  return { type, payload: { sale, message } };\n}\n\nfunction requestFail(type, message) {\n  return { type, payload: { message } };\n}\n\nexport function getSales() {\n  return dispatch => {\n    dispatch(getProducts());\n    dispatch(getClients());\n    dispatch(requestBegin(GET_SALES));\n    return api\n      .requestGET(\"/ventas\")\n      .then(objResponse => {\n        dispatch(requestSuccess(GET_SALES_SUCCESS, objResponse.data.results));\n      })\n      .catch(objError => {\n        dispatch(requestFail(GET_SALES_FAIL, objError));\n      });\n  };\n}\n\nexport function createSale(sale, action) {\n  return dispatch => {\n    dispatch(requestBegin(CREATE_SALE));\n    return api\n      .requestPOST(\"users/ventas\", {\n        numero_venta: sale.numero_venta,\n        vendedor: sale.vendedor,\n        moneda: sale.moneda,\n        subtotal: sale.subtotal,\n        total_iva: sale.total_iva,\n        total: sale.total,\n        tipo_pago: sale.tipo_pago,\n        descuento: sale.descuento,\n        importe: sale.importe,\n        cliente_id: sale.cliente_id,\n        productos: sale.productos\n      })\n      .then(objResponse => {\n        dispatch(requestSuccess(CREATE_SALE_SUCCESS, objResponse.data));\n        action();\n      })\n      .catch(objError => {\n        dispatch(requestFail(CREATE_SALE_FAIL, objError));\n      });\n  };\n}"]},"metadata":{},"sourceType":"module"}