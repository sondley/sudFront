{"ast":null,"code":"import _regeneratorRuntime from \"/Users/sondley/Desktop/PapaRohenson/sudFront/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";\nimport _objectSpread from \"/Users/sondley/Desktop/PapaRohenson/sudFront/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread\";\nimport _asyncToGenerator from \"/Users/sondley/Desktop/PapaRohenson/sudFront/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nimport _defineProperty from \"/Users/sondley/Desktop/PapaRohenson/sudFront/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";\nimport _classCallCheck from \"/Users/sondley/Desktop/PapaRohenson/sudFront/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/sondley/Desktop/PapaRohenson/sudFront/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/sondley/Desktop/PapaRohenson/sudFront/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/sondley/Desktop/PapaRohenson/sudFront/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/sondley/Desktop/PapaRohenson/sudFront/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/Users/sondley/Desktop/PapaRohenson/sudFront/src/components/cointrade-form/cointradeform.js\";\nimport React, { PureComponent } from \"react\";\nimport { connect } from \"react-redux\";\nimport { Form, Input, Button, Message, Dimmer, Icon, Card, Select, Modal } from \"semantic-ui-react\";\nimport { createCoinTrade, modifyCoinTrade } from \"../../redux/actions/cointrades\";\nimport { getTauxs } from \"../../redux/actions/taux\";\nimport { isEmpty, filter, find } from \"lodash\"; //Styles\n\nimport styles from \"./cointradeform.module.css\";\n\nvar CoinTradeForm =\n/*#__PURE__*/\nfunction (_PureComponent) {\n  _inherits(CoinTradeForm, _PureComponent);\n\n  function CoinTradeForm(props) {\n    var _this;\n\n    _classCallCheck(this, CoinTradeForm);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(CoinTradeForm).call(this, props));\n\n    _this.handleChange = function (event) {\n      event.preventDefault();\n      var _event$target = event.target,\n          name = _event$target.name,\n          value = _event$target.value;\n\n      if (name === \"quantite\" && parseInt(value) < 0) {\n        return _this.setState(_defineProperty({}, name, 0));\n      }\n\n      _this.setState(_defineProperty({}, name, value));\n    };\n\n    _this.handleSelectChange = function (e, _ref) {\n      var value = _ref.value;\n      e.preventDefault();\n\n      _this.setState({\n        monnaie: value\n      });\n    };\n\n    _this.handleModalClose = function () {\n      _this.setState({\n        isModalOpen: false\n      });\n    };\n\n    _this.handleFullClose = function () {\n      _this.setState({\n        helpModal: false\n      });\n\n      _this.props.onClose();\n    };\n\n    _this.handleInputError = function (event) {\n      var _event$target2 = event.target,\n          name = _event$target2.name,\n          value = _event$target2.value;\n\n      if (name === \"clientName\") {\n        if (value.length === 0) {\n          return _this.setState({\n            clientNameError: true,\n            formError: true\n          });\n        } else {\n          return _this.setState({\n            clientNameError: false,\n            formError: false\n          });\n        }\n      }\n\n      if (name === \"monnaie\") {\n        if (value.length === 0) {\n          return _this.setState({\n            monnaieError: true,\n            formError: true\n          });\n        } else {\n          return _this.setState({\n            monnaieError: false,\n            formError: false\n          });\n        }\n      }\n\n      if (name === \"quantite\") {\n        var numVal = parseInt(value);\n\n        if (value.length === 0 || numVal <= 0) {\n          return _this.setState({\n            quantiteError: true,\n            formError: true\n          });\n        } else {\n          return _this.setState({\n            quantiteError: false,\n            formError: false\n          });\n        }\n      }\n    };\n\n    _this.handleSubmit =\n    /*#__PURE__*/\n    function () {\n      var _ref2 = _asyncToGenerator(\n      /*#__PURE__*/\n      _regeneratorRuntime.mark(function _callee(event) {\n        var _this$state, clientName, quantite, monnaie, type, _coinTrade, coinTrade;\n\n        return _regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                event.preventDefault();\n                _this$state = _this.state, clientName = _this$state.clientName, quantite = _this$state.quantite, monnaie = _this$state.monnaie, type = _this$state.type;\n\n                if (_this.state.formError) {\n                  _context.next = 12;\n                  break;\n                }\n\n                if (!_this.state.edit) {\n                  _context.next = 7;\n                  break;\n                }\n\n                _coinTrade = _objectSpread({}, _this.props.data, {\n                  client: clientName,\n                  quantite: quantite,\n                  monnaie: monnaie,\n                  idVendeur: _this.props.user.authedUser._id,\n                  type: type\n                });\n\n                _this.props.dispatch(modifyCoinTrade(_coinTrade));\n\n                return _context.abrupt(\"return\", _this.setState({\n                  helpModal: true\n                }));\n\n              case 7:\n                coinTrade = {\n                  client: clientName,\n                  quantite: quantite,\n                  monnaie: monnaie,\n                  idVendeur: _this.props.user.authedUser._id,\n                  type: type\n                };\n\n                _this.props.dispatch(createCoinTrade(coinTrade));\n\n                return _context.abrupt(\"return\", _this.setState({\n                  helpModal: true\n                }));\n\n              case 12:\n                _this.setState({\n                  isModalOpen: true\n                });\n\n              case 13:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee, this);\n      }));\n\n      return function (_x) {\n        return _ref2.apply(this, arguments);\n      };\n    }();\n\n    _this.renderMessages = function (field) {\n      var list = [];\n      var error = field.concat(\"Error\");\n\n      switch (field) {\n        case \"clientName\":\n          list = [\"Le Nom du Client ne peut pas être vide\"];\n          break;\n\n        case \"monnaie\":\n          list = [\"Tu dois sélectionner une monnaie\"];\n          break;\n\n        case \"quantite\":\n          list = [\"La Quantité ne peut pas être vide\", \"La Quantité doit être un numero > 0\"];\n          break;\n\n        default:\n          list = [];\n      }\n\n      return React.createElement(Message, {\n        style: _this.state[error] ? {\n          display: \"block\"\n        } : {\n          display: \"none\"\n        },\n        error: true,\n        size: \"small\",\n        list: list,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 163\n        },\n        __self: this\n      });\n    };\n\n    _this.renderModal = function (isOpen) {\n      var Monnaie = find(_this.props.taux.monnaies, {\n        _id: _this.state.monnaie\n      });\n      var Recevoir = \"\";\n      var Payer = \"\";\n\n      if (Monnaie !== undefined) {\n        Recevoir = _this.state.type === \"vendre\" ? \"$\" + _this.state.quantite + \" HTD\" : \"$\" + _this.state.quantite + \" \" + Monnaie.nom;\n        Payer = _this.state.type === \"vendre\" ? \"$\" + _this.state.quantite / Monnaie.prixVente + \" \" + Monnaie.nom : \"$\" + _this.state.quantite * Monnaie.prixAchat + \" HTD\";\n      }\n\n      return React.createElement(Modal, {\n        open: isOpen,\n        onClose: _this.handleFullClose,\n        size: \"small\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 183\n        },\n        __self: this\n      }, React.createElement(Modal.Content, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 184\n        },\n        __self: this\n      }, React.createElement(Form, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 185\n        },\n        __self: this\n      }, React.createElement(Form.Field, {\n        className: styles.centered,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 186\n        },\n        __self: this\n      }, \"Montant a Recevoir: \", React.createElement(\"strong\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 187\n        },\n        __self: this\n      }, Recevoir)), React.createElement(Form.Field, {\n        className: styles.centered,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 189\n        },\n        __self: this\n      }, \"Montant a Payer: \", React.createElement(\"strong\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 190\n        },\n        __self: this\n      }, Payer)))), React.createElement(Modal.Actions, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 194\n        },\n        __self: this\n      }, React.createElement(Button, {\n        primary: true,\n        content: \"Ok\",\n        onClick: _this.handleFullClose,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 195\n        },\n        __self: this\n      })));\n    };\n\n    _this.state = {\n      edit: false || _this.props.edit,\n      headerErrorMessage: \"\",\n      type: \"\" || _this.props.type,\n      clientName: \"\",\n      quantite: \"\",\n      monnaie: \"\",\n      clientNameError: false,\n      quantiteError: false,\n      monnaieError: false,\n      formError: false,\n      isModalOpen: false,\n      helpModal: false,\n      results: [],\n      item: {},\n      isLoading: false\n    };\n    return _this;\n  }\n\n  _createClass(CoinTradeForm, [{\n    key: \"componentDidMount\",\n    value: function () {\n      var _componentDidMount = _asyncToGenerator(\n      /*#__PURE__*/\n      _regeneratorRuntime.mark(function _callee2() {\n        var coin;\n        return _regeneratorRuntime.wrap(function _callee2$(_context2) {\n          while (1) {\n            switch (_context2.prev = _context2.next) {\n              case 0:\n                if (!isEmpty(this.props.taux.monnaies)) {\n                  _context2.next = 3;\n                  break;\n                }\n\n                _context2.next = 3;\n                return this.props.dispatch(getTauxs());\n\n              case 3:\n                if (this.state.edit) {\n                  coin = filter(this.props.taux.monnaies, {\n                    nom: this.props.data.monnaie\n                  });\n                  this.setState({\n                    clientName: this.props.data.client,\n                    quantite: this.props.data.quantite,\n                    monnaie: coin[0]._id,\n                    type: this.props.data.type\n                  });\n                }\n\n              case 4:\n              case \"end\":\n                return _context2.stop();\n            }\n          }\n        }, _callee2, this);\n      }));\n\n      function componentDidMount() {\n        return _componentDidMount.apply(this, arguments);\n      }\n\n      return componentDidMount;\n    }()\n  }, {\n    key: \"render\",\n    value: function render() {\n      var options = this.state.type === \"vendre\" ? this.props.taux.monnaies.map(function (item) {\n        return {\n          text: item.nom + \" $\" + item.prixVente + \" HTD\",\n          value: item._id\n        };\n      }) : this.props.taux.monnaies.map(function (item) {\n        return {\n          text: item.nom + \" $\" + item.prixAchat + \" HTD\",\n          value: item._id\n        };\n      });\n      var title = \"Entrain de Ajouter\";\n      var label = \"Ajouter\";\n\n      if (this.state.edit) {\n        title = \"Entrain de Modifier\";\n        label = \"Modifier\";\n      }\n\n      var QuantiteLabel = this.state.type === \"vendre\" ? \"Quantite en Gourde\" : \"Quantite\";\n      return React.createElement(Dimmer.Dimmable, {\n        dimmed: this.state.isModalOpen,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 219\n        },\n        __self: this\n      }, React.createElement(Dimmer, {\n        verticalAlign: \"top\",\n        active: this.state.isModalOpen,\n        page: true,\n        onClickOutside: this.handleModalClose,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 220\n        },\n        __self: this\n      }, React.createElement(Message, {\n        className: styles.dimmerMargin,\n        negative: true,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 221\n        },\n        __self: this\n      }, React.createElement(Message.Item, {\n        className: styles.noStyleList,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 222\n        },\n        __self: this\n      }, React.createElement(Icon, {\n        name: \"warning sign\",\n        size: \"huge\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 223\n        },\n        __self: this\n      })), React.createElement(Message.Header, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 225\n        },\n        __self: this\n      }, this.state.headerErrorMessage), React.createElement(Message.Content, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 226\n        },\n        __self: this\n      }, this.state.contentErrorMessage))), this.renderModal(this.state.helpModal), React.createElement(Card, {\n        fluid: true,\n        centered: true,\n        className: styles.boxContainerWide,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 230\n        },\n        __self: this\n      }, React.createElement(Card.Content, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 231\n        },\n        __self: this\n      }, React.createElement(Card.Header, {\n        className: \"font font-18\",\n        textAlign: \"center\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 232\n        },\n        __self: this\n      }, title), React.createElement(Card.Meta, {\n        className: \"font font-16\",\n        textAlign: \"center\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 235\n        },\n        __self: this\n      }, \"Completer les champs du formulaire\"), React.createElement(\"div\", {\n        className: styles.basicFormContainer,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 238\n        },\n        __self: this\n      }, React.createElement(Form, {\n        className: styles.basicFormWidth,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 239\n        },\n        __self: this\n      }, React.createElement(Form.Group, {\n        grouped: true,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 240\n        },\n        __self: this\n      }, React.createElement(Form.Field, {\n        required: true,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 241\n        },\n        __self: this\n      }, React.createElement(\"label\", {\n        className: styles.basicFormSpacing,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 242\n        },\n        __self: this\n      }, \"Nom du Client\"), React.createElement(Input, {\n        icon: \"code\",\n        iconPosition: \"left\",\n        placeholder: \"Nom du Client\",\n        name: \"clientName\",\n        onChange: this.handleChange,\n        value: this.state.clientName,\n        onKeyUp: this.handleInputError,\n        onBlur: this.state.clientNameError ? null : this.handleInputError,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 243\n        },\n        __self: this\n      }), this.renderMessages(\"clientName\")), React.createElement(Form.Field, {\n        required: true,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 255\n        },\n        __self: this\n      }, React.createElement(\"label\", {\n        className: styles.basicFormSpacing,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 256\n        },\n        __self: this\n      }, \"Monnaie\"), React.createElement(Select, {\n        options: options,\n        placeholder: \"Monnaie\",\n        name: \"monnaie\",\n        onChange: this.handleSelectChange,\n        value: this.state.monnaie,\n        onKeyUp: this.handleInputError,\n        onBlur: this.state.monnaieError ? null : this.handleInputError,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 257\n        },\n        __self: this\n      }), this.renderMessages(\"monnaie\")), React.createElement(Form.Field, {\n        required: true,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 268\n        },\n        __self: this\n      }, React.createElement(\"label\", {\n        className: styles.basicFormSpacing,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 269\n        },\n        __self: this\n      }, QuantiteLabel), React.createElement(Input, {\n        type: \"number\",\n        icon: \"archive\",\n        iconPosition: \"left\",\n        placeholder: QuantiteLabel,\n        name: \"quantite\",\n        onChange: this.handleChange,\n        value: this.state.quantite,\n        onKeyUp: this.handleInputError,\n        onBlur: this.state.quantiteError ? null : this.handleInputError,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 270\n        },\n        __self: this\n      }), this.renderMessages(\"quantite\"))))), React.createElement(\"div\", {\n        style: this.state.view ? {\n          display: \"none\"\n        } : {\n          display: \"block\"\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 286\n        },\n        __self: this\n      }, React.createElement(Button, {\n        fluid: true,\n        size: \"small\",\n        color: \"teal\",\n        content: label,\n        onClick: this.handleSubmit,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 287\n        },\n        __self: this\n      })))));\n    }\n  }]);\n\n  return CoinTradeForm;\n}(PureComponent);\n\nfunction mapStateToProps(_ref3) {\n  var taux = _ref3.taux,\n      user = _ref3.user;\n  return {\n    taux: taux,\n    user: user\n  };\n}\n\nexport default connect(mapStateToProps)(CoinTradeForm);","map":{"version":3,"sources":["/Users/sondley/Desktop/PapaRohenson/sudFront/src/components/cointrade-form/cointradeform.js"],"names":["React","PureComponent","connect","Form","Input","Button","Message","Dimmer","Icon","Card","Select","Modal","createCoinTrade","modifyCoinTrade","getTauxs","isEmpty","filter","find","styles","CoinTradeForm","props","handleChange","event","preventDefault","target","name","value","parseInt","setState","handleSelectChange","e","monnaie","handleModalClose","isModalOpen","handleFullClose","helpModal","onClose","handleInputError","length","clientNameError","formError","monnaieError","numVal","quantiteError","handleSubmit","state","clientName","quantite","type","edit","coinTrade","data","client","idVendeur","user","authedUser","_id","dispatch","renderMessages","field","list","error","concat","display","renderModal","isOpen","Monnaie","taux","monnaies","Recevoir","Payer","undefined","nom","prixVente","prixAchat","centered","headerErrorMessage","results","item","isLoading","coin","options","map","text","title","label","QuantiteLabel","dimmerMargin","noStyleList","contentErrorMessage","boxContainerWide","basicFormContainer","basicFormWidth","basicFormSpacing","view","mapStateToProps"],"mappings":"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","sourcesContent":["import React, { PureComponent } from \"react\";\nimport { connect } from \"react-redux\";\nimport { Form, Input, Button, Message, Dimmer, Icon, Card, Select, Modal } from \"semantic-ui-react\";\nimport { createCoinTrade, modifyCoinTrade } from \"../../redux/actions/cointrades\";\nimport { getTauxs } from \"../../redux/actions/taux\";\nimport { isEmpty, filter, find } from \"lodash\";\n\n//Styles\nimport styles from \"./cointradeform.module.css\";\n\nclass CoinTradeForm extends PureComponent {\n\tconstructor(props) {\n\t\tsuper(props);\n\n\t\tthis.state = {\n\t\t\tedit: false || this.props.edit,\n\t\t\theaderErrorMessage: \"\",\n\t\t\ttype: \"\" || this.props.type,\n\t\t\tclientName: \"\",\n\t\t\tquantite: \"\",\n\t\t\tmonnaie: \"\",\n\t\t\tclientNameError: false,\n\t\t\tquantiteError: false,\n\t\t\tmonnaieError: false,\n\t\t\tformError: false,\n\t\t\tisModalOpen: false,\n\t\t\thelpModal: false,\n\t\t\tresults: [],\n\t\t\titem: {},\n\t\t\tisLoading: false\n\t\t};\n\t}\n\n\tasync componentDidMount() {\n\t\tif (isEmpty(this.props.taux.monnaies)) {\n\t\t\tawait this.props.dispatch(getTauxs());\n\t\t}\n\t\tif (this.state.edit) {\n\t\t\tconst coin = filter(this.props.taux.monnaies, { nom: this.props.data.monnaie });\n\t\t\tthis.setState({\n\t\t\t\tclientName: this.props.data.client,\n\t\t\t\tquantite: this.props.data.quantite,\n\t\t\t\tmonnaie: coin[0]._id,\n\t\t\t\ttype: this.props.data.type\n\t\t\t});\n\t\t}\n\t}\n\n\thandleChange = event => {\n\t\tevent.preventDefault();\n\t\tconst { name, value } = event.target;\n\t\tif (name === \"quantite\" && parseInt(value) < 0) {\n\t\t\treturn this.setState({ [name]: 0 });\n\t\t}\n\t\tthis.setState({ [name]: value });\n\t};\n\n\thandleSelectChange = (e, { value }) => {\n\t\te.preventDefault();\n\t\tthis.setState({ monnaie: value });\n\t};\n\n\thandleModalClose = () => {\n\t\tthis.setState({ isModalOpen: false });\n\t};\n\n\thandleFullClose = () => {\n\t\tthis.setState({ helpModal: false });\n\t\tthis.props.onClose();\n\t};\n\n\thandleInputError = event => {\n\t\tconst { name, value } = event.target;\n\t\tif (name === \"clientName\") {\n\t\t\tif (value.length === 0) {\n\t\t\t\treturn this.setState({\n\t\t\t\t\tclientNameError: true,\n\t\t\t\t\tformError: true\n\t\t\t\t});\n\t\t\t} else {\n\t\t\t\treturn this.setState({\n\t\t\t\t\tclientNameError: false,\n\t\t\t\t\tformError: false\n\t\t\t\t});\n\t\t\t}\n\t\t}\n\t\tif (name === \"monnaie\") {\n\t\t\tif (value.length === 0) {\n\t\t\t\treturn this.setState({\n\t\t\t\t\tmonnaieError: true,\n\t\t\t\t\tformError: true\n\t\t\t\t});\n\t\t\t} else {\n\t\t\t\treturn this.setState({\n\t\t\t\t\tmonnaieError: false,\n\t\t\t\t\tformError: false\n\t\t\t\t});\n\t\t\t}\n\t\t}\n\t\tif (name === \"quantite\") {\n\t\t\tconst numVal = parseInt(value);\n\t\t\tif (value.length === 0 || numVal <= 0) {\n\t\t\t\treturn this.setState({\n\t\t\t\t\tquantiteError: true,\n\t\t\t\t\tformError: true\n\t\t\t\t});\n\t\t\t} else {\n\t\t\t\treturn this.setState({\n\t\t\t\t\tquantiteError: false,\n\t\t\t\t\tformError: false\n\t\t\t\t});\n\t\t\t}\n\t\t}\n\t};\n\n\thandleSubmit = async event => {\n\t\tevent.preventDefault();\n\t\tconst { clientName, quantite, monnaie, type } = this.state;\n\t\tif (!this.state.formError) {\n\t\t\tif (this.state.edit) {\n\t\t\t\tconst coinTrade = {\n\t\t\t\t\t...this.props.data,\n\t\t\t\t\tclient: clientName,\n\t\t\t\t\tquantite,\n\t\t\t\t\tmonnaie,\n\t\t\t\t\tidVendeur: this.props.user.authedUser._id,\n\t\t\t\t\ttype\n\t\t\t\t};\n\t\t\t\tthis.props.dispatch(modifyCoinTrade(coinTrade));\n\t\t\t\treturn this.setState({ helpModal: true });\n\t\t\t}\n\t\t\tconst coinTrade = {\n\t\t\t\tclient: clientName,\n\t\t\t\tquantite,\n\t\t\t\tmonnaie,\n\t\t\t\tidVendeur: this.props.user.authedUser._id,\n\t\t\t\ttype\n\t\t\t};\n\t\t\tthis.props.dispatch(createCoinTrade(coinTrade));\n\t\t\treturn this.setState({ helpModal: true });\n\t\t} else {\n\t\t\tthis.setState({ isModalOpen: true });\n\t\t}\n\t};\n\n\trenderMessages = field => {\n\t\tlet list = [];\n\t\tlet error = field.concat(\"Error\");\n\t\tswitch (field) {\n\t\t\tcase \"clientName\":\n\t\t\t\tlist = [\"Le Nom du Client ne peut pas être vide\"];\n\t\t\t\tbreak;\n\t\t\tcase \"monnaie\":\n\t\t\t\tlist = [\"Tu dois sélectionner une monnaie\"];\n\t\t\t\tbreak;\n\t\t\tcase \"quantite\":\n\t\t\t\tlist = [\"La Quantité ne peut pas être vide\", \"La Quantité doit être un numero > 0\"];\n\t\t\t\tbreak;\n\t\t\tdefault:\n\t\t\t\tlist = [];\n\t\t}\n\t\treturn (\n\t\t\t<Message style={this.state[error] ? { display: \"block\" } : { display: \"none\" }} error size=\"small\" list={list} />\n\t\t);\n\t};\n\n\trenderModal = isOpen => {\n\t\tlet Monnaie = find(this.props.taux.monnaies, { _id: this.state.monnaie });\n\t\tlet Recevoir = \"\";\n\t\tlet Payer = \"\";\n\t\tif (Monnaie !== undefined) {\n\t\t\tRecevoir =\n\t\t\t\tthis.state.type === \"vendre\"\n\t\t\t\t\t? \"$\" + this.state.quantite + \" HTD\"\n\t\t\t\t\t: \"$\" + this.state.quantite + \" \" + Monnaie.nom;\n\t\t\tPayer =\n\t\t\t\tthis.state.type === \"vendre\"\n\t\t\t\t\t? \"$\" + this.state.quantite / Monnaie.prixVente + \" \" + Monnaie.nom\n\t\t\t\t\t: \"$\" + this.state.quantite * Monnaie.prixAchat + \" HTD\";\n\t\t}\n\n\t\treturn (\n\t\t\t<Modal open={isOpen} onClose={this.handleFullClose} size=\"small\">\n\t\t\t\t<Modal.Content>\n\t\t\t\t\t<Form>\n\t\t\t\t\t\t<Form.Field className={styles.centered}>\n\t\t\t\t\t\t\tMontant a Recevoir: <strong>{Recevoir}</strong>\n\t\t\t\t\t\t</Form.Field>\n\t\t\t\t\t\t<Form.Field className={styles.centered}>\n\t\t\t\t\t\t\tMontant a Payer: <strong>{Payer}</strong>\n\t\t\t\t\t\t</Form.Field>\n\t\t\t\t\t</Form>\n\t\t\t\t</Modal.Content>\n\t\t\t\t<Modal.Actions>\n\t\t\t\t\t<Button primary content=\"Ok\" onClick={this.handleFullClose} />\n\t\t\t\t</Modal.Actions>\n\t\t\t</Modal>\n\t\t);\n\t};\n\n\trender() {\n\t\tconst options =\n\t\t\tthis.state.type === \"vendre\"\n\t\t\t\t? this.props.taux.monnaies.map(item => {\n\t\t\t\t\t\treturn { text: item.nom + \" $\" + item.prixVente + \" HTD\", value: item._id };\n\t\t\t\t  })\n\t\t\t\t: this.props.taux.monnaies.map(item => {\n\t\t\t\t\t\treturn { text: item.nom + \" $\" + item.prixAchat + \" HTD\", value: item._id };\n\t\t\t\t  });\n\t\tlet title = \"Entrain de Ajouter\";\n\t\tlet label = \"Ajouter\";\n\t\tif (this.state.edit) {\n\t\t\ttitle = \"Entrain de Modifier\";\n\t\t\tlabel = \"Modifier\";\n\t\t}\n\t\tlet QuantiteLabel = this.state.type === \"vendre\" ? \"Quantite en Gourde\" : \"Quantite\";\n\n\t\treturn (\n\t\t\t<Dimmer.Dimmable dimmed={this.state.isModalOpen}>\n\t\t\t\t<Dimmer verticalAlign=\"top\" active={this.state.isModalOpen} page onClickOutside={this.handleModalClose}>\n\t\t\t\t\t<Message className={styles.dimmerMargin} negative>\n\t\t\t\t\t\t<Message.Item className={styles.noStyleList}>\n\t\t\t\t\t\t\t<Icon name=\"warning sign\" size=\"huge\" />\n\t\t\t\t\t\t</Message.Item>\n\t\t\t\t\t\t<Message.Header>{this.state.headerErrorMessage}</Message.Header>\n\t\t\t\t\t\t<Message.Content>{this.state.contentErrorMessage}</Message.Content>\n\t\t\t\t\t</Message>\n\t\t\t\t</Dimmer>\n\t\t\t\t{this.renderModal(this.state.helpModal)}\n\t\t\t\t<Card fluid centered className={styles.boxContainerWide}>\n\t\t\t\t\t<Card.Content>\n\t\t\t\t\t\t<Card.Header className=\"font font-18\" textAlign=\"center\">\n\t\t\t\t\t\t\t{title}\n\t\t\t\t\t\t</Card.Header>\n\t\t\t\t\t\t<Card.Meta className=\"font font-16\" textAlign=\"center\">\n\t\t\t\t\t\t\tCompleter les champs du formulaire\n\t\t\t\t\t\t</Card.Meta>\n\t\t\t\t\t\t<div className={styles.basicFormContainer}>\n\t\t\t\t\t\t\t<Form className={styles.basicFormWidth}>\n\t\t\t\t\t\t\t\t<Form.Group grouped>\n\t\t\t\t\t\t\t\t\t<Form.Field required>\n\t\t\t\t\t\t\t\t\t\t<label className={styles.basicFormSpacing}>Nom du Client</label>\n\t\t\t\t\t\t\t\t\t\t<Input\n\t\t\t\t\t\t\t\t\t\t\ticon=\"code\"\n\t\t\t\t\t\t\t\t\t\t\ticonPosition=\"left\"\n\t\t\t\t\t\t\t\t\t\t\tplaceholder=\"Nom du Client\"\n\t\t\t\t\t\t\t\t\t\t\tname=\"clientName\"\n\t\t\t\t\t\t\t\t\t\t\tonChange={this.handleChange}\n\t\t\t\t\t\t\t\t\t\t\tvalue={this.state.clientName}\n\t\t\t\t\t\t\t\t\t\t\tonKeyUp={this.handleInputError}\n\t\t\t\t\t\t\t\t\t\t\tonBlur={this.state.clientNameError ? null : this.handleInputError}\n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t{this.renderMessages(\"clientName\")}\n\t\t\t\t\t\t\t\t\t</Form.Field>\n\t\t\t\t\t\t\t\t\t<Form.Field required>\n\t\t\t\t\t\t\t\t\t\t<label className={styles.basicFormSpacing}>Monnaie</label>\n\t\t\t\t\t\t\t\t\t\t<Select\n\t\t\t\t\t\t\t\t\t\t\toptions={options}\n\t\t\t\t\t\t\t\t\t\t\tplaceholder=\"Monnaie\"\n\t\t\t\t\t\t\t\t\t\t\tname=\"monnaie\"\n\t\t\t\t\t\t\t\t\t\t\tonChange={this.handleSelectChange}\n\t\t\t\t\t\t\t\t\t\t\tvalue={this.state.monnaie}\n\t\t\t\t\t\t\t\t\t\t\tonKeyUp={this.handleInputError}\n\t\t\t\t\t\t\t\t\t\t\tonBlur={this.state.monnaieError ? null : this.handleInputError}\n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t{this.renderMessages(\"monnaie\")}\n\t\t\t\t\t\t\t\t\t</Form.Field>\n\t\t\t\t\t\t\t\t\t<Form.Field required>\n\t\t\t\t\t\t\t\t\t\t<label className={styles.basicFormSpacing}>{QuantiteLabel}</label>\n\t\t\t\t\t\t\t\t\t\t<Input\n\t\t\t\t\t\t\t\t\t\t\ttype=\"number\"\n\t\t\t\t\t\t\t\t\t\t\ticon=\"archive\"\n\t\t\t\t\t\t\t\t\t\t\ticonPosition=\"left\"\n\t\t\t\t\t\t\t\t\t\t\tplaceholder={QuantiteLabel}\n\t\t\t\t\t\t\t\t\t\t\tname=\"quantite\"\n\t\t\t\t\t\t\t\t\t\t\tonChange={this.handleChange}\n\t\t\t\t\t\t\t\t\t\t\tvalue={this.state.quantite}\n\t\t\t\t\t\t\t\t\t\t\tonKeyUp={this.handleInputError}\n\t\t\t\t\t\t\t\t\t\t\tonBlur={this.state.quantiteError ? null : this.handleInputError}\n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t{this.renderMessages(\"quantite\")}\n\t\t\t\t\t\t\t\t\t</Form.Field>\n\t\t\t\t\t\t\t\t</Form.Group>\n\t\t\t\t\t\t\t</Form>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div style={this.state.view ? { display: \"none\" } : { display: \"block\" }}>\n\t\t\t\t\t\t\t<Button fluid size=\"small\" color=\"teal\" content={label} onClick={this.handleSubmit} />\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</Card.Content>\n\t\t\t\t</Card>\n\t\t\t</Dimmer.Dimmable>\n\t\t);\n\t}\n}\n\nfunction mapStateToProps({ taux, user }) {\n\treturn { taux, user };\n}\n\nexport default connect(mapStateToProps)(CoinTradeForm);\n"]},"metadata":{},"sourceType":"module"}