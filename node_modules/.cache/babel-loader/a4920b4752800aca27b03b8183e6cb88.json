{"ast":null,"code":"import api from \"../../api\";\nexport var GET_PRODUCTS = \"GET_PRODUCTS\";\nexport var GET_PRODUCTS_SUCCESS = \"GET_PRODUCTS_SUCCESS\";\nexport var GET_PRODUCTS_FAIL = \"GET_PRODUCTS_FAIL\";\nexport var CREATE_PRODUCT = \"CREATE_PRODUCT\";\nexport var CREATE_PRODUCT_SUCCESS = \"CREATE_PRODUCT_SUCCESS\";\nexport var CREATE_PRODUCT_FAIL = \"CREATE_PRODUCT_FAIL\";\nexport var DELETE_PRODUCT = \"DELETE_PRODUCT\";\nexport var DELETE_PRODUCT_SUCCESS = \"DELETE_PRODUCT_SUCCESS\";\nexport var DELETE_PRODUCT_FAIL = \"DELETE_PRODUCT_FAIL\";\nexport var MODIFY_PRODUCT = \"MODIFY_PRODUCT\";\nexport var MODIFY_PRODUCT_SUCCESS = \"MODIFY_PRODUCT_SUCCESS\";\nexport var MODIFY_PRODUCT_FAIL = \"MODIFY_PRODUCT_FAIL\";\n\nfunction requestBegin(type) {\n  return {\n    type: type\n  };\n}\n\nfunction requestSuccess(type, data, message) {\n  return {\n    type: type,\n    payload: {\n      data: data,\n      message: message\n    }\n  };\n}\n\nfunction requestFail(type, message) {\n  return {\n    type: type,\n    payload: {\n      message: message\n    }\n  };\n}\n\nexport function getProducts() {\n  return function (dispatch) {\n    dispatch(requestBegin(GET_PRODUCTS));\n    return api.requestGET(\"/Iproduits\").then(function (objResponse) {\n      if (objResponse.data.success) {\n        dispatch(requestSuccess(GET_PRODUCTS_SUCCESS, objResponse.data.data, objResponse.data.message));\n      } else {\n        dispatch(requestFail(GET_PRODUCTS_FAIL, objResponse.data.message));\n      }\n    }).catch(function (objError) {\n      dispatch(requestFail(GET_PRODUCTS_FAIL, objError.response));\n    });\n  };\n}\nexport function createProduct(product, onClose) {\n  return function (dispatch) {\n    dispatch(requestBegin(CREATE_PRODUCT));\n    return api.requestPOST(\"/Iproduits\", {\n      nom: product.name,\n      provider: product.fournisseur,\n      unit: product.qty,\n      sellPrice: product.sellPrice,\n      buyPrice: product.buyPrice,\n      size: product.size,\n      Description: product.description,\n      limit: parseInt(product.limit)\n    }).then(function (objResponse) {\n      if (objResponse.data.success) {\n        dispatch(requestSuccess(CREATE_PRODUCT_SUCCESS, objResponse.data.data, objResponse.data.message));\n        onClose();\n      } else {\n        dispatch(requestFail(CREATE_PRODUCT_FAIL, objResponse.data.message));\n      }\n    }).catch(function (objError) {\n      dispatch(requestFail(CREATE_PRODUCT, objError.response));\n    });\n  };\n}\nexport function modifyProduct(product, onClose) {\n  return function (dispatch) {\n    dispatch(requestBegin(MODIFY_PRODUCT));\n    return api.requestPUT(\"/Iproduits/\".concat(product._id), {\n      nom: product.name,\n      provider: product.fournisseur,\n      unit: product.qty,\n      sellPrice: product.sellPrice,\n      buyPrice: product.buyPrice,\n      size: product.size,\n      Description: product.description,\n      limit: parseInt(product.limit)\n    }).then(function (objResponse) {\n      if (objResponse.data.success) {\n        dispatch(requestSuccess(MODIFY_PRODUCT_SUCCESS, objResponse.data.data, objResponse.data.message));\n        onClose();\n      } else {\n        dispatch(requestFail(MODIFY_PRODUCT_FAIL, objResponse.data.message));\n      }\n    }).catch(function (objError) {\n      dispatch(requestFail(MODIFY_PRODUCT_FAIL, objError.response));\n    });\n  };\n}\nexport function deleteProduct(productID, onClose) {\n  return function (dispatch) {\n    dispatch(requestBegin(DELETE_PRODUCT));\n    return api.requestDELETE(\"/Iproduits/\".concat(productID)).then(function (objResponse) {\n      if (objResponse.data.success) {\n        dispatch(requestSuccess(DELETE_PRODUCT_SUCCESS, productID, objResponse.data.message));\n        onClose();\n      } else {\n        dispatch(requestFail(DELETE_PRODUCT_FAIL, objResponse.data.message));\n      }\n    }).catch(function (objError) {\n      dispatch(requestFail(DELETE_PRODUCT_FAIL, objError.response));\n    });\n  };\n}","map":{"version":3,"sources":["/Users/sondley/Desktop/PapaRohenson/grandsud/src/redux/actions/product.js"],"names":["api","GET_PRODUCTS","GET_PRODUCTS_SUCCESS","GET_PRODUCTS_FAIL","CREATE_PRODUCT","CREATE_PRODUCT_SUCCESS","CREATE_PRODUCT_FAIL","DELETE_PRODUCT","DELETE_PRODUCT_SUCCESS","DELETE_PRODUCT_FAIL","MODIFY_PRODUCT","MODIFY_PRODUCT_SUCCESS","MODIFY_PRODUCT_FAIL","requestBegin","type","requestSuccess","data","message","payload","requestFail","getProducts","dispatch","requestGET","then","objResponse","success","catch","objError","response","createProduct","product","onClose","requestPOST","nom","name","provider","fournisseur","unit","qty","sellPrice","buyPrice","size","Description","description","limit","parseInt","modifyProduct","requestPUT","_id","deleteProduct","productID","requestDELETE"],"mappings":"AAAA,OAAOA,GAAP,MAAgB,WAAhB;AAEA,OAAO,IAAMC,YAAY,GAAG,cAArB;AACP,OAAO,IAAMC,oBAAoB,GAAG,sBAA7B;AACP,OAAO,IAAMC,iBAAiB,GAAG,mBAA1B;AACP,OAAO,IAAMC,cAAc,GAAG,gBAAvB;AACP,OAAO,IAAMC,sBAAsB,GAAG,wBAA/B;AACP,OAAO,IAAMC,mBAAmB,GAAG,qBAA5B;AACP,OAAO,IAAMC,cAAc,GAAG,gBAAvB;AACP,OAAO,IAAMC,sBAAsB,GAAG,wBAA/B;AACP,OAAO,IAAMC,mBAAmB,GAAG,qBAA5B;AACP,OAAO,IAAMC,cAAc,GAAG,gBAAvB;AACP,OAAO,IAAMC,sBAAsB,GAAG,wBAA/B;AACP,OAAO,IAAMC,mBAAmB,GAAG,qBAA5B;;AAEP,SAASC,YAAT,CAAsBC,IAAtB,EAA4B;AAC3B,SAAO;AAAEA,IAAAA,IAAI,EAAJA;AAAF,GAAP;AACA;;AAED,SAASC,cAAT,CAAwBD,IAAxB,EAA8BE,IAA9B,EAAoCC,OAApC,EAA6C;AAC5C,SAAO;AAAEH,IAAAA,IAAI,EAAJA,IAAF;AAAQI,IAAAA,OAAO,EAAE;AAAEF,MAAAA,IAAI,EAAJA,IAAF;AAAQC,MAAAA,OAAO,EAAPA;AAAR;AAAjB,GAAP;AACA;;AAED,SAASE,WAAT,CAAqBL,IAArB,EAA2BG,OAA3B,EAAoC;AACnC,SAAO;AAAEH,IAAAA,IAAI,EAAJA,IAAF;AAAQI,IAAAA,OAAO,EAAE;AAAED,MAAAA,OAAO,EAAPA;AAAF;AAAjB,GAAP;AACA;;AAED,OAAO,SAASG,WAAT,GAAuB;AAC7B,SAAO,UAAAC,QAAQ,EAAI;AAClBA,IAAAA,QAAQ,CAACR,YAAY,CAACZ,YAAD,CAAb,CAAR;AACA,WAAOD,GAAG,CACRsB,UADK,CACM,YADN,EAELC,IAFK,CAEA,UAAAC,WAAW,EAAI;AACpB,UAAIA,WAAW,CAACR,IAAZ,CAAiBS,OAArB,EAA8B;AAC7BJ,QAAAA,QAAQ,CAACN,cAAc,CAACb,oBAAD,EAAuBsB,WAAW,CAACR,IAAZ,CAAiBA,IAAxC,EAA8CQ,WAAW,CAACR,IAAZ,CAAiBC,OAA/D,CAAf,CAAR;AACA,OAFD,MAEO;AACNI,QAAAA,QAAQ,CAACF,WAAW,CAAChB,iBAAD,EAAoBqB,WAAW,CAACR,IAAZ,CAAiBC,OAArC,CAAZ,CAAR;AACA;AACD,KARK,EASLS,KATK,CASC,UAAAC,QAAQ,EAAI;AAClBN,MAAAA,QAAQ,CAACF,WAAW,CAAChB,iBAAD,EAAoBwB,QAAQ,CAACC,QAA7B,CAAZ,CAAR;AACA,KAXK,CAAP;AAYA,GAdD;AAeA;AAED,OAAO,SAASC,aAAT,CAAuBC,OAAvB,EAAgCC,OAAhC,EAAyC;AAC/C,SAAO,UAAAV,QAAQ,EAAI;AAClBA,IAAAA,QAAQ,CAACR,YAAY,CAACT,cAAD,CAAb,CAAR;AACA,WAAOJ,GAAG,CACRgC,WADK,CACO,YADP,EACqB;AAC1BC,MAAAA,GAAG,EAAEH,OAAO,CAACI,IADa;AAE1BC,MAAAA,QAAQ,EAAEL,OAAO,CAACM,WAFQ;AAG1BC,MAAAA,IAAI,EAAEP,OAAO,CAACQ,GAHY;AAI1BC,MAAAA,SAAS,EAAET,OAAO,CAACS,SAJO;AAK1BC,MAAAA,QAAQ,EAAEV,OAAO,CAACU,QALQ;AAM1BC,MAAAA,IAAI,EAAEX,OAAO,CAACW,IANY;AAO1BC,MAAAA,WAAW,EAAEZ,OAAO,CAACa,WAPK;AAQ1BC,MAAAA,KAAK,EAAEC,QAAQ,CAACf,OAAO,CAACc,KAAT;AARW,KADrB,EAWLrB,IAXK,CAWA,UAAAC,WAAW,EAAI;AACpB,UAAIA,WAAW,CAACR,IAAZ,CAAiBS,OAArB,EAA8B;AAC7BJ,QAAAA,QAAQ,CAACN,cAAc,CAACV,sBAAD,EAAyBmB,WAAW,CAACR,IAAZ,CAAiBA,IAA1C,EAAgDQ,WAAW,CAACR,IAAZ,CAAiBC,OAAjE,CAAf,CAAR;AACAc,QAAAA,OAAO;AACP,OAHD,MAGO;AACNV,QAAAA,QAAQ,CAACF,WAAW,CAACb,mBAAD,EAAsBkB,WAAW,CAACR,IAAZ,CAAiBC,OAAvC,CAAZ,CAAR;AACA;AACD,KAlBK,EAmBLS,KAnBK,CAmBC,UAAAC,QAAQ,EAAI;AAClBN,MAAAA,QAAQ,CAACF,WAAW,CAACf,cAAD,EAAiBuB,QAAQ,CAACC,QAA1B,CAAZ,CAAR;AACA,KArBK,CAAP;AAsBA,GAxBD;AAyBA;AAED,OAAO,SAASkB,aAAT,CAAuBhB,OAAvB,EAAgCC,OAAhC,EAAyC;AAC/C,SAAO,UAAAV,QAAQ,EAAI;AAClBA,IAAAA,QAAQ,CAACR,YAAY,CAACH,cAAD,CAAb,CAAR;AACA,WAAOV,GAAG,CACR+C,UADK,sBACoBjB,OAAO,CAACkB,GAD5B,GACmC;AACxCf,MAAAA,GAAG,EAAEH,OAAO,CAACI,IAD2B;AAExCC,MAAAA,QAAQ,EAAEL,OAAO,CAACM,WAFsB;AAGxCC,MAAAA,IAAI,EAAEP,OAAO,CAACQ,GAH0B;AAIxCC,MAAAA,SAAS,EAAET,OAAO,CAACS,SAJqB;AAKxCC,MAAAA,QAAQ,EAAEV,OAAO,CAACU,QALsB;AAMxCC,MAAAA,IAAI,EAAEX,OAAO,CAACW,IAN0B;AAOxCC,MAAAA,WAAW,EAAEZ,OAAO,CAACa,WAPmB;AAQxCC,MAAAA,KAAK,EAAEC,QAAQ,CAACf,OAAO,CAACc,KAAT;AARyB,KADnC,EAWLrB,IAXK,CAWA,UAAAC,WAAW,EAAI;AACpB,UAAIA,WAAW,CAACR,IAAZ,CAAiBS,OAArB,EAA8B;AAC7BJ,QAAAA,QAAQ,CAACN,cAAc,CAACJ,sBAAD,EAAyBa,WAAW,CAACR,IAAZ,CAAiBA,IAA1C,EAAgDQ,WAAW,CAACR,IAAZ,CAAiBC,OAAjE,CAAf,CAAR;AACAc,QAAAA,OAAO;AACP,OAHD,MAGO;AACNV,QAAAA,QAAQ,CAACF,WAAW,CAACP,mBAAD,EAAsBY,WAAW,CAACR,IAAZ,CAAiBC,OAAvC,CAAZ,CAAR;AACA;AACD,KAlBK,EAmBLS,KAnBK,CAmBC,UAAAC,QAAQ,EAAI;AAClBN,MAAAA,QAAQ,CAACF,WAAW,CAACP,mBAAD,EAAsBe,QAAQ,CAACC,QAA/B,CAAZ,CAAR;AACA,KArBK,CAAP;AAsBA,GAxBD;AAyBA;AAED,OAAO,SAASqB,aAAT,CAAuBC,SAAvB,EAAkCnB,OAAlC,EAA2C;AACjD,SAAO,UAAAV,QAAQ,EAAI;AAClBA,IAAAA,QAAQ,CAACR,YAAY,CAACN,cAAD,CAAb,CAAR;AACA,WAAOP,GAAG,CACRmD,aADK,sBACuBD,SADvB,GAEL3B,IAFK,CAEA,UAAAC,WAAW,EAAI;AACpB,UAAIA,WAAW,CAACR,IAAZ,CAAiBS,OAArB,EAA8B;AAC7BJ,QAAAA,QAAQ,CAACN,cAAc,CAACP,sBAAD,EAAyB0C,SAAzB,EAAoC1B,WAAW,CAACR,IAAZ,CAAiBC,OAArD,CAAf,CAAR;AACAc,QAAAA,OAAO;AACP,OAHD,MAGO;AACNV,QAAAA,QAAQ,CAACF,WAAW,CAACV,mBAAD,EAAsBe,WAAW,CAACR,IAAZ,CAAiBC,OAAvC,CAAZ,CAAR;AACA;AACD,KATK,EAULS,KAVK,CAUC,UAAAC,QAAQ,EAAI;AAClBN,MAAAA,QAAQ,CAACF,WAAW,CAACV,mBAAD,EAAsBkB,QAAQ,CAACC,QAA/B,CAAZ,CAAR;AACA,KAZK,CAAP;AAaA,GAfD;AAgBA","sourcesContent":["import api from \"../../api\";\n\nexport const GET_PRODUCTS = \"GET_PRODUCTS\";\nexport const GET_PRODUCTS_SUCCESS = \"GET_PRODUCTS_SUCCESS\";\nexport const GET_PRODUCTS_FAIL = \"GET_PRODUCTS_FAIL\";\nexport const CREATE_PRODUCT = \"CREATE_PRODUCT\";\nexport const CREATE_PRODUCT_SUCCESS = \"CREATE_PRODUCT_SUCCESS\";\nexport const CREATE_PRODUCT_FAIL = \"CREATE_PRODUCT_FAIL\";\nexport const DELETE_PRODUCT = \"DELETE_PRODUCT\";\nexport const DELETE_PRODUCT_SUCCESS = \"DELETE_PRODUCT_SUCCESS\";\nexport const DELETE_PRODUCT_FAIL = \"DELETE_PRODUCT_FAIL\";\nexport const MODIFY_PRODUCT = \"MODIFY_PRODUCT\";\nexport const MODIFY_PRODUCT_SUCCESS = \"MODIFY_PRODUCT_SUCCESS\";\nexport const MODIFY_PRODUCT_FAIL = \"MODIFY_PRODUCT_FAIL\";\n\nfunction requestBegin(type) {\n\treturn { type };\n}\n\nfunction requestSuccess(type, data, message) {\n\treturn { type, payload: { data, message } };\n}\n\nfunction requestFail(type, message) {\n\treturn { type, payload: { message } };\n}\n\nexport function getProducts() {\n\treturn dispatch => {\n\t\tdispatch(requestBegin(GET_PRODUCTS));\n\t\treturn api\n\t\t\t.requestGET(\"/Iproduits\")\n\t\t\t.then(objResponse => {\n\t\t\t\tif (objResponse.data.success) {\n\t\t\t\t\tdispatch(requestSuccess(GET_PRODUCTS_SUCCESS, objResponse.data.data, objResponse.data.message));\n\t\t\t\t} else {\n\t\t\t\t\tdispatch(requestFail(GET_PRODUCTS_FAIL, objResponse.data.message));\n\t\t\t\t}\n\t\t\t})\n\t\t\t.catch(objError => {\n\t\t\t\tdispatch(requestFail(GET_PRODUCTS_FAIL, objError.response));\n\t\t\t});\n\t};\n}\n\nexport function createProduct(product, onClose) {\n\treturn dispatch => {\n\t\tdispatch(requestBegin(CREATE_PRODUCT));\n\t\treturn api\n\t\t\t.requestPOST(\"/Iproduits\", {\n\t\t\t\tnom: product.name,\n\t\t\t\tprovider: product.fournisseur,\n\t\t\t\tunit: product.qty,\n\t\t\t\tsellPrice: product.sellPrice,\n\t\t\t\tbuyPrice: product.buyPrice,\n\t\t\t\tsize: product.size,\n\t\t\t\tDescription: product.description,\n\t\t\t\tlimit: parseInt(product.limit)\n\t\t\t})\n\t\t\t.then(objResponse => {\n\t\t\t\tif (objResponse.data.success) {\n\t\t\t\t\tdispatch(requestSuccess(CREATE_PRODUCT_SUCCESS, objResponse.data.data, objResponse.data.message));\n\t\t\t\t\tonClose();\n\t\t\t\t} else {\n\t\t\t\t\tdispatch(requestFail(CREATE_PRODUCT_FAIL, objResponse.data.message));\n\t\t\t\t}\n\t\t\t})\n\t\t\t.catch(objError => {\n\t\t\t\tdispatch(requestFail(CREATE_PRODUCT, objError.response));\n\t\t\t});\n\t};\n}\n\nexport function modifyProduct(product, onClose) {\n\treturn dispatch => {\n\t\tdispatch(requestBegin(MODIFY_PRODUCT));\n\t\treturn api\n\t\t\t.requestPUT(`/Iproduits/${product._id}`, {\n\t\t\t\tnom: product.name,\n\t\t\t\tprovider: product.fournisseur,\n\t\t\t\tunit: product.qty,\n\t\t\t\tsellPrice: product.sellPrice,\n\t\t\t\tbuyPrice: product.buyPrice,\n\t\t\t\tsize: product.size,\n\t\t\t\tDescription: product.description,\n\t\t\t\tlimit: parseInt(product.limit)\n\t\t\t})\n\t\t\t.then(objResponse => {\n\t\t\t\tif (objResponse.data.success) {\n\t\t\t\t\tdispatch(requestSuccess(MODIFY_PRODUCT_SUCCESS, objResponse.data.data, objResponse.data.message));\n\t\t\t\t\tonClose();\n\t\t\t\t} else {\n\t\t\t\t\tdispatch(requestFail(MODIFY_PRODUCT_FAIL, objResponse.data.message));\n\t\t\t\t}\n\t\t\t})\n\t\t\t.catch(objError => {\n\t\t\t\tdispatch(requestFail(MODIFY_PRODUCT_FAIL, objError.response));\n\t\t\t});\n\t};\n}\n\nexport function deleteProduct(productID, onClose) {\n\treturn dispatch => {\n\t\tdispatch(requestBegin(DELETE_PRODUCT));\n\t\treturn api\n\t\t\t.requestDELETE(`/Iproduits/${productID}`)\n\t\t\t.then(objResponse => {\n\t\t\t\tif (objResponse.data.success) {\n\t\t\t\t\tdispatch(requestSuccess(DELETE_PRODUCT_SUCCESS, productID, objResponse.data.message));\n\t\t\t\t\tonClose();\n\t\t\t\t} else {\n\t\t\t\t\tdispatch(requestFail(DELETE_PRODUCT_FAIL, objResponse.data.message));\n\t\t\t\t}\n\t\t\t})\n\t\t\t.catch(objError => {\n\t\t\t\tdispatch(requestFail(DELETE_PRODUCT_FAIL, objError.response));\n\t\t\t});\n\t};\n}\n"]},"metadata":{},"sourceType":"module"}