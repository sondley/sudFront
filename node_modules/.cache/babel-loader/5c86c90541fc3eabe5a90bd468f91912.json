{"ast":null,"code":"import _objectSpread from \"/Users/sondley/Desktop/PapaRohenson/grandsud/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread\";\nimport { GET_SOLLICITUDES, GET_SOLLICITUDES_SUCCESS, GET_SOLLICITUDES_FAIL, CREATE_SOLLICITUDE, CREATE_SOLLICITUDE_SUCCESS, CREATE_SOLLICITUDE_FAIL, DELETE_SOLLICITUDE, DELETE_SOLLICITUDE_SUCCESS, DELETE_SOLLICITUDE_FAIL, MODIFY_SOLLICITUDE, MODIFY_SOLLICITUDE_SUCCESS, MODIFY_SOLLICITUDE_FAIL } from \"../actions/sollicitude\";\nimport { RESET_ERRORS } from \"../actions/utils\";\nimport { sortBy } from \"lodash\";\nexport default function sollicitude() {\n  var state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {\n    sollicitudes: [],\n    isFetching: false,\n    message: [],\n    error: false\n  };\n  var action = arguments.length > 1 ? arguments[1] : undefined;\n  var payload = action.payload,\n      type = action.type;\n  var message;\n\n  switch (type) {\n    case GET_SOLLICITUDES:\n      return _objectSpread({}, state, {\n        isFetching: true,\n        error: false\n      });\n\n    case CREATE_SOLLICITUDE:\n      return _objectSpread({}, state, {\n        isFetching: true,\n        error: false\n      });\n\n    case MODIFY_SOLLICITUDE:\n      return _objectSpread({}, state, {\n        isFetching: true,\n        error: false\n      });\n\n    case DELETE_SOLLICITUDE:\n      return _objectSpread({}, state, {\n        isFetching: true,\n        error: false\n      });\n\n    case GET_SOLLICITUDES_SUCCESS:\n      message = [].concat(payload.message);\n      var sollicitudes = sortBy(payload.data, [\"etat\", \"created\"]).reverse();\n      return _objectSpread({}, state, {\n        isFetching: false,\n        sollicitudes: sollicitudes,\n        error: false,\n        message: message\n      });\n\n    case CREATE_SOLLICITUDE_SUCCESS:\n      message = [].concat(payload.message);\n      return _objectSpread({}, state, {\n        isFetching: false,\n        sollicitudes: state.sollicitudes.concat(payload.data),\n        error: false,\n        message: message\n      });\n\n    case MODIFY_SOLLICITUDE_SUCCESS:\n      message = [].concat(payload.message);\n      var array = state.sollicitudes.map(function (sollicitude) {\n        if (sollicitude._id !== payload.data._id) {\n          return sollicitude;\n        }\n\n        return _objectSpread({}, sollicitude, payload.data);\n      });\n      return _objectSpread({}, state, {\n        isFetching: false,\n        sollicitudes: array,\n        error: false,\n        message: message\n      });\n\n    case DELETE_SOLLICITUDE_SUCCESS:\n      message = [].concat(payload.message);\n      return _objectSpread({}, state, {\n        isFetching: false,\n        sollicitudes: state.sollicitudes.filter(function (_ref) {\n          var _id = _ref._id;\n          return _id !== payload.data;\n        }),\n        error: false,\n        message: message\n      });\n\n    case GET_SOLLICITUDES_FAIL:\n      message = [].concat(payload.message);\n      return _objectSpread({}, state, {\n        isFetching: false,\n        error: true,\n        message: message\n      });\n\n    case CREATE_SOLLICITUDE_FAIL:\n      message = [].concat(payload.message);\n      return _objectSpread({}, state, {\n        isFetching: false,\n        error: true,\n        message: message\n      });\n\n    case MODIFY_SOLLICITUDE_FAIL:\n      message = [].concat(payload.message);\n      return _objectSpread({}, state, {\n        isFetching: false,\n        error: true,\n        message: message\n      });\n\n    case DELETE_SOLLICITUDE_FAIL:\n      message = [].concat(payload.message);\n      return _objectSpread({}, state, {\n        isFetching: false,\n        error: true,\n        message: message\n      });\n\n    case RESET_ERRORS:\n      return _objectSpread({}, state, {\n        error: false,\n        message: []\n      });\n\n    default:\n      return state;\n  }\n}","map":{"version":3,"sources":["/Users/sondley/Desktop/PapaRohenson/grandsud/src/redux/reducers/sollicitude.js"],"names":["GET_SOLLICITUDES","GET_SOLLICITUDES_SUCCESS","GET_SOLLICITUDES_FAIL","CREATE_SOLLICITUDE","CREATE_SOLLICITUDE_SUCCESS","CREATE_SOLLICITUDE_FAIL","DELETE_SOLLICITUDE","DELETE_SOLLICITUDE_SUCCESS","DELETE_SOLLICITUDE_FAIL","MODIFY_SOLLICITUDE","MODIFY_SOLLICITUDE_SUCCESS","MODIFY_SOLLICITUDE_FAIL","RESET_ERRORS","sortBy","sollicitude","state","sollicitudes","isFetching","message","error","action","payload","type","concat","data","reverse","array","map","_id","filter"],"mappings":"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","sourcesContent":["import {\n\tGET_SOLLICITUDES,\n\tGET_SOLLICITUDES_SUCCESS,\n\tGET_SOLLICITUDES_FAIL,\n\tCREATE_SOLLICITUDE,\n\tCREATE_SOLLICITUDE_SUCCESS,\n\tCREATE_SOLLICITUDE_FAIL,\n\tDELETE_SOLLICITUDE,\n\tDELETE_SOLLICITUDE_SUCCESS,\n\tDELETE_SOLLICITUDE_FAIL,\n\tMODIFY_SOLLICITUDE,\n\tMODIFY_SOLLICITUDE_SUCCESS,\n\tMODIFY_SOLLICITUDE_FAIL\n} from \"../actions/sollicitude\";\nimport { RESET_ERRORS } from \"../actions/utils\";\nimport { sortBy } from \"lodash\";\n\nexport default function sollicitude(\n\tstate = { sollicitudes: [], isFetching: false, message: [], error: false },\n\taction\n) {\n\tconst { payload, type } = action;\n\tlet message;\n\tswitch (type) {\n\t\tcase GET_SOLLICITUDES:\n\t\t\treturn { ...state, isFetching: true, error: false };\n\t\tcase CREATE_SOLLICITUDE:\n\t\t\treturn { ...state, isFetching: true, error: false };\n\t\tcase MODIFY_SOLLICITUDE:\n\t\t\treturn { ...state, isFetching: true, error: false };\n\t\tcase DELETE_SOLLICITUDE:\n\t\t\treturn { ...state, isFetching: true, error: false };\n\n\t\tcase GET_SOLLICITUDES_SUCCESS:\n\t\t\tmessage = [].concat(payload.message);\n\t\t\tconst sollicitudes = sortBy(payload.data, [\"etat\", \"created\"]).reverse();\n\t\t\treturn { ...state, isFetching: false, sollicitudes, error: false, message };\n\t\tcase CREATE_SOLLICITUDE_SUCCESS:\n\t\t\tmessage = [].concat(payload.message);\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tisFetching: false,\n\t\t\t\tsollicitudes: state.sollicitudes.concat(payload.data),\n\t\t\t\terror: false,\n\t\t\t\tmessage\n\t\t\t};\n\t\tcase MODIFY_SOLLICITUDE_SUCCESS:\n\t\t\tmessage = [].concat(payload.message);\n\t\t\tconst array = state.sollicitudes.map(sollicitude => {\n\t\t\t\tif (sollicitude._id !== payload.data._id) {\n\t\t\t\t\treturn sollicitude;\n\t\t\t\t}\n\t\t\t\treturn { ...sollicitude, ...payload.data };\n\t\t\t});\n\t\t\treturn { ...state, isFetching: false, sollicitudes: array, error: false, message };\n\t\tcase DELETE_SOLLICITUDE_SUCCESS:\n\t\t\tmessage = [].concat(payload.message);\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tisFetching: false,\n\t\t\t\tsollicitudes: state.sollicitudes.filter(({ _id }) => _id !== payload.data),\n\t\t\t\terror: false,\n\t\t\t\tmessage\n\t\t\t};\n\n\t\tcase GET_SOLLICITUDES_FAIL:\n\t\t\tmessage = [].concat(payload.message);\n\t\t\treturn { ...state, isFetching: false, error: true, message };\n\t\tcase CREATE_SOLLICITUDE_FAIL:\n\t\t\tmessage = [].concat(payload.message);\n\t\t\treturn { ...state, isFetching: false, error: true, message };\n\t\tcase MODIFY_SOLLICITUDE_FAIL:\n\t\t\tmessage = [].concat(payload.message);\n\t\t\treturn { ...state, isFetching: false, error: true, message };\n\t\tcase DELETE_SOLLICITUDE_FAIL:\n\t\t\tmessage = [].concat(payload.message);\n\t\t\treturn { ...state, isFetching: false, error: true, message };\n\n\t\tcase RESET_ERRORS:\n\t\t\treturn { ...state, error: false, message: [] };\n\n\t\tdefault:\n\t\t\treturn state;\n\t}\n}\n"]},"metadata":{},"sourceType":"module"}