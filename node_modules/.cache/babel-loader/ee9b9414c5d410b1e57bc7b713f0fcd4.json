{"ast":null,"code":"import api from \"../../api\";\nimport { getProducts } from \"./product\";\nimport { getProviders } from \"./provider\";\nexport var GET_BUYS = \"GET_BUYS\";\nexport var GET_BUYS_SUCCESS = \"GET_BUYS_SUCCESS\";\nexport var GET_BUYS_FAIL = \"GET_BUYS_FAIL\";\nexport var CREATE_BUY = \"CREATE_BUY\";\nexport var CREATE_BUY_SUCCESS = \"CREATE_BUY_SUCCESS\";\nexport var CREATE_BUY_FAIL = \"CREATE_BUY_FAIL\";\n\nfunction requestBegin(type) {\n  return {\n    type: type\n  };\n}\n\nfunction requestSuccess(type, buy, message) {\n  return {\n    type: type,\n    payload: {\n      buy: buy,\n      message: message\n    }\n  };\n}\n\nfunction requestFail(type, message) {\n  return {\n    type: type,\n    payload: {\n      message: message\n    }\n  };\n}\n\nexport function getBuys() {\n  return function (dispatch) {\n    dispatch(getProducts());\n    dispatch(getProviders());\n    dispatch(requestBegin(GET_BUYS));\n    return api.requestGET(\"/compras\").then(function (objResponse) {\n      dispatch(requestSuccess(GET_BUYS_SUCCESS, objResponse.data.results));\n    }).catch(function (objError) {\n      dispatch(requestFail(GET_BUYS_FAIL, objError));\n    });\n  };\n}\nexport function createBuy(buy, action) {\n  return function (dispatch) {\n    dispatch(requestBegin(CREATE_BUY));\n    return api.requestPOST(\"users/compras\", {\n      numero_compra: buy.numero_compra,\n      comprador: buy.comprador,\n      moneda: buy.moneda,\n      subtotal: buy.subtotal,\n      total_iva: buy.total_iva,\n      total: buy.total,\n      tipo_pago: buy.tipo_pago,\n      descuento: buy.descuento,\n      importe: buy.importe,\n      proveedor_id: buy.proveedor_id,\n      productos: buy.productos\n    }).then(function (objResponse) {\n      dispatch(requestSuccess(CREATE_BUY_SUCCESS, objResponse.data));\n      action();\n    }).catch(function (objError) {\n      dispatch(requestFail(CREATE_BUY_FAIL, objError));\n    });\n  };\n}","map":{"version":3,"sources":["/Users/sondley/Desktop/PapaRohenson/grandsud/src/redux/actions/buys.js"],"names":["api","getProducts","getProviders","GET_BUYS","GET_BUYS_SUCCESS","GET_BUYS_FAIL","CREATE_BUY","CREATE_BUY_SUCCESS","CREATE_BUY_FAIL","requestBegin","type","requestSuccess","buy","message","payload","requestFail","getBuys","dispatch","requestGET","then","objResponse","data","results","catch","objError","createBuy","action","requestPOST","numero_compra","comprador","moneda","subtotal","total_iva","total","tipo_pago","descuento","importe","proveedor_id","productos"],"mappings":"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","sourcesContent":["import api from \"../../api\";\nimport { getProducts } from \"./product\";\nimport { getProviders } from \"./provider\";\n\nexport const GET_BUYS = \"GET_BUYS\";\nexport const GET_BUYS_SUCCESS = \"GET_BUYS_SUCCESS\";\nexport const GET_BUYS_FAIL = \"GET_BUYS_FAIL\";\nexport const CREATE_BUY = \"CREATE_BUY\";\nexport const CREATE_BUY_SUCCESS = \"CREATE_BUY_SUCCESS\";\nexport const CREATE_BUY_FAIL = \"CREATE_BUY_FAIL\";\n\nfunction requestBegin(type) {\n  return { type };\n}\n\nfunction requestSuccess(type, buy, message) {\n  return { type, payload: { buy, message } };\n}\n\nfunction requestFail(type, message) {\n  return { type, payload: { message } };\n}\n\nexport function getBuys() {\n  return dispatch => {\n    dispatch(getProducts());\n    dispatch(getProviders());\n    dispatch(requestBegin(GET_BUYS));\n    return api\n      .requestGET(\"/compras\")\n      .then(objResponse => {\n        dispatch(requestSuccess(GET_BUYS_SUCCESS, objResponse.data.results));\n      })\n      .catch(objError => {\n        dispatch(requestFail(GET_BUYS_FAIL, objError));\n      });\n  };\n}\n\nexport function createBuy(buy, action) {\n  return dispatch => {\n    dispatch(requestBegin(CREATE_BUY));\n    return api\n      .requestPOST(\"users/compras\", {\n        numero_compra: buy.numero_compra,\n        comprador: buy.comprador,\n        moneda: buy.moneda,\n        subtotal: buy.subtotal,\n        total_iva: buy.total_iva,\n        total: buy.total,\n        tipo_pago: buy.tipo_pago,\n        descuento: buy.descuento,\n        importe: buy.importe,\n        proveedor_id: buy.proveedor_id,\n        productos: buy.productos\n      })\n      .then(objResponse => {\n        dispatch(requestSuccess(CREATE_BUY_SUCCESS, objResponse.data));\n        action();\n      })\n      .catch(objError => {\n        dispatch(requestFail(CREATE_BUY_FAIL, objError));\n      });\n  };\n}"]},"metadata":{},"sourceType":"module"}