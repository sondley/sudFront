{"ast":null,"code":"import _defineProperty from \"/Users/sondley/Desktop/PapaRohenson/sudFront/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";\nimport _regeneratorRuntime from \"/Users/sondley/Desktop/PapaRohenson/sudFront/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"/Users/sondley/Desktop/PapaRohenson/sudFront/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nimport _classCallCheck from \"/Users/sondley/Desktop/PapaRohenson/sudFront/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/sondley/Desktop/PapaRohenson/sudFront/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/sondley/Desktop/PapaRohenson/sudFront/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/sondley/Desktop/PapaRohenson/sudFront/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/sondley/Desktop/PapaRohenson/sudFront/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/Users/sondley/Desktop/PapaRohenson/sudFront/src/components/debt-table/debttable.js\";\nimport React, { PureComponent } from \"react\";\nimport { connect } from \"react-redux\";\nimport { Button, Icon, Table, Pagination, Dimmer, Loader, Modal, Form, Input } from \"semantic-ui-react\";\nimport { isEmpty } from \"lodash\"; //Logic\n\nimport { getDebtsClient, getDebtsProvider, modifyDebtClient, modifyDebtProvider } from \"../../redux/actions/debt\"; //Styles\n\nimport styles from \"./debttable.module.css\";\n\nvar DebtTable =\n/*#__PURE__*/\nfunction (_PureComponent) {\n  _inherits(DebtTable, _PureComponent);\n\n  function DebtTable(props) {\n    var _this;\n\n    _classCallCheck(this, DebtTable);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(DebtTable).call(this, props));\n    _this.componentDidMount =\n    /*#__PURE__*/\n    _asyncToGenerator(\n    /*#__PURE__*/\n    _regeneratorRuntime.mark(function _callee() {\n      var allItems, totalPages, currentItems;\n      return _regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              allItems = [];\n\n              if (!(_this.state.type === \"payer\")) {\n                _context.next = 7;\n                break;\n              }\n\n              _context.next = 4;\n              return _this.props.dispatch(getDebtsProvider());\n\n            case 4:\n              allItems = _this.props.debt.debtProvider;\n              _context.next = 10;\n              break;\n\n            case 7:\n              _context.next = 9;\n              return _this.props.dispatch(getDebtsClient());\n\n            case 9:\n              allItems = _this.props.debt.debtClient;\n\n            case 10:\n              totalPages = Math.ceil(allItems.length / _this.state.pageLimit);\n              currentItems = allItems.slice(0, _this.state.pageLimit);\n\n              _this.setState({\n                allItems: allItems,\n                currentItems: currentItems,\n                totalPages: totalPages\n              });\n\n            case 13:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee, this);\n    }));\n\n    _this.componentDidUpdate = function () {\n      if (_this.state.type === \"payer\") {\n        if (_this.state.allItems !== _this.props.debt.debtProvider) {\n          var allItems = _this.props.debt.debtProvider;\n          var totalPages = Math.ceil(allItems.length / _this.state.pageLimit);\n          var currentItems = allItems.slice(0, _this.state.pageLimit);\n\n          _this.setState({\n            allItems: allItems,\n            currentItems: currentItems,\n            totalPages: totalPages\n          });\n        }\n      } else {\n        if (_this.state.allItems !== _this.props.debt.debtClient) {\n          var _allItems = _this.props.debt.debtClient;\n\n          var _totalPages = Math.ceil(_allItems.length / _this.state.pageLimit);\n\n          var _currentItems = _allItems.slice(0, _this.state.pageLimit);\n\n          _this.setState({\n            allItems: _allItems,\n            currentItems: _currentItems,\n            totalPages: _totalPages\n          });\n        }\n      }\n    };\n\n    _this.onPageChanged = function (e, data) {\n      e.preventDefault();\n      var _this$state = _this.state,\n          allItems = _this$state.allItems,\n          pageLimit = _this$state.pageLimit;\n      var activePage = data.activePage;\n      var offset = (activePage - 1) * pageLimit;\n      var currentItems = allItems.slice(offset, offset + pageLimit);\n\n      _this.setState({\n        activePage: activePage,\n        currentItems: currentItems\n      });\n    };\n\n    _this.renderItemCount = function (itemRange, currentItems, totalItems) {\n      if (currentItems.length <= 1) {\n        return React.createElement(\"label\", {\n          className: styles.itemCount,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 74\n          },\n          __self: this\n        }, \"Items: \", itemRange + currentItems.length, \"/\", totalItems);\n      } else {\n        return React.createElement(\"label\", {\n          className: styles.itemCount,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 80\n          },\n          __self: this\n        }, \"Items: \", itemRange + 1, \"-\", itemRange + currentItems.length, \"/\", totalItems);\n      }\n    };\n\n    _this.handleSubmit = function (e) {\n      e.preventDefault();\n      var item = {\n        idDette: _this.state.data._id,\n        quantite: _this.state.montant\n      };\n\n      if (_this.state.type === \"payer\") {\n        return _this.props.dispatch(modifyDebtProvider(item, _this.handleCloseModal));\n      }\n\n      return _this.props.dispatch(modifyDebtClient(item, _this.handleCloseModal));\n    };\n\n    _this.handleInputOnChange = function (event) {\n      var _event$target = event.target,\n          name = _event$target.name,\n          value = _event$target.value;\n\n      _this.setState(_defineProperty({}, name, value));\n    };\n\n    _this.handleOpenModal = function (e, item) {\n      e.preventDefault();\n      e.stopPropagation();\n\n      _this.setState({\n        data: item,\n        editModal: true\n      });\n    };\n\n    _this.handleCloseModal = function () {\n      _this.setState({\n        editModal: false\n      });\n    };\n\n    _this.handleChange = function (e, _ref2) {\n      var value = _ref2.value;\n      return _this.setState({\n        value: value\n      });\n    };\n\n    _this.renderTableRows = function (data) {\n      if (!isEmpty(data)) {\n        var rows = data.map(function (item) {\n          var salaire = \"$\" + item.quantite + \".00 HTD\";\n\n          if (_this.state.type === \"payer\") {\n            return React.createElement(Table.Row, {\n              key: item._id,\n              negative: true,\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 122\n              },\n              __self: this\n            }, React.createElement(Table.Cell, {\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 123\n              },\n              __self: this\n            }, item.nomProvider), React.createElement(Table.Cell, {\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 124\n              },\n              __self: this\n            }, salaire), React.createElement(Table.Cell, {\n              collapsing: true,\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 125\n              },\n              __self: this\n            }, React.createElement(Button, {\n              className: styles.fontSize,\n              content: \"Realiser Paiement\",\n              color: \"orange\",\n              onClick: function onClick(e) {\n                _this.handleOpenModal(e, item);\n              },\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 126\n              },\n              __self: this\n            })));\n          }\n\n          return React.createElement(Table.Row, {\n            key: item._id,\n            positive: true,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 139\n            },\n            __self: this\n          }, React.createElement(Table.Cell, {\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 140\n            },\n            __self: this\n          }, item.nomClient), React.createElement(Table.Cell, {\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 141\n            },\n            __self: this\n          }, salaire), React.createElement(Table.Cell, {\n            collapsing: true,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 142\n            },\n            __self: this\n          }, React.createElement(Button, {\n            className: styles.fontSize,\n            content: \"Recevoir Paiement\",\n            color: \"green\",\n            onClick: function onClick(e) {\n              _this.handleOpenModal(e, item);\n            },\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 143\n            },\n            __self: this\n          })));\n        });\n        return rows;\n      }\n\n      return;\n    };\n\n    _this.state = {\n      editModal: false,\n      type: _this.props.type,\n      salaire: 0,\n      allItems: [],\n      currentItems: [],\n      totalPages: 0,\n      activePage: 1,\n      pageLimit: 10,\n      montant: \"\",\n      data: {}\n    };\n    return _this;\n  }\n\n  _createClass(DebtTable, [{\n    key: \"render\",\n    value: function render() {\n      var _this$state2 = this.state,\n          allItems = _this$state2.allItems,\n          currentItems = _this$state2.currentItems,\n          activePage = _this$state2.activePage,\n          totalPages = _this$state2.totalPages,\n          pageLimit = _this$state2.pageLimit,\n          type = _this$state2.type,\n          data = _this$state2.data;\n      var itemRange = (activePage - 1) * pageLimit;\n      var totalItems = allItems.length;\n      var message = type === \"payer\" ? \"Montant a Payer: $\" + data.quantite + \".00 HTD\" : \"Montant a Recevoir: $\" + data.quantite + \".00 HTD\";\n\n      if (type === \"payer\") {\n        return React.createElement(Dimmer.Dimmable, {\n          blurring: true,\n          dimmed: this.props.debt.isFetching,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 171\n          },\n          __self: this\n        }, React.createElement(Dimmer, {\n          page: true,\n          active: this.props.debt.isFetching,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 172\n          },\n          __self: this\n        }, React.createElement(Loader, {\n          size: \"huge\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 173\n          },\n          __self: this\n        }, \"Loading...\")), React.createElement(Modal, {\n          size: \"small\",\n          open: this.state.editModal,\n          onClose: this.handleCloseModal,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 175\n          },\n          __self: this\n        }, React.createElement(Modal.Header, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 176\n          },\n          __self: this\n        }, \"Realiser Paiement\"), React.createElement(Modal.Content, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 177\n          },\n          __self: this\n        }, React.createElement(Form, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 178\n          },\n          __self: this\n        }, React.createElement(Form.Field, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 179\n          },\n          __self: this\n        }, message), React.createElement(Form.Field, {\n          required: true,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 180\n          },\n          __self: this\n        }, React.createElement(\"label\", {\n          className: styles.basicFormSpacing,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 181\n          },\n          __self: this\n        }, \"Montant\"), React.createElement(Input, {\n          icon: \"money\",\n          iconPosition: \"left\",\n          placeholder: \"Montant\",\n          name: \"montant\",\n          type: \"number\",\n          onChange: this.handleInputOnChange,\n          value: this.state.montant,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 182\n          },\n          __self: this\n        })))), React.createElement(Modal.Actions, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 194\n          },\n          __self: this\n        }, React.createElement(Button, {\n          className: styles.rightSpacing,\n          negative: true,\n          icon: \"cancel\",\n          labelPosition: \"right\",\n          content: \"Non\",\n          onClick: this.handleCloseModal,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 195\n          },\n          __self: this\n        }), React.createElement(Button, {\n          className: styles.leftSpacing,\n          positive: true,\n          icon: \"checkmark\",\n          labelPosition: \"right\",\n          content: \"Oui\",\n          onClick: this.handleSubmit,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 203\n          },\n          __self: this\n        }))), React.createElement(\"div\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 213\n          },\n          __self: this\n        }, React.createElement(Table, {\n          selectable: true,\n          compact: true,\n          celled: true,\n          striped: true,\n          size: \"small\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 214\n          },\n          __self: this\n        }, React.createElement(Table.Header, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 215\n          },\n          __self: this\n        }, React.createElement(Table.Row, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 216\n          },\n          __self: this\n        }, React.createElement(Table.HeaderCell, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 217\n          },\n          __self: this\n        }, \"Fournisseur\"), React.createElement(Table.HeaderCell, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 218\n          },\n          __self: this\n        }, \"Montant\"), React.createElement(Table.HeaderCell, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 219\n          },\n          __self: this\n        }, \"Actions\"))), React.createElement(Table.Body, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 223\n          },\n          __self: this\n        }, this.renderTableRows(currentItems))), React.createElement(\"div\", {\n          className: styles.pagination,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 225\n          },\n          __self: this\n        }, React.createElement(Pagination, {\n          activePage: activePage,\n          ellipsisItem: {\n            content: React.createElement(Icon, {\n              name: \"ellipsis horizontal\",\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 228\n              },\n              __self: this\n            }),\n            icon: true\n          },\n          firstItem: {\n            content: React.createElement(Icon, {\n              name: \"angle double left\",\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 229\n              },\n              __self: this\n            }),\n            icon: true\n          },\n          lastItem: {\n            content: React.createElement(Icon, {\n              name: \"angle double right\",\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 230\n              },\n              __self: this\n            }),\n            icon: true\n          },\n          prevItem: {\n            content: React.createElement(Icon, {\n              name: \"angle left\",\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 231\n              },\n              __self: this\n            }),\n            icon: true\n          },\n          nextItem: {\n            content: React.createElement(Icon, {\n              name: \"angle right\",\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 232\n              },\n              __self: this\n            }),\n            icon: true\n          },\n          totalPages: totalPages,\n          onPageChange: this.onPageChanged,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 226\n          },\n          __self: this\n        }), this.renderItemCount(itemRange, currentItems, totalItems))));\n      }\n\n      return React.createElement(Dimmer.Dimmable, {\n        blurring: true,\n        dimmed: this.props.debt.isFetching,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 243\n        },\n        __self: this\n      }, React.createElement(Dimmer, {\n        page: true,\n        active: this.props.debt.isFetching,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 244\n        },\n        __self: this\n      }, React.createElement(Loader, {\n        size: \"huge\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 245\n        },\n        __self: this\n      }, \"Loading...\")), React.createElement(Modal, {\n        size: \"small\",\n        open: this.state.editModal,\n        onClose: this.handleCloseModal,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 247\n        },\n        __self: this\n      }, React.createElement(Modal.Header, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 248\n        },\n        __self: this\n      }, \"Realiser Paiement\"), React.createElement(Modal.Content, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 249\n        },\n        __self: this\n      }, React.createElement(Form, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 250\n        },\n        __self: this\n      }, React.createElement(Form.Field, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 251\n        },\n        __self: this\n      }, message), React.createElement(Form.Field, {\n        required: true,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 252\n        },\n        __self: this\n      }, React.createElement(\"label\", {\n        className: styles.basicFormSpacing,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 253\n        },\n        __self: this\n      }, \"Montant\"), React.createElement(Input, {\n        icon: \"money\",\n        iconPosition: \"left\",\n        placeholder: \"Montant\",\n        name: \"montant\",\n        type: \"number\",\n        onChange: this.handleInputOnChange,\n        value: this.state.montant,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 254\n        },\n        __self: this\n      })))), React.createElement(Modal.Actions, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 266\n        },\n        __self: this\n      }, React.createElement(Button, {\n        className: styles.rightSpacing,\n        negative: true,\n        icon: \"cancel\",\n        labelPosition: \"right\",\n        content: \"Non\",\n        onClick: this.handleCloseModal,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 267\n        },\n        __self: this\n      }), React.createElement(Button, {\n        className: styles.leftSpacing,\n        positive: true,\n        icon: \"checkmark\",\n        labelPosition: \"right\",\n        content: \"Oui\",\n        onClick: this.handleSubmit,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 275\n        },\n        __self: this\n      }))), React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 285\n        },\n        __self: this\n      }, React.createElement(Table, {\n        selectable: true,\n        compact: true,\n        celled: true,\n        striped: true,\n        size: \"small\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 286\n        },\n        __self: this\n      }, React.createElement(Table.Header, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 287\n        },\n        __self: this\n      }, React.createElement(Table.Row, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 288\n        },\n        __self: this\n      }, React.createElement(Table.HeaderCell, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 289\n        },\n        __self: this\n      }, \"Client\"), React.createElement(Table.HeaderCell, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 290\n        },\n        __self: this\n      }, \"Montant\"), React.createElement(Table.HeaderCell, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 291\n        },\n        __self: this\n      }, \"Actions\"))), React.createElement(Table.Body, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 295\n        },\n        __self: this\n      }, this.renderTableRows(currentItems))), React.createElement(\"div\", {\n        className: styles.pagination,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 297\n        },\n        __self: this\n      }, React.createElement(Pagination, {\n        activePage: activePage,\n        ellipsisItem: {\n          content: React.createElement(Icon, {\n            name: \"ellipsis horizontal\",\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 300\n            },\n            __self: this\n          }),\n          icon: true\n        },\n        firstItem: {\n          content: React.createElement(Icon, {\n            name: \"angle double left\",\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 301\n            },\n            __self: this\n          }),\n          icon: true\n        },\n        lastItem: {\n          content: React.createElement(Icon, {\n            name: \"angle double right\",\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 302\n            },\n            __self: this\n          }),\n          icon: true\n        },\n        prevItem: {\n          content: React.createElement(Icon, {\n            name: \"angle left\",\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 303\n            },\n            __self: this\n          }),\n          icon: true\n        },\n        nextItem: {\n          content: React.createElement(Icon, {\n            name: \"angle right\",\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 304\n            },\n            __self: this\n          }),\n          icon: true\n        },\n        totalPages: totalPages,\n        onPageChange: this.onPageChanged,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 298\n        },\n        __self: this\n      }), this.renderItemCount(itemRange, currentItems, totalItems))));\n    }\n  }]);\n\n  return DebtTable;\n}(PureComponent);\n\nfunction mapStateToProps(_ref3) {\n  var debt = _ref3.debt,\n      user = _ref3.user;\n  return {\n    debt: debt,\n    user: user\n  };\n}\n\nexport default connect(mapStateToProps)(DebtTable);","map":{"version":3,"sources":["/Users/sondley/Desktop/PapaRohenson/sudFront/src/components/debt-table/debttable.js"],"names":["React","PureComponent","connect","Button","Icon","Table","Pagination","Dimmer","Loader","Modal","Form","Input","isEmpty","getDebtsClient","getDebtsProvider","modifyDebtClient","modifyDebtProvider","styles","DebtTable","props","componentDidMount","allItems","state","type","dispatch","debt","debtProvider","debtClient","totalPages","Math","ceil","length","pageLimit","currentItems","slice","setState","componentDidUpdate","onPageChanged","e","data","preventDefault","activePage","offset","renderItemCount","itemRange","totalItems","itemCount","handleSubmit","item","idDette","_id","quantite","montant","handleCloseModal","handleInputOnChange","event","target","name","value","handleOpenModal","stopPropagation","editModal","handleChange","renderTableRows","rows","map","salaire","nomProvider","fontSize","nomClient","message","isFetching","basicFormSpacing","rightSpacing","leftSpacing","pagination","content","icon","mapStateToProps","user"],"mappings":"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","sourcesContent":["import React, { PureComponent } from \"react\";\nimport { connect } from \"react-redux\";\nimport { Button, Icon, Table, Pagination, Dimmer, Loader, Modal, Form, Input } from \"semantic-ui-react\";\nimport { isEmpty } from \"lodash\";\n\n//Logic\nimport { getDebtsClient, getDebtsProvider, modifyDebtClient, modifyDebtProvider } from \"../../redux/actions/debt\";\n\n//Styles\nimport styles from \"./debttable.module.css\";\n\nclass DebtTable extends PureComponent {\n\tconstructor(props) {\n\t\tsuper(props);\n\n\t\tthis.state = {\n\t\t\teditModal: false,\n\t\t\ttype: this.props.type,\n\t\t\tsalaire: 0,\n\t\t\tallItems: [],\n\t\t\tcurrentItems: [],\n\t\t\ttotalPages: 0,\n\t\t\tactivePage: 1,\n\t\t\tpageLimit: 10,\n\t\t\tmontant: \"\",\n\t\t\tdata: {}\n\t\t};\n\t}\n\n\tcomponentDidMount = async () => {\n\t\tlet allItems = [];\n\t\tif (this.state.type === \"payer\") {\n\t\t\tawait this.props.dispatch(getDebtsProvider());\n\t\t\tallItems = this.props.debt.debtProvider;\n\t\t} else {\n\t\t\tawait this.props.dispatch(getDebtsClient());\n\t\t\tallItems = this.props.debt.debtClient;\n\t\t}\n\t\tconst totalPages = Math.ceil(allItems.length / this.state.pageLimit);\n\t\tconst currentItems = allItems.slice(0, this.state.pageLimit);\n\t\tthis.setState({ allItems, currentItems, totalPages });\n\t};\n\n\tcomponentDidUpdate = () => {\n\t\tif (this.state.type === \"payer\") {\n\t\t\tif (this.state.allItems !== this.props.debt.debtProvider) {\n\t\t\t\tconst allItems = this.props.debt.debtProvider;\n\t\t\t\tconst totalPages = Math.ceil(allItems.length / this.state.pageLimit);\n\t\t\t\tconst currentItems = allItems.slice(0, this.state.pageLimit);\n\t\t\t\tthis.setState({ allItems, currentItems, totalPages });\n\t\t\t}\n\t\t} else {\n\t\t\tif (this.state.allItems !== this.props.debt.debtClient) {\n\t\t\t\tconst allItems = this.props.debt.debtClient;\n\t\t\t\tconst totalPages = Math.ceil(allItems.length / this.state.pageLimit);\n\t\t\t\tconst currentItems = allItems.slice(0, this.state.pageLimit);\n\t\t\t\tthis.setState({ allItems, currentItems, totalPages });\n\t\t\t}\n\t\t}\n\t};\n\n\tonPageChanged = (e, data) => {\n\t\te.preventDefault();\n\t\tconst { allItems, pageLimit } = this.state;\n\t\tconst { activePage } = data;\n\t\tconst offset = (activePage - 1) * pageLimit;\n\t\tconst currentItems = allItems.slice(offset, offset + pageLimit);\n\t\tthis.setState({ activePage, currentItems });\n\t};\n\n\trenderItemCount = (itemRange, currentItems, totalItems) => {\n\t\tif (currentItems.length <= 1) {\n\t\t\treturn (\n\t\t\t\t<label className={styles.itemCount}>\n\t\t\t\t\tItems: {itemRange + currentItems.length}/{totalItems}\n\t\t\t\t</label>\n\t\t\t);\n\t\t} else {\n\t\t\treturn (\n\t\t\t\t<label className={styles.itemCount}>\n\t\t\t\t\tItems: {itemRange + 1}-{itemRange + currentItems.length}/{totalItems}\n\t\t\t\t</label>\n\t\t\t);\n\t\t}\n\t};\n\n\thandleSubmit = e => {\n\t\te.preventDefault();\n\t\tconst item = {\n\t\t\tidDette: this.state.data._id,\n\t\t\tquantite: this.state.montant\n\t\t};\n\t\tif (this.state.type === \"payer\") {\n\t\t\treturn this.props.dispatch(modifyDebtProvider(item, this.handleCloseModal));\n\t\t}\n\t\treturn this.props.dispatch(modifyDebtClient(item, this.handleCloseModal));\n\t};\n\n\thandleInputOnChange = event => {\n\t\tconst { name, value } = event.target;\n\t\tthis.setState({ [name]: value });\n\t};\n\n\thandleOpenModal = (e, item) => {\n\t\te.preventDefault();\n\t\te.stopPropagation();\n\t\tthis.setState({ data: item, editModal: true });\n\t};\n\n\thandleCloseModal = () => {\n\t\tthis.setState({ editModal: false });\n\t};\n\n\thandleChange = (e, { value }) => this.setState({ value });\n\n\trenderTableRows = data => {\n\t\tif (!isEmpty(data)) {\n\t\t\tconst rows = data.map(item => {\n\t\t\t\tconst salaire = \"$\" + item.quantite + \".00 HTD\";\n\t\t\t\tif (this.state.type === \"payer\") {\n\t\t\t\t\treturn (\n\t\t\t\t\t\t<Table.Row key={item._id} negative>\n\t\t\t\t\t\t\t<Table.Cell>{item.nomProvider}</Table.Cell>\n\t\t\t\t\t\t\t<Table.Cell>{salaire}</Table.Cell>\n\t\t\t\t\t\t\t<Table.Cell collapsing>\n\t\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\t\tclassName={styles.fontSize}\n\t\t\t\t\t\t\t\t\tcontent=\"Realiser Paiement\"\n\t\t\t\t\t\t\t\t\tcolor=\"orange\"\n\t\t\t\t\t\t\t\t\tonClick={e => {\n\t\t\t\t\t\t\t\t\t\tthis.handleOpenModal(e, item);\n\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</Table.Cell>\n\t\t\t\t\t\t</Table.Row>\n\t\t\t\t\t);\n\t\t\t\t}\n\t\t\t\treturn (\n\t\t\t\t\t<Table.Row key={item._id} positive>\n\t\t\t\t\t\t<Table.Cell>{item.nomClient}</Table.Cell>\n\t\t\t\t\t\t<Table.Cell>{salaire}</Table.Cell>\n\t\t\t\t\t\t<Table.Cell collapsing>\n\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\tclassName={styles.fontSize}\n\t\t\t\t\t\t\t\tcontent=\"Recevoir Paiement\"\n\t\t\t\t\t\t\t\tcolor=\"green\"\n\t\t\t\t\t\t\t\tonClick={e => {\n\t\t\t\t\t\t\t\t\tthis.handleOpenModal(e, item);\n\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</Table.Cell>\n\t\t\t\t\t</Table.Row>\n\t\t\t\t);\n\t\t\t});\n\t\t\treturn rows;\n\t\t}\n\t\treturn;\n\t};\n\n\trender() {\n\t\tconst { allItems, currentItems, activePage, totalPages, pageLimit, type, data } = this.state;\n\t\tconst itemRange = (activePage - 1) * pageLimit;\n\t\tconst totalItems = allItems.length;\n\t\tconst message =\n\t\t\ttype === \"payer\"\n\t\t\t\t? \"Montant a Payer: $\" + data.quantite + \".00 HTD\"\n\t\t\t\t: \"Montant a Recevoir: $\" + data.quantite + \".00 HTD\";\n\n\t\tif (type === \"payer\") {\n\t\t\treturn (\n\t\t\t\t<Dimmer.Dimmable blurring dimmed={this.props.debt.isFetching}>\n\t\t\t\t\t<Dimmer page active={this.props.debt.isFetching}>\n\t\t\t\t\t\t<Loader size=\"huge\">Loading...</Loader>\n\t\t\t\t\t</Dimmer>\n\t\t\t\t\t<Modal size=\"small\" open={this.state.editModal} onClose={this.handleCloseModal}>\n\t\t\t\t\t\t<Modal.Header>Realiser Paiement</Modal.Header>\n\t\t\t\t\t\t<Modal.Content>\n\t\t\t\t\t\t\t<Form>\n\t\t\t\t\t\t\t\t<Form.Field>{message}</Form.Field>\n\t\t\t\t\t\t\t\t<Form.Field required>\n\t\t\t\t\t\t\t\t\t<label className={styles.basicFormSpacing}>Montant</label>\n\t\t\t\t\t\t\t\t\t<Input\n\t\t\t\t\t\t\t\t\t\ticon=\"money\"\n\t\t\t\t\t\t\t\t\t\ticonPosition=\"left\"\n\t\t\t\t\t\t\t\t\t\tplaceholder=\"Montant\"\n\t\t\t\t\t\t\t\t\t\tname=\"montant\"\n\t\t\t\t\t\t\t\t\t\ttype=\"number\"\n\t\t\t\t\t\t\t\t\t\tonChange={this.handleInputOnChange}\n\t\t\t\t\t\t\t\t\t\tvalue={this.state.montant}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t</Form.Field>\n\t\t\t\t\t\t\t</Form>\n\t\t\t\t\t\t</Modal.Content>\n\t\t\t\t\t\t<Modal.Actions>\n\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\tclassName={styles.rightSpacing}\n\t\t\t\t\t\t\t\tnegative\n\t\t\t\t\t\t\t\ticon=\"cancel\"\n\t\t\t\t\t\t\t\tlabelPosition=\"right\"\n\t\t\t\t\t\t\t\tcontent=\"Non\"\n\t\t\t\t\t\t\t\tonClick={this.handleCloseModal}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\tclassName={styles.leftSpacing}\n\t\t\t\t\t\t\t\tpositive\n\t\t\t\t\t\t\t\ticon=\"checkmark\"\n\t\t\t\t\t\t\t\tlabelPosition=\"right\"\n\t\t\t\t\t\t\t\tcontent=\"Oui\"\n\t\t\t\t\t\t\t\tonClick={this.handleSubmit}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</Modal.Actions>\n\t\t\t\t\t</Modal>\n\t\t\t\t\t<div>\n\t\t\t\t\t\t<Table selectable compact celled striped size=\"small\">\n\t\t\t\t\t\t\t<Table.Header>\n\t\t\t\t\t\t\t\t<Table.Row>\n\t\t\t\t\t\t\t\t\t<Table.HeaderCell>Fournisseur</Table.HeaderCell>\n\t\t\t\t\t\t\t\t\t<Table.HeaderCell>Montant</Table.HeaderCell>\n\t\t\t\t\t\t\t\t\t<Table.HeaderCell>Actions</Table.HeaderCell>\n\t\t\t\t\t\t\t\t</Table.Row>\n\t\t\t\t\t\t\t</Table.Header>\n\n\t\t\t\t\t\t\t<Table.Body>{this.renderTableRows(currentItems)}</Table.Body>\n\t\t\t\t\t\t</Table>\n\t\t\t\t\t\t<div className={styles.pagination}>\n\t\t\t\t\t\t\t<Pagination\n\t\t\t\t\t\t\t\tactivePage={activePage}\n\t\t\t\t\t\t\t\tellipsisItem={{ content: <Icon name=\"ellipsis horizontal\" />, icon: true }}\n\t\t\t\t\t\t\t\tfirstItem={{ content: <Icon name=\"angle double left\" />, icon: true }}\n\t\t\t\t\t\t\t\tlastItem={{ content: <Icon name=\"angle double right\" />, icon: true }}\n\t\t\t\t\t\t\t\tprevItem={{ content: <Icon name=\"angle left\" />, icon: true }}\n\t\t\t\t\t\t\t\tnextItem={{ content: <Icon name=\"angle right\" />, icon: true }}\n\t\t\t\t\t\t\t\ttotalPages={totalPages}\n\t\t\t\t\t\t\t\tonPageChange={this.onPageChanged}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t{this.renderItemCount(itemRange, currentItems, totalItems)}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</Dimmer.Dimmable>\n\t\t\t);\n\t\t}\n\t\treturn (\n\t\t\t<Dimmer.Dimmable blurring dimmed={this.props.debt.isFetching}>\n\t\t\t\t<Dimmer page active={this.props.debt.isFetching}>\n\t\t\t\t\t<Loader size=\"huge\">Loading...</Loader>\n\t\t\t\t</Dimmer>\n\t\t\t\t<Modal size=\"small\" open={this.state.editModal} onClose={this.handleCloseModal}>\n\t\t\t\t\t<Modal.Header>Realiser Paiement</Modal.Header>\n\t\t\t\t\t<Modal.Content>\n\t\t\t\t\t\t<Form>\n\t\t\t\t\t\t\t<Form.Field>{message}</Form.Field>\n\t\t\t\t\t\t\t<Form.Field required>\n\t\t\t\t\t\t\t\t<label className={styles.basicFormSpacing}>Montant</label>\n\t\t\t\t\t\t\t\t<Input\n\t\t\t\t\t\t\t\t\ticon=\"money\"\n\t\t\t\t\t\t\t\t\ticonPosition=\"left\"\n\t\t\t\t\t\t\t\t\tplaceholder=\"Montant\"\n\t\t\t\t\t\t\t\t\tname=\"montant\"\n\t\t\t\t\t\t\t\t\ttype=\"number\"\n\t\t\t\t\t\t\t\t\tonChange={this.handleInputOnChange}\n\t\t\t\t\t\t\t\t\tvalue={this.state.montant}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</Form.Field>\n\t\t\t\t\t\t</Form>\n\t\t\t\t\t</Modal.Content>\n\t\t\t\t\t<Modal.Actions>\n\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\tclassName={styles.rightSpacing}\n\t\t\t\t\t\t\tnegative\n\t\t\t\t\t\t\ticon=\"cancel\"\n\t\t\t\t\t\t\tlabelPosition=\"right\"\n\t\t\t\t\t\t\tcontent=\"Non\"\n\t\t\t\t\t\t\tonClick={this.handleCloseModal}\n\t\t\t\t\t\t/>\n\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\tclassName={styles.leftSpacing}\n\t\t\t\t\t\t\tpositive\n\t\t\t\t\t\t\ticon=\"checkmark\"\n\t\t\t\t\t\t\tlabelPosition=\"right\"\n\t\t\t\t\t\t\tcontent=\"Oui\"\n\t\t\t\t\t\t\tonClick={this.handleSubmit}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</Modal.Actions>\n\t\t\t\t</Modal>\n\t\t\t\t<div>\n\t\t\t\t\t<Table selectable compact celled striped size=\"small\">\n\t\t\t\t\t\t<Table.Header>\n\t\t\t\t\t\t\t<Table.Row>\n\t\t\t\t\t\t\t\t<Table.HeaderCell>Client</Table.HeaderCell>\n\t\t\t\t\t\t\t\t<Table.HeaderCell>Montant</Table.HeaderCell>\n\t\t\t\t\t\t\t\t<Table.HeaderCell>Actions</Table.HeaderCell>\n\t\t\t\t\t\t\t</Table.Row>\n\t\t\t\t\t\t</Table.Header>\n\n\t\t\t\t\t\t<Table.Body>{this.renderTableRows(currentItems)}</Table.Body>\n\t\t\t\t\t</Table>\n\t\t\t\t\t<div className={styles.pagination}>\n\t\t\t\t\t\t<Pagination\n\t\t\t\t\t\t\tactivePage={activePage}\n\t\t\t\t\t\t\tellipsisItem={{ content: <Icon name=\"ellipsis horizontal\" />, icon: true }}\n\t\t\t\t\t\t\tfirstItem={{ content: <Icon name=\"angle double left\" />, icon: true }}\n\t\t\t\t\t\t\tlastItem={{ content: <Icon name=\"angle double right\" />, icon: true }}\n\t\t\t\t\t\t\tprevItem={{ content: <Icon name=\"angle left\" />, icon: true }}\n\t\t\t\t\t\t\tnextItem={{ content: <Icon name=\"angle right\" />, icon: true }}\n\t\t\t\t\t\t\ttotalPages={totalPages}\n\t\t\t\t\t\t\tonPageChange={this.onPageChanged}\n\t\t\t\t\t\t/>\n\t\t\t\t\t\t{this.renderItemCount(itemRange, currentItems, totalItems)}\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</Dimmer.Dimmable>\n\t\t);\n\t}\n}\n\nfunction mapStateToProps({ debt, user }) {\n\treturn { debt, user };\n}\n\nexport default connect(mapStateToProps)(DebtTable);\n"]},"metadata":{},"sourceType":"module"}