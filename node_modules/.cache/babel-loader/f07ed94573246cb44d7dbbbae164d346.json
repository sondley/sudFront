{"ast":null,"code":"import _objectSpread from \"/Users/sondley/Desktop/PapaRohenson/sudFront/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread\";\nimport api from \"../../api\";\nimport Cookie from \"react-cookies\";\nimport decode from \"jwt-decode\";\nexport var LOGOUT = \"LOGOUT\";\nexport var LOGIN = \"LOGIN\";\nexport var LOGIN_SUCCESS = \"LOGIN_SUCCESS\";\nexport var LOGIN_FAIL = \"LOGIN_FAIL\";\nexport var LOGGED_USER = \"LOGGED_USER\";\nexport var LOGGED_USER_SUCCESS = \"LOGGED_USER_SUCCESS\";\nexport var LOGGED_USER_FAIL = \"LOGGED_USER_FAIL\";\nexport var REFRESH_TOKEN = \"REFRESH_TOKEN\";\nexport var REFRESH_TOKEN_SUCCESS = \"REFRESH_TOKEN_SUCCESS\";\nexport var REFRESH_TOKEN_FAIL = \"REFRESH_TOKEN_FAIL\";\nexport var GET_USERS = \"GET_USERS\";\nexport var GET_USERS_SUCCESS = \"GET_USERS_SUCCESS\";\nexport var GET_USERS_FAIL = \"GET_USERS_FAIL\";\nexport var CREATE_USER = \"CREATE_USER\";\nexport var CREATE_USER_SUCCESS = \"CREATE_USER_SUCCESS\";\nexport var CREATE_USER_FAIL = \"CREATE_USER_FAIL\";\nexport var MODIFY_USER = \"MODIFY_USER\";\nexport var MODIFY_USER_SUCCESS = \"MODIFY_USER_SUCCESS\";\nexport var MODIFY_USER_FAIL = \"MODIFY_USER_FAIL\";\nexport var DELETE_USER = \"DELETE_USER\";\nexport var DELETE_USER_SUCCESS = \"DELETE_USER_SUCCESS\";\nexport var DELETE_USER_FAIL = \"DELETE_USER_FAIL\";\n\nfunction requestBegin(type) {\n  return {\n    type: type\n  };\n}\n\nfunction requestSuccess(type, user, message, token) {\n  return {\n    type: type,\n    payload: {\n      user: user,\n      message: message,\n      token: token\n    }\n  };\n}\n\nfunction requestFail(type, message) {\n  return {\n    type: type,\n    payload: {\n      message: message\n    }\n  };\n}\n\nfunction requestSuccessWithNavTree(type, user, message, token, navTree) {\n  return {\n    type: type,\n    payload: {\n      user: user,\n      message: message,\n      token: token,\n      navTree: navTree\n    }\n  };\n}\n\nexport function logout() {\n  return function (dispatch) {\n    Cookie.remove(\"sessionCookie\");\n    return dispatch(requestBegin(LOGOUT));\n  };\n}\nexport function login(username, password, rememberMe) {\n  return function (dispatch) {\n    dispatch(requestBegin(LOGIN));\n    return api.requestPOST(\"/authenticate\", {\n      email: username,\n      motDePasse: password\n    }).then(function (objResponse) {\n      if (objResponse.data.success) {\n        var _objResponse$data$dat = objResponse.data.data,\n            user = _objResponse$data$dat.user,\n            token = _objResponse$data$dat.token;\n        var Options = [];\n\n        switch (user.role) {\n          case \"vendeur\":\n            Options = [{\n              name: \"/orders\",\n              icon: \"clipboard list\",\n              label: \"Commande\",\n              index: 0\n            }, {\n              name: \"/products\",\n              icon: \"box\",\n              label: \"Produits\",\n              index: 1\n            }, {\n              name: \"/trade_coin\",\n              icon: \"money\",\n              label: \"Monnaie\",\n              index: 2\n            }, {\n              name: \"/vendor_reports\",\n              icon: \"chart bar outline\",\n              label: \"Rapports\",\n              index: 3\n            }];\n            break;\n\n          case \"caissier\":\n            Options = [{\n              name: \"/validate_solicitude\",\n              icon: \"check square\",\n              label: \"Valider Sollicitude\",\n              index: 0\n            }, {\n              name: \"/validate_order\",\n              icon: \"clipboard check\",\n              label: \"Valider Commande\",\n              index: 1\n            }, {\n              name: \"/validate_tradecoin\",\n              icon: \"check circle\",\n              label: \"Valider Changement Monnaie\",\n              index: 2\n            }, {\n              name: \"/view_transactions\",\n              icon: \"handshake outline\",\n              label: \"Voir Transactions\",\n              index: 3\n            }];\n            break;\n\n          case \"directeur\":\n            Options = [{\n              name: \"/director_reports\",\n              icon: \"chart line\",\n              label: \"Rapports\",\n              index: 0\n            }, {\n              name: \"/users\",\n              icon: \"users\",\n              label: \"Utilisateurs\",\n              index: 1\n            }, {\n              name: \"/salary\",\n              icon: \"money bill alternate outline\",\n              label: \"Augmenter le Salaire\",\n              index: 2\n            }, {\n              name: \"/cash_status\",\n              icon: \"money\",\n              label: \"Etat du Compte\",\n              index: 3\n            }, {\n              name: \"/buys\",\n              icon: \"cart\",\n              label: \"Reviser Achats\",\n              index: 4\n            }, {\n              name: \"/sales\",\n              icon: \"tags\",\n              label: \"Reviser Ventes\",\n              index: 5\n            }, {\n              name: \"/solicitude\",\n              icon: \"hand lizard outline\",\n              label: \"Sollicitude\",\n              index: 6\n            }, {\n              name: \"/warehouse\",\n              icon: \"archive\",\n              label: \"Stock\",\n              index: 7\n            }, {\n              name: \"/exchange_rate\",\n              icon: \"sync\",\n              label: \"Taux de Change\",\n              index: 8\n            }, {\n              name: \"/taxes\",\n              icon: \"law\",\n              label: \"Impots\",\n              index: 9\n            }, {\n              name: \"/devolution\",\n              icon: \"sync\",\n              label: \"Devolution du Produit\",\n              index: 10\n            }, {\n              name: \"/comite_monitor\",\n              icon: \"sign-in\",\n              label: \"Rentrez de Comite\",\n              index: 11\n            }];\n            break;\n\n          case \"comite\":\n            Options = [{\n              name: \"/comite_reports\",\n              icon: \"chart line\",\n              label: \"Rapports\",\n              index: 0\n            }, {\n              name: \"/cash_status\",\n              icon: \"money\",\n              label: \"Etat du Compte\",\n              index: 1\n            }, {\n              name: \"/buys\",\n              icon: \"cart\",\n              label: \"Reviser Achats\",\n              index: 2\n            }, {\n              name: \"/sales\",\n              icon: \"tags\",\n              label: \"Reviser Ventes\",\n              index: 3\n            }, {\n              name: \"/warehouse\",\n              icon: \"archive\",\n              label: \"Stock\",\n              index: 4\n            }];\n            break;\n\n          case \"contable\":\n            Options = [{\n              name: \"/cash_status\",\n              icon: \"money\",\n              label: \"Etat du Compte\",\n              index: 0\n            }, {\n              name: \"/buys\",\n              icon: \"cart\",\n              label: \"Achats\",\n              index: 1\n            }, {\n              name: \"/sales\",\n              icon: \"tags\",\n              label: \"Ventes\",\n              index: 2\n            }, {\n              name: \"/payment\",\n              icon: \"payment\",\n              label: \"Realiser Paiement\",\n              index: 3\n            }, {\n              name: \"/debt_payable\",\n              icon: \"payment\",\n              label: \"Comptes à Payer\",\n              index: 4\n            }, {\n              name: \"/debt_recievable\",\n              icon: \"payment\",\n              label: \"Comptes à Recevoir\",\n              index: 5\n            }, {\n              name: \"/banking\",\n              icon: \"lock\",\n              label: \"Banque\",\n              index: 6\n            }, {\n              name: \"/finances\",\n              icon: \"law\",\n              label: \"Finances\",\n              index: 7\n            }, {\n              name: \"/accounting_reports\",\n              icon: \"chart bar outline\",\n              label: \"Rapports\",\n              index: 8\n            }];\n            break;\n\n          case \"assistance\":\n            Options = [{\n              name: \"/warehouse\",\n              icon: \"archive\",\n              label: \"Stock\",\n              index: 0\n            }, {\n              name: \"/suppliers\",\n              icon: \"users\",\n              label: \"Fournisseurs\",\n              index: 1\n            }, {\n              name: \"/buys\",\n              icon: \"cart\",\n              label: \"Achats\",\n              index: 2\n            }, {\n              name: \"/assistance_reports\",\n              icon: \"chart bar outline\",\n              label: \"Rapports\",\n              index: 3\n            }];\n            break;\n\n          default:\n            Options = [];\n            break;\n        }\n\n        var data = {\n          user: user,\n          token: token,\n          Options: Options\n        };\n        Cookie.save(\"sessionCookie\", data, {\n          path: \"/\",\n          maxAge: 3600\n        });\n\n        if (rememberMe === true) {\n          var preferences = {\n            email: username,\n            rememberMe: rememberMe\n          };\n          Cookie.save(\"userPreferences\", preferences, {\n            path: \"/\"\n          });\n        } else {\n          Cookie.remove(\"userPreferences\");\n        }\n\n        api.api.defaults.headers.common[\"Authorization\"] = \"bearer \" + token;\n        dispatch(requestSuccessWithNavTree(LOGIN_SUCCESS, user, objResponse.data.message, token, Options));\n      } else {\n        dispatch(requestFail(LOGIN_FAIL, objResponse.data.message));\n      }\n    }).catch(function (objError) {\n      dispatch(requestFail(LOGIN_FAIL, objError));\n    });\n  };\n}\nexport function checkSession() {\n  return function (dispatch) {\n    dispatch(requestBegin(LOGGED_USER));\n    var data = Cookie.load(\"sessionCookie\");\n\n    if (data !== undefined) {\n      var user = data.user,\n          token = data.token,\n          Options = data.Options;\n      var decodedToken = decode(token);\n      var tokenExpiration = decodedToken.exp;\n      var currentTime = Math.floor(new Date().getTime() / 1000.0);\n      var remainingTime = tokenExpiration - currentTime;\n      Cookie.save(\"sessionCookie\", data, {\n        path: \"/\",\n        maxAge: remainingTime\n      });\n      api.api.defaults.headers.common[\"Authorization\"] = \"bearer \" + token;\n      dispatch(requestSuccessWithNavTree(LOGGED_USER_SUCCESS, user, \"Session Open\", token, Options));\n    } else {\n      dispatch(requestFail(LOGGED_USER_FAIL, \"No Session\"));\n    }\n  };\n}\nexport function resetToken() {\n  return function (dispatch) {\n    dispatch(requestBegin(REFRESH_TOKEN));\n    return api.requestGET(\"/resetToken\").then(function (objResponse) {\n      if (objResponse.data.success) {\n        var data = Cookie.load(\"sessionCookie\");\n        data = _objectSpread({}, data, {\n          token: objResponse.data.data.token\n        });\n        Cookie.save(\"sessionCookie\", data, {\n          path: \"/\",\n          maxAge: 3600\n        });\n        api.api.defaults.headers.common[\"Authorization\"] = \"bearer \" + objResponse.data.data.token;\n        dispatch(requestSuccess(REFRESH_TOKEN_SUCCESS, null, objResponse.data.message, objResponse.data.data.token));\n      } else {\n        dispatch(requestFail(REFRESH_TOKEN_FAIL, objResponse.data.message));\n      }\n    }).catch(function (objError) {\n      dispatch(requestFail(REFRESH_TOKEN_FAIL, objError.response));\n    });\n  };\n}\nexport function getUsers() {\n  return function (dispatch) {\n    dispatch(requestBegin(GET_USERS));\n    return api.requestGET(\"/users\").then(function (objResponse) {\n      if (objResponse.data.success) {\n        dispatch(requestSuccess(GET_USERS_SUCCESS, objResponse.data.data, objResponse.data.message, null));\n      } else {\n        dispatch(requestFail(GET_USERS_FAIL, objResponse.data.message));\n      }\n    }).catch(function (objError) {\n      dispatch(requestFail(GET_USERS_FAIL, objError.response));\n    });\n  };\n}\nexport function createUser(user, onClose) {\n  return function (dispatch) {\n    dispatch(requestBegin(CREATE_USER));\n    return api.requestPOST(\"/users\", {\n      nom: user.nom,\n      prenom: user.prenom,\n      role: user.role,\n      tel: user.tel,\n      email: user.email,\n      motDePasse: user.motDePasse,\n      salaire: user.salaire,\n      dateDeNaissance: user.dateDeNaissance,\n      etatCivile: user.etatCivile,\n      addresse: user.addresse\n    }).then(function (objResponse) {\n      if (objResponse.data.success) {\n        dispatch(requestSuccess(CREATE_USER_SUCCESS, objResponse.data.data, objResponse.data.message, null));\n        onClose();\n      } else {\n        dispatch(requestFail(CREATE_USER_FAIL, objResponse.data.message));\n      }\n    }).catch(function (objError) {\n      dispatch(requestFail(CREATE_USER_FAIL, objError.response));\n    });\n  };\n}\nexport function modifyUser(user, onClose) {\n  return function (dispatch) {\n    dispatch(requestBegin(MODIFY_USER));\n    return api.requestPATCH(\"/users/\".concat(user._id), {\n      nom: user.nom,\n      prenom: user.prenom,\n      role: user.role,\n      tel: user.tel,\n      email: user.email,\n      motDePasse: user.motDePasse,\n      salaire: user.salaire,\n      dateDeNaissance: user.dateDeNaissance,\n      etatCivile: user.etatCivile,\n      addresse: user.addresse,\n      etat: user.etat\n    }).then(function (objResponse) {\n      if (objResponse.data.success) {\n        dispatch(requestSuccess(MODIFY_USER_SUCCESS, objResponse.data.data, objResponse.data.message, null));\n        onClose();\n      } else {\n        dispatch(requestFail(MODIFY_USER_FAIL, objResponse.data.message));\n      }\n    }).catch(function (objError) {\n      dispatch(requestFail(MODIFY_USER_FAIL, objError.response));\n    });\n  };\n} // export function deleteUser(id, onClose) {\n//   return dispatch => {\n//     dispatch(deleteUserBegin());\n//     return api\n//       .requestDELETE(`/usuarios/${id.id}`)\n//       .then(objResponse => {\n//         console.log(objResponse);\n//         dispatch(deleteUserSuccess(id.id));\n//         onClose();\n//       })\n//       .catch(objError => {\n//         dispatch(deleteUserFail(objError));\n//       });\n//   };\n// }","map":{"version":3,"sources":["/Users/sondley/Desktop/PapaRohenson/sudFront/src/redux/actions/user.js"],"names":["api","Cookie","decode","LOGOUT","LOGIN","LOGIN_SUCCESS","LOGIN_FAIL","LOGGED_USER","LOGGED_USER_SUCCESS","LOGGED_USER_FAIL","REFRESH_TOKEN","REFRESH_TOKEN_SUCCESS","REFRESH_TOKEN_FAIL","GET_USERS","GET_USERS_SUCCESS","GET_USERS_FAIL","CREATE_USER","CREATE_USER_SUCCESS","CREATE_USER_FAIL","MODIFY_USER","MODIFY_USER_SUCCESS","MODIFY_USER_FAIL","DELETE_USER","DELETE_USER_SUCCESS","DELETE_USER_FAIL","requestBegin","type","requestSuccess","user","message","token","payload","requestFail","requestSuccessWithNavTree","navTree","logout","dispatch","remove","login","username","password","rememberMe","requestPOST","email","motDePasse","then","objResponse","data","success","Options","role","name","icon","label","index","save","path","maxAge","preferences","defaults","headers","common","catch","objError","checkSession","load","undefined","decodedToken","tokenExpiration","exp","currentTime","Math","floor","Date","getTime","remainingTime","resetToken","requestGET","response","getUsers","createUser","onClose","nom","prenom","tel","salaire","dateDeNaissance","etatCivile","addresse","modifyUser","requestPATCH","_id","etat"],"mappings":"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","sourcesContent":["import api from \"../../api\";\nimport Cookie from \"react-cookies\";\nimport decode from \"jwt-decode\";\n\nexport const LOGOUT = \"LOGOUT\";\nexport const LOGIN = \"LOGIN\";\nexport const LOGIN_SUCCESS = \"LOGIN_SUCCESS\";\nexport const LOGIN_FAIL = \"LOGIN_FAIL\";\nexport const LOGGED_USER = \"LOGGED_USER\";\nexport const LOGGED_USER_SUCCESS = \"LOGGED_USER_SUCCESS\";\nexport const LOGGED_USER_FAIL = \"LOGGED_USER_FAIL\";\nexport const REFRESH_TOKEN = \"REFRESH_TOKEN\";\nexport const REFRESH_TOKEN_SUCCESS = \"REFRESH_TOKEN_SUCCESS\";\nexport const REFRESH_TOKEN_FAIL = \"REFRESH_TOKEN_FAIL\";\nexport const GET_USERS = \"GET_USERS\";\nexport const GET_USERS_SUCCESS = \"GET_USERS_SUCCESS\";\nexport const GET_USERS_FAIL = \"GET_USERS_FAIL\";\nexport const CREATE_USER = \"CREATE_USER\";\nexport const CREATE_USER_SUCCESS = \"CREATE_USER_SUCCESS\";\nexport const CREATE_USER_FAIL = \"CREATE_USER_FAIL\";\nexport const MODIFY_USER = \"MODIFY_USER\";\nexport const MODIFY_USER_SUCCESS = \"MODIFY_USER_SUCCESS\";\nexport const MODIFY_USER_FAIL = \"MODIFY_USER_FAIL\";\nexport const DELETE_USER = \"DELETE_USER\";\nexport const DELETE_USER_SUCCESS = \"DELETE_USER_SUCCESS\";\nexport const DELETE_USER_FAIL = \"DELETE_USER_FAIL\";\n\nfunction requestBegin(type) {\n\treturn { type };\n}\n\nfunction requestSuccess(type, user, message, token) {\n\treturn { type, payload: { user, message, token } };\n}\n\nfunction requestFail(type, message) {\n\treturn { type, payload: { message } };\n}\n\nfunction requestSuccessWithNavTree(type, user, message, token, navTree) {\n\treturn { type, payload: { user, message, token, navTree } };\n}\n\nexport function logout() {\n\treturn dispatch => {\n\t\tCookie.remove(\"sessionCookie\");\n\t\treturn dispatch(requestBegin(LOGOUT));\n\t};\n}\n\nexport function login(username, password, rememberMe) {\n\treturn dispatch => {\n\t\tdispatch(requestBegin(LOGIN));\n\t\treturn api\n\t\t\t.requestPOST(\"/authenticate\", {\n\t\t\t\temail: username,\n\t\t\t\tmotDePasse: password\n\t\t\t})\n\t\t\t.then(objResponse => {\n\t\t\t\tif (objResponse.data.success) {\n\t\t\t\t\tconst { user, token } = objResponse.data.data;\n\t\t\t\t\tlet Options = [];\n\t\t\t\t\tswitch (user.role) {\n\t\t\t\t\t\tcase \"vendeur\":\n\t\t\t\t\t\t\tOptions = [\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\tname: \"/orders\",\n\t\t\t\t\t\t\t\t\ticon: \"clipboard list\",\n\t\t\t\t\t\t\t\t\tlabel: \"Commande\",\n\t\t\t\t\t\t\t\t\tindex: 0\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\tname: \"/products\",\n\t\t\t\t\t\t\t\t\ticon: \"box\",\n\t\t\t\t\t\t\t\t\tlabel: \"Produits\",\n\t\t\t\t\t\t\t\t\tindex: 1\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\tname: \"/trade_coin\",\n\t\t\t\t\t\t\t\t\ticon: \"money\",\n\t\t\t\t\t\t\t\t\tlabel: \"Monnaie\",\n\t\t\t\t\t\t\t\t\tindex: 2\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\tname: \"/vendor_reports\",\n\t\t\t\t\t\t\t\t\ticon: \"chart bar outline\",\n\t\t\t\t\t\t\t\t\tlabel: \"Rapports\",\n\t\t\t\t\t\t\t\t\tindex: 3\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t];\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\tcase \"caissier\":\n\t\t\t\t\t\t\tOptions = [\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\tname: \"/validate_solicitude\",\n\t\t\t\t\t\t\t\t\ticon: \"check square\",\n\t\t\t\t\t\t\t\t\tlabel: \"Valider Sollicitude\",\n\t\t\t\t\t\t\t\t\tindex: 0\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\tname: \"/validate_order\",\n\t\t\t\t\t\t\t\t\ticon: \"clipboard check\",\n\t\t\t\t\t\t\t\t\tlabel: \"Valider Commande\",\n\t\t\t\t\t\t\t\t\tindex: 1\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\tname: \"/validate_tradecoin\",\n\t\t\t\t\t\t\t\t\ticon: \"check circle\",\n\t\t\t\t\t\t\t\t\tlabel: \"Valider Changement Monnaie\",\n\t\t\t\t\t\t\t\t\tindex: 2\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\tname: \"/view_transactions\",\n\t\t\t\t\t\t\t\t\ticon: \"handshake outline\",\n\t\t\t\t\t\t\t\t\tlabel: \"Voir Transactions\",\n\t\t\t\t\t\t\t\t\tindex: 3\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t];\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\tcase \"directeur\":\n\t\t\t\t\t\t\tOptions = [\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\tname: \"/director_reports\",\n\t\t\t\t\t\t\t\t\ticon: \"chart line\",\n\t\t\t\t\t\t\t\t\tlabel: \"Rapports\",\n\t\t\t\t\t\t\t\t\tindex: 0\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\tname: \"/users\",\n\t\t\t\t\t\t\t\t\ticon: \"users\",\n\t\t\t\t\t\t\t\t\tlabel: \"Utilisateurs\",\n\t\t\t\t\t\t\t\t\tindex: 1\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\tname: \"/salary\",\n\t\t\t\t\t\t\t\t\ticon: \"money bill alternate outline\",\n\t\t\t\t\t\t\t\t\tlabel: \"Augmenter le Salaire\",\n\t\t\t\t\t\t\t\t\tindex: 2\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\tname: \"/cash_status\",\n\t\t\t\t\t\t\t\t\ticon: \"money\",\n\t\t\t\t\t\t\t\t\tlabel: \"Etat du Compte\",\n\t\t\t\t\t\t\t\t\tindex: 3\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\tname: \"/buys\",\n\t\t\t\t\t\t\t\t\ticon: \"cart\",\n\t\t\t\t\t\t\t\t\tlabel: \"Reviser Achats\",\n\t\t\t\t\t\t\t\t\tindex: 4\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\tname: \"/sales\",\n\t\t\t\t\t\t\t\t\ticon: \"tags\",\n\t\t\t\t\t\t\t\t\tlabel: \"Reviser Ventes\",\n\t\t\t\t\t\t\t\t\tindex: 5\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\tname: \"/solicitude\",\n\t\t\t\t\t\t\t\t\ticon: \"hand lizard outline\",\n\t\t\t\t\t\t\t\t\tlabel: \"Sollicitude\",\n\t\t\t\t\t\t\t\t\tindex: 6\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\tname: \"/warehouse\",\n\t\t\t\t\t\t\t\t\ticon: \"archive\",\n\t\t\t\t\t\t\t\t\tlabel: \"Stock\",\n\t\t\t\t\t\t\t\t\tindex: 7\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\tname: \"/exchange_rate\",\n\t\t\t\t\t\t\t\t\ticon: \"sync\",\n\t\t\t\t\t\t\t\t\tlabel: \"Taux de Change\",\n\t\t\t\t\t\t\t\t\tindex: 8\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\tname: \"/taxes\",\n\t\t\t\t\t\t\t\t\ticon: \"law\",\n\t\t\t\t\t\t\t\t\tlabel: \"Impots\",\n\t\t\t\t\t\t\t\t\tindex: 9\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\tname: \"/devolution\",\n\t\t\t\t\t\t\t\t\ticon: \"sync\",\n\t\t\t\t\t\t\t\t\tlabel: \"Devolution du Produit\",\n\t\t\t\t\t\t\t\t\tindex: 10\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\tname: \"/comite_monitor\",\n\t\t\t\t\t\t\t\t\ticon: \"sign-in\",\n\t\t\t\t\t\t\t\t\tlabel: \"Rentrez de Comite\",\n\t\t\t\t\t\t\t\t\tindex: 11\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t];\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\tcase \"comite\":\n\t\t\t\t\t\t\tOptions = [\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\tname: \"/comite_reports\",\n\t\t\t\t\t\t\t\t\ticon: \"chart line\",\n\t\t\t\t\t\t\t\t\tlabel: \"Rapports\",\n\t\t\t\t\t\t\t\t\tindex: 0\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\tname: \"/cash_status\",\n\t\t\t\t\t\t\t\t\ticon: \"money\",\n\t\t\t\t\t\t\t\t\tlabel: \"Etat du Compte\",\n\t\t\t\t\t\t\t\t\tindex: 1\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\tname: \"/buys\",\n\t\t\t\t\t\t\t\t\ticon: \"cart\",\n\t\t\t\t\t\t\t\t\tlabel: \"Reviser Achats\",\n\t\t\t\t\t\t\t\t\tindex: 2\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\tname: \"/sales\",\n\t\t\t\t\t\t\t\t\ticon: \"tags\",\n\t\t\t\t\t\t\t\t\tlabel: \"Reviser Ventes\",\n\t\t\t\t\t\t\t\t\tindex: 3\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\tname: \"/warehouse\",\n\t\t\t\t\t\t\t\t\ticon: \"archive\",\n\t\t\t\t\t\t\t\t\tlabel: \"Stock\",\n\t\t\t\t\t\t\t\t\tindex: 4\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t];\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\tcase \"contable\":\n\t\t\t\t\t\t\tOptions = [\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\tname: \"/cash_status\",\n\t\t\t\t\t\t\t\t\ticon: \"money\",\n\t\t\t\t\t\t\t\t\tlabel: \"Etat du Compte\",\n\t\t\t\t\t\t\t\t\tindex: 0\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\tname: \"/buys\",\n\t\t\t\t\t\t\t\t\ticon: \"cart\",\n\t\t\t\t\t\t\t\t\tlabel: \"Achats\",\n\t\t\t\t\t\t\t\t\tindex: 1\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\tname: \"/sales\",\n\t\t\t\t\t\t\t\t\ticon: \"tags\",\n\t\t\t\t\t\t\t\t\tlabel: \"Ventes\",\n\t\t\t\t\t\t\t\t\tindex: 2\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\tname: \"/payment\",\n\t\t\t\t\t\t\t\t\ticon: \"payment\",\n\t\t\t\t\t\t\t\t\tlabel: \"Realiser Paiement\",\n\t\t\t\t\t\t\t\t\tindex: 3\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\tname: \"/debt_payable\",\n\t\t\t\t\t\t\t\t\ticon: \"payment\",\n\t\t\t\t\t\t\t\t\tlabel: \"Comptes à Payer\",\n\t\t\t\t\t\t\t\t\tindex: 4\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\tname: \"/debt_recievable\",\n\t\t\t\t\t\t\t\t\ticon: \"payment\",\n\t\t\t\t\t\t\t\t\tlabel: \"Comptes à Recevoir\",\n\t\t\t\t\t\t\t\t\tindex: 5\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\tname: \"/banking\",\n\t\t\t\t\t\t\t\t\ticon: \"lock\",\n\t\t\t\t\t\t\t\t\tlabel: \"Banque\",\n\t\t\t\t\t\t\t\t\tindex: 6\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\tname: \"/finances\",\n\t\t\t\t\t\t\t\t\ticon: \"law\",\n\t\t\t\t\t\t\t\t\tlabel: \"Finances\",\n\t\t\t\t\t\t\t\t\tindex: 7\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\tname: \"/accounting_reports\",\n\t\t\t\t\t\t\t\t\ticon: \"chart bar outline\",\n\t\t\t\t\t\t\t\t\tlabel: \"Rapports\",\n\t\t\t\t\t\t\t\t\tindex: 8\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t];\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\tcase \"assistance\":\n\t\t\t\t\t\t\tOptions = [\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\tname: \"/warehouse\",\n\t\t\t\t\t\t\t\t\ticon: \"archive\",\n\t\t\t\t\t\t\t\t\tlabel: \"Stock\",\n\t\t\t\t\t\t\t\t\tindex: 0\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\tname: \"/suppliers\",\n\t\t\t\t\t\t\t\t\ticon: \"users\",\n\t\t\t\t\t\t\t\t\tlabel: \"Fournisseurs\",\n\t\t\t\t\t\t\t\t\tindex: 1\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\tname: \"/buys\",\n\t\t\t\t\t\t\t\t\ticon: \"cart\",\n\t\t\t\t\t\t\t\t\tlabel: \"Achats\",\n\t\t\t\t\t\t\t\t\tindex: 2\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\tname: \"/assistance_reports\",\n\t\t\t\t\t\t\t\t\ticon: \"chart bar outline\",\n\t\t\t\t\t\t\t\t\tlabel: \"Rapports\",\n\t\t\t\t\t\t\t\t\tindex: 3\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t];\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\tdefault:\n\t\t\t\t\t\t\tOptions = [];\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t\tconst data = { user, token, Options };\n\t\t\t\t\tCookie.save(\"sessionCookie\", data, { path: \"/\", maxAge: 3600 });\n\t\t\t\t\tif (rememberMe === true) {\n\t\t\t\t\t\tconst preferences = { email: username, rememberMe };\n\t\t\t\t\t\tCookie.save(\"userPreferences\", preferences, { path: \"/\" });\n\t\t\t\t\t} else {\n\t\t\t\t\t\tCookie.remove(\"userPreferences\");\n\t\t\t\t\t}\n\t\t\t\t\tapi.api.defaults.headers.common[\"Authorization\"] = \"bearer \" + token;\n\t\t\t\t\tdispatch(requestSuccessWithNavTree(LOGIN_SUCCESS, user, objResponse.data.message, token, Options));\n\t\t\t\t} else {\n\t\t\t\t\tdispatch(requestFail(LOGIN_FAIL, objResponse.data.message));\n\t\t\t\t}\n\t\t\t})\n\t\t\t.catch(objError => {\n\t\t\t\tdispatch(requestFail(LOGIN_FAIL, objError));\n\t\t\t});\n\t};\n}\n\nexport function checkSession() {\n\treturn dispatch => {\n\t\tdispatch(requestBegin(LOGGED_USER));\n\t\tlet data = Cookie.load(\"sessionCookie\");\n\t\tif (data !== undefined) {\n\t\t\tconst { user, token, Options } = data;\n\t\t\tconst decodedToken = decode(token);\n\t\t\tconst tokenExpiration = decodedToken.exp;\n\t\t\tconst currentTime = Math.floor(new Date().getTime() / 1000.0);\n\t\t\tconst remainingTime = tokenExpiration - currentTime;\n\t\t\tCookie.save(\"sessionCookie\", data, {\n\t\t\t\tpath: \"/\",\n\t\t\t\tmaxAge: remainingTime\n\t\t\t});\n\t\t\tapi.api.defaults.headers.common[\"Authorization\"] = \"bearer \" + token;\n\t\t\tdispatch(requestSuccessWithNavTree(LOGGED_USER_SUCCESS, user, \"Session Open\", token, Options));\n\t\t} else {\n\t\t\tdispatch(requestFail(LOGGED_USER_FAIL, \"No Session\"));\n\t\t}\n\t};\n}\n\nexport function resetToken() {\n\treturn dispatch => {\n\t\tdispatch(requestBegin(REFRESH_TOKEN));\n\t\treturn api\n\t\t\t.requestGET(\"/resetToken\")\n\t\t\t.then(objResponse => {\n\t\t\t\tif (objResponse.data.success) {\n\t\t\t\t\tlet data = Cookie.load(\"sessionCookie\");\n\t\t\t\t\tdata = { ...data, token: objResponse.data.data.token };\n\t\t\t\t\tCookie.save(\"sessionCookie\", data, { path: \"/\", maxAge: 3600 });\n\t\t\t\t\tapi.api.defaults.headers.common[\"Authorization\"] = \"bearer \" + objResponse.data.data.token;\n\t\t\t\t\tdispatch(requestSuccess(REFRESH_TOKEN_SUCCESS, null, objResponse.data.message, objResponse.data.data.token));\n\t\t\t\t} else {\n\t\t\t\t\tdispatch(requestFail(REFRESH_TOKEN_FAIL, objResponse.data.message));\n\t\t\t\t}\n\t\t\t})\n\t\t\t.catch(objError => {\n\t\t\t\tdispatch(requestFail(REFRESH_TOKEN_FAIL, objError.response));\n\t\t\t});\n\t};\n}\n\nexport function getUsers() {\n\treturn dispatch => {\n\t\tdispatch(requestBegin(GET_USERS));\n\t\treturn api\n\t\t\t.requestGET(\"/users\")\n\t\t\t.then(objResponse => {\n\t\t\t\tif (objResponse.data.success) {\n\t\t\t\t\tdispatch(requestSuccess(GET_USERS_SUCCESS, objResponse.data.data, objResponse.data.message, null));\n\t\t\t\t} else {\n\t\t\t\t\tdispatch(requestFail(GET_USERS_FAIL, objResponse.data.message));\n\t\t\t\t}\n\t\t\t})\n\t\t\t.catch(objError => {\n\t\t\t\tdispatch(requestFail(GET_USERS_FAIL, objError.response));\n\t\t\t});\n\t};\n}\n\nexport function createUser(user, onClose) {\n\treturn dispatch => {\n\t\tdispatch(requestBegin(CREATE_USER));\n\t\treturn api\n\t\t\t.requestPOST(\"/users\", {\n\t\t\t\tnom: user.nom,\n\t\t\t\tprenom: user.prenom,\n\t\t\t\trole: user.role,\n\t\t\t\ttel: user.tel,\n\t\t\t\temail: user.email,\n\t\t\t\tmotDePasse: user.motDePasse,\n\t\t\t\tsalaire: user.salaire,\n\t\t\t\tdateDeNaissance: user.dateDeNaissance,\n\t\t\t\tetatCivile: user.etatCivile,\n\t\t\t\taddresse: user.addresse\n\t\t\t})\n\t\t\t.then(objResponse => {\n\t\t\t\tif (objResponse.data.success) {\n\t\t\t\t\tdispatch(requestSuccess(CREATE_USER_SUCCESS, objResponse.data.data, objResponse.data.message, null));\n\t\t\t\t\tonClose();\n\t\t\t\t} else {\n\t\t\t\t\tdispatch(requestFail(CREATE_USER_FAIL, objResponse.data.message));\n\t\t\t\t}\n\t\t\t})\n\t\t\t.catch(objError => {\n\t\t\t\tdispatch(requestFail(CREATE_USER_FAIL, objError.response));\n\t\t\t});\n\t};\n}\n\nexport function modifyUser(user, onClose) {\n\treturn dispatch => {\n\t\tdispatch(requestBegin(MODIFY_USER));\n\t\treturn api\n\t\t\t.requestPATCH(`/users/${user._id}`, {\n\t\t\t\tnom: user.nom,\n\t\t\t\tprenom: user.prenom,\n\t\t\t\trole: user.role,\n\t\t\t\ttel: user.tel,\n\t\t\t\temail: user.email,\n\t\t\t\tmotDePasse: user.motDePasse,\n\t\t\t\tsalaire: user.salaire,\n\t\t\t\tdateDeNaissance: user.dateDeNaissance,\n\t\t\t\tetatCivile: user.etatCivile,\n\t\t\t\taddresse: user.addresse,\n\t\t\t\tetat: user.etat\n\t\t\t})\n\t\t\t.then(objResponse => {\n\t\t\t\tif (objResponse.data.success) {\n\t\t\t\t\tdispatch(requestSuccess(MODIFY_USER_SUCCESS, objResponse.data.data, objResponse.data.message, null));\n\t\t\t\t\tonClose();\n\t\t\t\t} else {\n\t\t\t\t\tdispatch(requestFail(MODIFY_USER_FAIL, objResponse.data.message));\n\t\t\t\t}\n\t\t\t})\n\t\t\t.catch(objError => {\n\t\t\t\tdispatch(requestFail(MODIFY_USER_FAIL, objError.response));\n\t\t\t});\n\t};\n}\n\n// export function deleteUser(id, onClose) {\n//   return dispatch => {\n//     dispatch(deleteUserBegin());\n//     return api\n//       .requestDELETE(`/usuarios/${id.id}`)\n//       .then(objResponse => {\n//         console.log(objResponse);\n//         dispatch(deleteUserSuccess(id.id));\n//         onClose();\n//       })\n//       .catch(objError => {\n//         dispatch(deleteUserFail(objError));\n//       });\n//   };\n// }\n"]},"metadata":{},"sourceType":"module"}