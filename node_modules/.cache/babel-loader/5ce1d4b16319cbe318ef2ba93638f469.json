{"ast":null,"code":"import _defineProperty from \"/Users/sondley/Desktop/PapaRohenson/sudFront/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";\nimport _regeneratorRuntime from \"/Users/sondley/Desktop/PapaRohenson/sudFront/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"/Users/sondley/Desktop/PapaRohenson/sudFront/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nimport _classCallCheck from \"/Users/sondley/Desktop/PapaRohenson/sudFront/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/sondley/Desktop/PapaRohenson/sudFront/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/sondley/Desktop/PapaRohenson/sudFront/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/sondley/Desktop/PapaRohenson/sudFront/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/sondley/Desktop/PapaRohenson/sudFront/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/Users/sondley/Desktop/PapaRohenson/sudFront/src/screens/etatDuCompte/etatDuCompte.js\";\nimport React, { PureComponent } from \"react\";\nimport { Button, Icon, Grid, Modal, Input, Dimmer, Search, Form } from \"semantic-ui-react\";\nimport { connect } from \"react-redux\";\nimport { escapeRegExp, filter, debounce, slice } from \"lodash\"; //Components\n\nimport CustomMenu from \"../../components/custom-menu/custom-menu\";\nimport CompteTable from \"../../components/compte-table/comptetable\"; //Logic\n\nimport { endNavigation, getPageIndexByRoute } from \"../../redux/actions/navigate\";\nimport { OpenCaisse, CloseCaisse } from \"../../redux/actions/compte\";\nimport { getUsers } from \"../../redux/actions/user\"; //Styles\n\nimport styles from \"./etatducompte.module.css\";\n\nvar EtatDuCompte =\n/*#__PURE__*/\nfunction (_PureComponent) {\n  _inherits(EtatDuCompte, _PureComponent);\n\n  function EtatDuCompte(props) {\n    var _this;\n\n    _classCallCheck(this, EtatDuCompte);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(EtatDuCompte).call(this, props));\n    _this.componentDidMount =\n    /*#__PURE__*/\n    _asyncToGenerator(\n    /*#__PURE__*/\n    _regeneratorRuntime.mark(function _callee() {\n      var vendeurListe;\n      return _regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              _context.next = 2;\n              return _this.props.dispatch(getUsers());\n\n            case 2:\n              vendeurListe = filter(_this.props.user.users, {\n                role: \"vendeur\"\n              });\n\n              _this.setState({\n                vendeurListe: vendeurListe\n              });\n\n            case 4:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee, this);\n    }));\n\n    _this.resetComponent = function (name) {\n      return _this.setState(_defineProperty({\n        isLoading: false,\n        results: []\n      }, name, \"\"));\n    };\n\n    _this.handleResultSelect = function (e, data) {\n      return _this.setState({\n        results: [],\n        vendeur: data.result.title,\n        idVendeur: data.result.id\n      });\n    };\n\n    _this.handleSearchChange = function (e, _ref2) {\n      var _this$setState2;\n\n      var value = _ref2.value,\n          name = _ref2.name;\n\n      _this.setState((_this$setState2 = {}, _defineProperty(_this$setState2, name, value), _defineProperty(_this$setState2, \"isLoading\", true), _this$setState2));\n\n      setTimeout(function () {\n        if (_this.state[name].length < 1) return _this.resetComponent(name);\n\n        var source = _this.state.vendeurListe.map(function (item) {\n          return {\n            id: item._id,\n            title: item.prenom + \" \" + item.nom\n          };\n        });\n\n        var trimmedString = new RegExp(escapeRegExp(_this.state[name]), \"i\");\n\n        var isMatch = function isMatch(result) {\n          return trimmedString.test(result.title);\n        };\n\n        var matchedResults = filter(source, isMatch);\n        var limitedResults = slice(matchedResults, 0, 5);\n        return _this.setState({\n          isLoading: false,\n          results: limitedResults\n        });\n      }, 500);\n    };\n\n    _this.handleOpenCaisse = function (e) {\n      e.preventDefault();\n\n      _this.setState({\n        openCaisseModal: true\n      });\n    };\n\n    _this.handleCloseCaisse = function (e) {\n      e.preventDefault();\n\n      _this.setState({\n        closeCaisseModal: true\n      });\n    };\n\n    _this.handleCloseModal = function () {\n      _this.setState({\n        closeCaisseModal: false,\n        openCaisseModal: false\n      });\n    };\n\n    _this.handleInputOnChange = function (event) {\n      var _event$target = event.target,\n          name = _event$target.name,\n          value = _event$target.value;\n\n      if (parseInt(value) < 0) {\n        return _this.setState(_defineProperty({}, name, 0));\n      } else {\n        return _this.setState(_defineProperty({}, name, parseInt(value)));\n      }\n    };\n\n    _this.handleSubmit = function () {\n      var _this$state = _this.state,\n          openCaisseModal = _this$state.openCaisseModal,\n          idVendeur = _this$state.idVendeur,\n          quantiteDonnee = _this$state.quantiteDonnee;\n      var authedUser = _this.props.user.authedUser;\n      var moneyCompte = _this.props.compte.moneyCompte;\n\n      if (openCaisseModal) {\n        //Open\n        var _item = {\n          idVendeur: idVendeur,\n          quantiteDonnee: quantiteDonnee\n        };\n        return _this.props.dispatch(OpenCaisse(_item, _this.handleCloseModal));\n      } //Close\n\n\n      var item = {\n        idUser: authedUser._id,\n        quantiteRemise: moneyCompte\n      };\n      return _this.props.dispatch(CloseCaisse(item, _this.handleCloseModal));\n    };\n\n    _this.renderOpenModal = function (isOpen) {\n      if (isOpen) {\n        return React.createElement(Modal, {\n          size: \"small\",\n          open: isOpen,\n          onClose: _this.handleCloseModal,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 109\n          },\n          __self: this\n        }, React.createElement(Modal.Header, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 110\n          },\n          __self: this\n        }, \"Ouvrir Caisse\"), React.createElement(Modal.Content, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 111\n          },\n          __self: this\n        }, React.createElement(Form, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 112\n          },\n          __self: this\n        }, React.createElement(Form.Field, {\n          required: true,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 113\n          },\n          __self: this\n        }, React.createElement(\"label\", {\n          className: styles.basicFormSpacing,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 114\n          },\n          __self: this\n        }, \"Chercher un Vendeur\"), React.createElement(Search, {\n          input: {\n            icon: \"search\",\n            iconPosition: \"left\"\n          },\n          size: \"small\",\n          placeholder: \"Chercher un Vendeur\",\n          loading: _this.state.isLoading,\n          onResultSelect: _this.handleResultSelect,\n          onSearchChange: debounce(_this.handleSearchChange, 500, {\n            leading: true\n          }),\n          results: _this.state.results,\n          value: _this.state.vendeur,\n          name: \"vendeur\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 115\n          },\n          __self: this\n        })), React.createElement(Form.Field, {\n          required: true,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 129\n          },\n          __self: this\n        }, React.createElement(\"label\", {\n          className: styles.basicFormSpacing,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 130\n          },\n          __self: this\n        }, \"Quantit\\xE9 Donn\\xE9e\"), React.createElement(Input, {\n          icon: \"money\",\n          iconPosition: \"left\",\n          placeholder: \"Quantit\\xE9 Donn\\xE9e\",\n          name: \"quantiteDonnee\",\n          type: \"number\",\n          onChange: _this.handleInputOnChange,\n          value: _this.state.quantiteDonnee,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 131\n          },\n          __self: this\n        })))), React.createElement(Modal.Actions, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 143\n          },\n          __self: this\n        }, React.createElement(Button, {\n          className: styles.rightSpacing,\n          negative: true,\n          icon: \"cancel\",\n          labelPosition: \"right\",\n          content: \"Non\",\n          onClick: _this.handleCloseModal,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 144\n          },\n          __self: this\n        }), React.createElement(Button, {\n          className: styles.leftSpacing,\n          positive: true,\n          icon: \"checkmark\",\n          labelPosition: \"right\",\n          content: \"Oui\",\n          onClick: _this.handleSubmit,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 152\n          },\n          __self: this\n        })));\n      }\n    };\n\n    _this.renderCloseModal = function (isOpen) {\n      if (isOpen) {\n        return React.createElement(Modal, {\n          size: \"small\",\n          open: isOpen,\n          onClose: _this.handleCloseModal,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 169\n          },\n          __self: this\n        }, React.createElement(Modal.Header, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 170\n          },\n          __self: this\n        }, \"Fermer Caisse\"), React.createElement(Modal.Content, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 171\n          },\n          __self: this\n        }, React.createElement(\"p\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 172\n          },\n          __self: this\n        }, \"\\xEAtes vous sure que vous voulez l'eliminer?\")), React.createElement(Modal.Actions, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 174\n          },\n          __self: this\n        }, React.createElement(Button, {\n          className: styles.rightSpacing,\n          negative: true,\n          icon: \"cancel\",\n          labelPosition: \"right\",\n          content: \"Non\",\n          onClick: _this.handleCloseModal,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 175\n          },\n          __self: this\n        }), React.createElement(Button, {\n          className: styles.leftSpacing,\n          positive: true,\n          icon: \"checkmark\",\n          labelPosition: \"right\",\n          content: \"Oui\",\n          onClick: _this.handleSubmit,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 183\n          },\n          __self: this\n        })));\n      }\n    };\n\n    _this.state = {\n      openCaisseModal: false,\n      closeCaisseModal: false,\n      vendeur: \"\",\n      idVendeur: \"\",\n      quantiteDonnee: \"\",\n      vendeurListe: [],\n      results: [],\n      isLoading: false\n    };\n\n    if (_this.props.navigation.navigate) {\n      _this.props.dispatch(endNavigation());\n    }\n\n    _this.props.dispatch(getPageIndexByRoute(window.location.pathname));\n\n    return _this;\n  }\n\n  _createClass(EtatDuCompte, [{\n    key: \"render\",\n    value: function render() {\n      var _this$state2 = this.state,\n          openCaisseModal = _this$state2.openCaisseModal,\n          closeCaisseModal = _this$state2.closeCaisseModal;\n      var _this$props$compte = this.props.compte,\n          moneyCompte = _this$props$compte.moneyCompte,\n          caisse = _this$props$compte.caisse;\n      var role = this.props.user.authedUser.role;\n      var etatDuCompte = caisse.etat === \"1\" ? \"C'est Ouverte\" : \"C'est Fermée\";\n      return React.createElement(Dimmer.Dimmable, {\n        blurring: true,\n        dimmed: openCaisseModal || closeCaisseModal,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 203\n        },\n        __self: this\n      }, this.renderOpenModal(openCaisseModal), this.renderCloseModal(closeCaisseModal), React.createElement(CustomMenu, {\n        screenName: \"Etat du Compte\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 206\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 207\n        },\n        __self: this\n      }, React.createElement(Grid, {\n        className: styles.noMarginBottom,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 208\n        },\n        __self: this\n      }, React.createElement(Grid.Row, {\n        style: role === \"contable\" ? {\n          display: \"block\"\n        } : {\n          display: \"none\"\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 209\n        },\n        __self: this\n      }, React.createElement(Grid.Column, {\n        width: 16,\n        floated: \"right\",\n        className: styles.rightAligned,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 210\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: styles.buttonSpacing,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 211\n        },\n        __self: this\n      }, React.createElement(Button, {\n        icon: true,\n        labelPosition: \"left\",\n        color: \"brown\",\n        size: \"small\",\n        onClick: this.handleOpenCaisse,\n        disabled: caisse.etat === \"1\" || caisse.dateFermer !== \"\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 212\n        },\n        __self: this\n      }, React.createElement(Icon, {\n        name: \"sign-in\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 220\n        },\n        __self: this\n      }), \" Ouverture du Caisse\"), React.createElement(Button, {\n        icon: true,\n        labelPosition: \"left\",\n        color: \"green\",\n        size: \"small\",\n        onClick: this.handleCloseCaisse,\n        disabled: caisse.etat === \"0\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 222\n        },\n        __self: this\n      }, React.createElement(Icon, {\n        name: \"sign-out\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 230\n        },\n        __self: this\n      }), \" Fermeture du Caisse\")))), React.createElement(Grid.Row, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 235\n        },\n        __self: this\n      }, React.createElement(Grid.Column, {\n        textAlign: \"center\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 236\n        },\n        __self: this\n      }, React.createElement(\"label\", {\n        className: styles.moneyTitle,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 237\n        },\n        __self: this\n      }, \"Etat Du Compte: \", etatDuCompte))), React.createElement(Grid.Row, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 240\n        },\n        __self: this\n      }, React.createElement(Grid.Column, {\n        textAlign: \"center\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 241\n        },\n        __self: this\n      }, React.createElement(\"label\", {\n        className: styles.moneyTitle,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 242\n        },\n        __self: this\n      }, \"Argent Disponible: $\", moneyCompte, \".00 HTD\"))), React.createElement(Grid.Row, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 245\n        },\n        __self: this\n      }, React.createElement(Grid.Column, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 246\n        },\n        __self: this\n      }, React.createElement(CompteTable, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 247\n        },\n        __self: this\n      })))))));\n    }\n  }]);\n\n  return EtatDuCompte;\n}(PureComponent);\n\nfunction mapStateToProps(_ref3) {\n  var navigation = _ref3.navigation,\n      compte = _ref3.compte,\n      user = _ref3.user;\n  return {\n    navigation: navigation,\n    compte: compte,\n    user: user\n  };\n}\n\nexport default connect(mapStateToProps)(EtatDuCompte);","map":{"version":3,"sources":["/Users/sondley/Desktop/PapaRohenson/sudFront/src/screens/etatDuCompte/etatDuCompte.js"],"names":["React","PureComponent","Button","Icon","Grid","Modal","Input","Dimmer","Search","Form","connect","escapeRegExp","filter","debounce","slice","CustomMenu","CompteTable","endNavigation","getPageIndexByRoute","OpenCaisse","CloseCaisse","getUsers","styles","EtatDuCompte","props","componentDidMount","dispatch","vendeurListe","user","users","role","setState","resetComponent","name","isLoading","results","handleResultSelect","e","data","vendeur","result","title","idVendeur","id","handleSearchChange","value","setTimeout","state","length","source","map","item","_id","prenom","nom","trimmedString","RegExp","isMatch","test","matchedResults","limitedResults","handleOpenCaisse","preventDefault","openCaisseModal","handleCloseCaisse","closeCaisseModal","handleCloseModal","handleInputOnChange","event","target","parseInt","handleSubmit","quantiteDonnee","authedUser","moneyCompte","compte","idUser","quantiteRemise","renderOpenModal","isOpen","basicFormSpacing","icon","iconPosition","leading","rightSpacing","leftSpacing","renderCloseModal","navigation","navigate","window","location","pathname","caisse","etatDuCompte","etat","noMarginBottom","display","rightAligned","buttonSpacing","dateFermer","moneyTitle","mapStateToProps"],"mappings":"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","sourcesContent":["import React, { PureComponent } from \"react\";\nimport { Button, Icon, Grid, Modal, Input, Dimmer, Search, Form } from \"semantic-ui-react\";\nimport { connect } from \"react-redux\";\nimport { escapeRegExp, filter, debounce, slice } from \"lodash\";\n\n//Components\nimport CustomMenu from \"../../components/custom-menu/custom-menu\";\nimport CompteTable from \"../../components/compte-table/comptetable\";\n\n//Logic\nimport { endNavigation, getPageIndexByRoute } from \"../../redux/actions/navigate\";\nimport { OpenCaisse, CloseCaisse } from \"../../redux/actions/compte\";\nimport { getUsers } from \"../../redux/actions/user\";\n\n//Styles\nimport styles from \"./etatducompte.module.css\";\n\nclass EtatDuCompte extends PureComponent {\n\tconstructor(props) {\n\t\tsuper(props);\n\n\t\tthis.state = {\n\t\t\topenCaisseModal: false,\n\t\t\tcloseCaisseModal: false,\n\t\t\tvendeur: \"\",\n\t\t\tidVendeur: \"\",\n\t\t\tquantiteDonnee: \"\",\n\t\t\tvendeurListe: [],\n\t\t\tresults: [],\n\t\t\tisLoading: false\n\t\t};\n\t\tif (this.props.navigation.navigate) {\n\t\t\tthis.props.dispatch(endNavigation());\n\t\t}\n\t\tthis.props.dispatch(getPageIndexByRoute(window.location.pathname));\n\t}\n\n\tcomponentDidMount = async () => {\n\t\tawait this.props.dispatch(getUsers());\n\t\tconst vendeurListe = filter(this.props.user.users, { role: \"vendeur\" });\n\t\tthis.setState({ vendeurListe });\n\t};\n\n\tresetComponent = name => this.setState({ isLoading: false, results: [], [name]: \"\" });\n\n\thandleResultSelect = (e, data) => {\n\t\treturn this.setState({ results: [], vendeur: data.result.title, idVendeur: data.result.id });\n\t};\n\n\thandleSearchChange = (e, { value, name }) => {\n\t\tthis.setState({ [name]: value, isLoading: true });\n\n\t\tsetTimeout(() => {\n\t\t\tif (this.state[name].length < 1) return this.resetComponent(name);\n\t\t\tlet source = this.state.vendeurListe.map(item => {\n\t\t\t\treturn { id: item._id, title: item.prenom + \" \" + item.nom };\n\t\t\t});\n\t\t\tlet trimmedString = new RegExp(escapeRegExp(this.state[name]), \"i\");\n\t\t\tconst isMatch = result => trimmedString.test(result.title);\n\t\t\tconst matchedResults = filter(source, isMatch);\n\t\t\tconst limitedResults = slice(matchedResults, 0, 5);\n\t\t\treturn this.setState({\n\t\t\t\tisLoading: false,\n\t\t\t\tresults: limitedResults\n\t\t\t});\n\t\t}, 500);\n\t};\n\n\thandleOpenCaisse = e => {\n\t\te.preventDefault();\n\t\tthis.setState({ openCaisseModal: true });\n\t};\n\n\thandleCloseCaisse = e => {\n\t\te.preventDefault();\n\t\tthis.setState({ closeCaisseModal: true });\n\t};\n\n\thandleCloseModal = () => {\n\t\tthis.setState({ closeCaisseModal: false, openCaisseModal: false });\n\t};\n\n\thandleInputOnChange = event => {\n\t\tconst { name, value } = event.target;\n\t\tif (parseInt(value) < 0) {\n\t\t\treturn this.setState({ [name]: 0 });\n\t\t} else {\n\t\t\treturn this.setState({ [name]: parseInt(value) });\n\t\t}\n\t};\n\n\thandleSubmit = () => {\n\t\tconst { openCaisseModal, idVendeur, quantiteDonnee } = this.state;\n\t\tconst { authedUser } = this.props.user;\n\t\tconst { moneyCompte } = this.props.compte;\n\t\tif (openCaisseModal) {\n\t\t\t//Open\n\t\t\tconst item = { idVendeur, quantiteDonnee };\n\t\t\treturn this.props.dispatch(OpenCaisse(item, this.handleCloseModal));\n\t\t}\n\t\t//Close\n\t\tconst item = { idUser: authedUser._id, quantiteRemise: moneyCompte };\n\t\treturn this.props.dispatch(CloseCaisse(item, this.handleCloseModal));\n\t};\n\n\trenderOpenModal = isOpen => {\n\t\tif (isOpen) {\n\t\t\treturn (\n\t\t\t\t<Modal size=\"small\" open={isOpen} onClose={this.handleCloseModal}>\n\t\t\t\t\t<Modal.Header>Ouvrir Caisse</Modal.Header>\n\t\t\t\t\t<Modal.Content>\n\t\t\t\t\t\t<Form>\n\t\t\t\t\t\t\t<Form.Field required>\n\t\t\t\t\t\t\t\t<label className={styles.basicFormSpacing}>Chercher un Vendeur</label>\n\t\t\t\t\t\t\t\t<Search\n\t\t\t\t\t\t\t\t\tinput={{ icon: \"search\", iconPosition: \"left\" }}\n\t\t\t\t\t\t\t\t\tsize=\"small\"\n\t\t\t\t\t\t\t\t\tplaceholder=\"Chercher un Vendeur\"\n\t\t\t\t\t\t\t\t\tloading={this.state.isLoading}\n\t\t\t\t\t\t\t\t\tonResultSelect={this.handleResultSelect}\n\t\t\t\t\t\t\t\t\tonSearchChange={debounce(this.handleSearchChange, 500, {\n\t\t\t\t\t\t\t\t\t\tleading: true\n\t\t\t\t\t\t\t\t\t})}\n\t\t\t\t\t\t\t\t\tresults={this.state.results}\n\t\t\t\t\t\t\t\t\tvalue={this.state.vendeur}\n\t\t\t\t\t\t\t\t\tname=\"vendeur\"\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</Form.Field>\n\t\t\t\t\t\t\t<Form.Field required>\n\t\t\t\t\t\t\t\t<label className={styles.basicFormSpacing}>Quantité Donnée</label>\n\t\t\t\t\t\t\t\t<Input\n\t\t\t\t\t\t\t\t\ticon=\"money\"\n\t\t\t\t\t\t\t\t\ticonPosition=\"left\"\n\t\t\t\t\t\t\t\t\tplaceholder=\"Quantité Donnée\"\n\t\t\t\t\t\t\t\t\tname=\"quantiteDonnee\"\n\t\t\t\t\t\t\t\t\ttype=\"number\"\n\t\t\t\t\t\t\t\t\tonChange={this.handleInputOnChange}\n\t\t\t\t\t\t\t\t\tvalue={this.state.quantiteDonnee}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</Form.Field>\n\t\t\t\t\t\t</Form>\n\t\t\t\t\t</Modal.Content>\n\t\t\t\t\t<Modal.Actions>\n\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\tclassName={styles.rightSpacing}\n\t\t\t\t\t\t\tnegative\n\t\t\t\t\t\t\ticon=\"cancel\"\n\t\t\t\t\t\t\tlabelPosition=\"right\"\n\t\t\t\t\t\t\tcontent=\"Non\"\n\t\t\t\t\t\t\tonClick={this.handleCloseModal}\n\t\t\t\t\t\t/>\n\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\tclassName={styles.leftSpacing}\n\t\t\t\t\t\t\tpositive\n\t\t\t\t\t\t\ticon=\"checkmark\"\n\t\t\t\t\t\t\tlabelPosition=\"right\"\n\t\t\t\t\t\t\tcontent=\"Oui\"\n\t\t\t\t\t\t\tonClick={this.handleSubmit}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</Modal.Actions>\n\t\t\t\t</Modal>\n\t\t\t);\n\t\t}\n\t};\n\n\trenderCloseModal = isOpen => {\n\t\tif (isOpen) {\n\t\t\treturn (\n\t\t\t\t<Modal size=\"small\" open={isOpen} onClose={this.handleCloseModal}>\n\t\t\t\t\t<Modal.Header>Fermer Caisse</Modal.Header>\n\t\t\t\t\t<Modal.Content>\n\t\t\t\t\t\t<p>êtes vous sure que vous voulez l'eliminer?</p>\n\t\t\t\t\t</Modal.Content>\n\t\t\t\t\t<Modal.Actions>\n\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\tclassName={styles.rightSpacing}\n\t\t\t\t\t\t\tnegative\n\t\t\t\t\t\t\ticon=\"cancel\"\n\t\t\t\t\t\t\tlabelPosition=\"right\"\n\t\t\t\t\t\t\tcontent=\"Non\"\n\t\t\t\t\t\t\tonClick={this.handleCloseModal}\n\t\t\t\t\t\t/>\n\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\tclassName={styles.leftSpacing}\n\t\t\t\t\t\t\tpositive\n\t\t\t\t\t\t\ticon=\"checkmark\"\n\t\t\t\t\t\t\tlabelPosition=\"right\"\n\t\t\t\t\t\t\tcontent=\"Oui\"\n\t\t\t\t\t\t\tonClick={this.handleSubmit}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</Modal.Actions>\n\t\t\t\t</Modal>\n\t\t\t);\n\t\t}\n\t};\n\n\trender() {\n\t\tconst { openCaisseModal, closeCaisseModal } = this.state;\n\t\tconst { moneyCompte, caisse } = this.props.compte;\n\t\tconst { role } = this.props.user.authedUser;\n\t\tconst etatDuCompte = caisse.etat === \"1\" ? \"C'est Ouverte\" : \"C'est Fermée\";\n\t\treturn (\n\t\t\t<Dimmer.Dimmable blurring dimmed={openCaisseModal || closeCaisseModal}>\n\t\t\t\t{this.renderOpenModal(openCaisseModal)}\n\t\t\t\t{this.renderCloseModal(closeCaisseModal)}\n\t\t\t\t<CustomMenu screenName=\"Etat du Compte\">\n\t\t\t\t\t<div>\n\t\t\t\t\t\t<Grid className={styles.noMarginBottom}>\n\t\t\t\t\t\t\t<Grid.Row style={role === \"contable\" ? { display: \"block\" } : { display: \"none\" }}>\n\t\t\t\t\t\t\t\t<Grid.Column width={16} floated=\"right\" className={styles.rightAligned}>\n\t\t\t\t\t\t\t\t\t<div className={styles.buttonSpacing}>\n\t\t\t\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\t\t\t\ticon\n\t\t\t\t\t\t\t\t\t\t\tlabelPosition=\"left\"\n\t\t\t\t\t\t\t\t\t\t\tcolor=\"brown\"\n\t\t\t\t\t\t\t\t\t\t\tsize=\"small\"\n\t\t\t\t\t\t\t\t\t\t\tonClick={this.handleOpenCaisse}\n\t\t\t\t\t\t\t\t\t\t\tdisabled={caisse.etat === \"1\" || caisse.dateFermer !== \"\"}\n\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t<Icon name=\"sign-in\" /> Ouverture du Caisse\n\t\t\t\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\t\t\t\ticon\n\t\t\t\t\t\t\t\t\t\t\tlabelPosition=\"left\"\n\t\t\t\t\t\t\t\t\t\t\tcolor=\"green\"\n\t\t\t\t\t\t\t\t\t\t\tsize=\"small\"\n\t\t\t\t\t\t\t\t\t\t\tonClick={this.handleCloseCaisse}\n\t\t\t\t\t\t\t\t\t\t\tdisabled={caisse.etat === \"0\"}\n\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t<Icon name=\"sign-out\" /> Fermeture du Caisse\n\t\t\t\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t</Grid.Column>\n\t\t\t\t\t\t\t</Grid.Row>\n\t\t\t\t\t\t\t<Grid.Row>\n\t\t\t\t\t\t\t\t<Grid.Column textAlign=\"center\">\n\t\t\t\t\t\t\t\t\t<label className={styles.moneyTitle}>Etat Du Compte: {etatDuCompte}</label>\n\t\t\t\t\t\t\t\t</Grid.Column>\n\t\t\t\t\t\t\t</Grid.Row>\n\t\t\t\t\t\t\t<Grid.Row>\n\t\t\t\t\t\t\t\t<Grid.Column textAlign=\"center\">\n\t\t\t\t\t\t\t\t\t<label className={styles.moneyTitle}>Argent Disponible: ${moneyCompte}.00 HTD</label>\n\t\t\t\t\t\t\t\t</Grid.Column>\n\t\t\t\t\t\t\t</Grid.Row>\n\t\t\t\t\t\t\t<Grid.Row>\n\t\t\t\t\t\t\t\t<Grid.Column>\n\t\t\t\t\t\t\t\t\t<CompteTable />\n\t\t\t\t\t\t\t\t</Grid.Column>\n\t\t\t\t\t\t\t</Grid.Row>\n\t\t\t\t\t\t</Grid>\n\t\t\t\t\t</div>\n\t\t\t\t</CustomMenu>\n\t\t\t</Dimmer.Dimmable>\n\t\t);\n\t}\n}\n\nfunction mapStateToProps({ navigation, compte, user }) {\n\treturn { navigation, compte, user };\n}\n\nexport default connect(mapStateToProps)(EtatDuCompte);\n"]},"metadata":{},"sourceType":"module"}