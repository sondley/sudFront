{"ast":null,"code":"import _regeneratorRuntime from \"/Users/sondley/Desktop/PapaRohenson/grandsud/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"/Users/sondley/Desktop/PapaRohenson/grandsud/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nimport _objectSpread from \"/Users/sondley/Desktop/PapaRohenson/grandsud/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread\";\nimport _defineProperty from \"/Users/sondley/Desktop/PapaRohenson/grandsud/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";\nimport _classCallCheck from \"/Users/sondley/Desktop/PapaRohenson/grandsud/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/sondley/Desktop/PapaRohenson/grandsud/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/sondley/Desktop/PapaRohenson/grandsud/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/sondley/Desktop/PapaRohenson/grandsud/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/sondley/Desktop/PapaRohenson/grandsud/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/Users/sondley/Desktop/PapaRohenson/grandsud/src/components/buy-form/buyform.js\";\nimport React, { PureComponent } from \"react\";\nimport { connect } from \"react-redux\";\nimport { Form, Input, Button, Message, Dimmer, Icon, Card, Search, Table, Modal, Divider } from \"semantic-ui-react\";\nimport { createBuy, modifyBuy } from \"../../redux/actions/buys\";\nimport { getProviders } from \"../../redux/actions/provider\";\nimport { getProducts } from \"../../redux/actions/product\";\nimport { escapeRegExp, filter, debounce, isEmpty, slice, find } from \"lodash\"; // Internal Components\n\nimport BuyProductForm from \"../buy-product-form/buyproductform\";\nimport ProduitForm from \"../produit-form/produitform\";\nimport ProviderForm from \"../provider-form/providerform\"; //Styles\n\nimport styles from \"./buyform.module.css\";\n\nvar BuyForm =\n/*#__PURE__*/\nfunction (_PureComponent) {\n  _inherits(BuyForm, _PureComponent);\n\n  function BuyForm(props) {\n    var _this;\n\n    _classCallCheck(this, BuyForm);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(BuyForm).call(this, props));\n\n    _this.handleChange = function (event) {\n      event.preventDefault();\n      var _event$target = event.target,\n          name = _event$target.name,\n          value = _event$target.value;\n\n      _this.setState(_defineProperty({}, name, value));\n    };\n\n    _this.handleModalClose = function () {\n      _this.setState({\n        isModalOpen: false,\n        isProductModalOpen: false,\n        isProviderModalOpen: false,\n        isNewProductModalOpen: false\n      });\n    };\n\n    _this.addToList = function (id, name, priceUnit, quantity) {\n      var newProduct = {\n        idProduit: id,\n        nom: name,\n        prixUnite: priceUnit,\n        quantite: quantity,\n        total: parseInt(priceUnit) * parseInt(quantity)\n      };\n\n      var newList = _this.state.productList.concat(newProduct);\n\n      _this.setState({\n        productList: newList\n      });\n    };\n\n    _this.reduceToList = function (id, quantity) {\n      var repeatedItem = find(_this.state.productList, {\n        idProduit: id\n      });\n\n      var newProduct = _objectSpread({}, repeatedItem, {\n        quantite: quantity + repeatedItem.quantite,\n        total: parseInt(repeatedItem.prixUnite) * parseInt(quantity + repeatedItem.quantite)\n      });\n\n      var newList = _this.state.productList.map(function (item) {\n        if (item.idProduit !== newProduct.idProduit) {\n          return item;\n        }\n\n        return _objectSpread({}, item, newProduct);\n      });\n\n      _this.setState({\n        productList: newList\n      });\n    };\n\n    _this.resetComponent = function (name) {\n      return _this.setState(_defineProperty({\n        isLoading: false,\n        results: []\n      }, name, \"\"));\n    };\n\n    _this.handleResultSelect = function (e, data) {\n      if (data.name === \"product\") {\n        var getProduct = function getProduct(id) {\n          return filter(_this.props.product.products, {\n            _id: id\n          });\n        };\n\n        var _item = getProduct(data.result.id);\n\n        var repeatedItem = find(_this.state.productList, {\n          idProduit: _item[0]._id\n        });\n\n        if (repeatedItem) {\n          return _this.setState({\n            results: [],\n            product: \"\",\n            isProductModalOpen: true,\n            item: _item[0],\n            productModalType: \"repeat\"\n          });\n        } else {\n          return _this.setState({\n            results: [],\n            product: \"\",\n            isProductModalOpen: true,\n            item: _item[0],\n            productModalType: \"new\"\n          });\n        }\n      }\n\n      var getProvider = function getProvider(id) {\n        return filter(_this.props.provider.providers, {\n          _id: id\n        });\n      };\n\n      var item = getProvider(data.result.id);\n      return _this.setState({\n        results: [],\n        clientName: item[0].nom,\n        fournisseur: item[0]\n      });\n    };\n\n    _this.handleSearchChange = function (e, _ref) {\n      var _this$setState3;\n\n      var value = _ref.value,\n          name = _ref.name;\n\n      _this.setState((_this$setState3 = {}, _defineProperty(_this$setState3, name, value), _defineProperty(_this$setState3, \"isLoading\", true), _this$setState3));\n\n      setTimeout(function () {\n        if (_this.state[name].length < 1) return _this.resetComponent(name);\n        var source = {};\n\n        if (name === \"product\") {\n          source = _this.props.product.products.map(function (item) {\n            return {\n              id: item._id,\n              title: item.nom\n            };\n          });\n        } else {\n          source = _this.props.provider.providers.map(function (item) {\n            return {\n              id: item._id,\n              title: item.nom\n            };\n          });\n        }\n\n        var trimmedString = new RegExp(escapeRegExp(_this.state[name]), \"i\");\n\n        var isMatch = function isMatch(result) {\n          return trimmedString.test(result.title);\n        };\n\n        var matchedResults = filter(source, isMatch);\n        var limitedResults = slice(matchedResults, 0, 5);\n        return _this.setState({\n          isLoading: false,\n          results: limitedResults\n        });\n      }, 500);\n    };\n\n    _this.handleAddProvider = function (e) {\n      _this.setState({\n        isProviderModalOpen: true\n      });\n    };\n\n    _this.handleAddProduct = function (e) {\n      _this.setState({\n        isNewProductModalOpen: true\n      });\n    };\n\n    _this.handleSubmit = function (event) {\n      event.preventDefault();\n      var _this$state = _this.state,\n          productList = _this$state.productList,\n          fournisseur = _this$state.fournisseur;\n\n      if (!_this.state.formError) {\n        if (_this.state.edit) {\n          var _achat = _objectSpread({}, _this.props.data, {\n            idProvider: fournisseur._id,\n            idUser: _this.props.user.authedUser._id,\n            arrayAchat: productList.map(function (item) {\n              return {\n                idProduit: item.idProduit,\n                quantite: item.quantite,\n                prixUnite: item.prixUnite\n              };\n            })\n          });\n\n          return _this.props.dispatch(modifyBuy(_achat, _this.props.onClose));\n        }\n\n        var achat = {\n          idProvider: fournisseur._id,\n          idUser: _this.props.user.authedUser._id,\n          arrayAchat: productList.map(function (item) {\n            return {\n              idProduit: item.idProduit,\n              quantite: item.quantite,\n              prixUnite: item.prixUnite\n            };\n          })\n        };\n\n        _this.props.dispatch(createBuy(achat, _this.props.onClose));\n      } else {\n        _this.setState({\n          isModalOpen: true\n        });\n      }\n    };\n\n    _this.handleDeleteRow = function (e, id) {\n      e.preventDefault();\n\n      var newList = _this.state.productList.filter(function (_ref2) {\n        var _id = _ref2._id;\n        return _id !== id;\n      });\n\n      _this.setState({\n        productList: newList\n      });\n    };\n\n    _this.renderTotal = function (data) {\n      var total = data.reduce(function (intTotal, objItem) {\n        return intTotal + parseInt(objItem.total);\n      }, 0);\n      return total;\n    };\n\n    _this.renderTableRows = function (data) {\n      if (!isEmpty(data)) {\n        var rows;\n        rows = data.map(function (item) {\n          if (_this.state.view) {\n            return React.createElement(Table.Row, {\n              key: item._id,\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 215\n              },\n              __self: this\n            }, React.createElement(Table.Cell, {\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 216\n              },\n              __self: this\n            }, item.nom), React.createElement(Table.Cell, {\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 217\n              },\n              __self: this\n            }, item.prixUnite), React.createElement(Table.Cell, {\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 218\n              },\n              __self: this\n            }, item.quantite), React.createElement(Table.Cell, {\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 219\n              },\n              __self: this\n            }, item.total));\n          } else {\n            return React.createElement(Table.Row, {\n              key: item.idProduit,\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 224\n              },\n              __self: this\n            }, React.createElement(Table.Cell, {\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 225\n              },\n              __self: this\n            }, item.nom), React.createElement(Table.Cell, {\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 226\n              },\n              __self: this\n            }, item.prixUnite), React.createElement(Table.Cell, {\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 227\n              },\n              __self: this\n            }, item.quantite), React.createElement(Table.Cell, {\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 228\n              },\n              __self: this\n            }, item.total), React.createElement(Table.Cell, {\n              collapsing: true,\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 229\n              },\n              __self: this\n            }, React.createElement(Button, {\n              icon: \"minus square\",\n              color: \"red\",\n              onClick: function onClick(e) {\n                _this.handleDeleteRow(e, item._id);\n              },\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 230\n              },\n              __self: this\n            })));\n          }\n        });\n        return rows;\n      }\n\n      return;\n    };\n\n    _this.renderTotals = function (etat) {\n      if (etat === \"0\") {\n        return React.createElement(\"div\", {\n          className: styles.labelMultipleSpacing,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 250\n          },\n          __self: this\n        }, React.createElement(\"label\", {\n          className: styles.flexEnd,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 251\n          },\n          __self: this\n        }, \"Transport Frais: $\", _this.props.data.transportFrais, \".00 HTG\"), React.createElement(\"label\", {\n          className: styles.flexEnd,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 252\n          },\n          __self: this\n        }, \"Autres: $\", _this.props.data.autres, \".00 HTG\"), React.createElement(Divider, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 253\n          },\n          __self: this\n        }), React.createElement(\"label\", {\n          className: styles.flexEnd,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 254\n          },\n          __self: this\n        }, \"Total: $\", _this.props.data.totalFinal, \".00 HTG\"));\n      }\n\n      return React.createElement(\"div\", {\n        className: styles.labelSpacing,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 258\n        },\n        __self: this\n      }, \"Total: $\", _this.state.total, \".00 HTG\");\n    };\n\n    _this.state = {\n      edit: false || _this.props.edit,\n      view: false || _this.props.view,\n      headerErrorMessage: \"\",\n      clientName: \"\",\n      total: 0,\n      product: \"\",\n      productList: [],\n      isModalOpen: false,\n      isProductModalOpen: false,\n      productModalType: \"new\",\n      isProviderModalOpen: false,\n      isNewProductModalOpen: false,\n      results: [],\n      item: {},\n      fournisseur: {},\n      isLoading: false\n    };\n\n    if (!_this.state.view) {\n      _this.props.dispatch(getProducts());\n    }\n\n    return _this;\n  }\n\n  _createClass(BuyForm, [{\n    key: \"componentDidMount\",\n    value: function () {\n      var _componentDidMount = _asyncToGenerator(\n      /*#__PURE__*/\n      _regeneratorRuntime.mark(function _callee() {\n        var provider;\n        return _regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                if (!isEmpty(this.props.provider.providers)) {\n                  _context.next = 3;\n                  break;\n                }\n\n                _context.next = 3;\n                return this.props.dispatch(getProviders());\n\n              case 3:\n                if (this.state.edit || this.state.view) {\n                  provider = filter(this.props.provider.providers, {\n                    nom: this.props.data.provider\n                  });\n                  this.setState({\n                    clientName: this.props.data.provider,\n                    total: this.props.data.total,\n                    productList: this.props.data.arrayAchat,\n                    fournisseur: provider[0]\n                  });\n                }\n\n              case 4:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee, this);\n      }));\n\n      function componentDidMount() {\n        return _componentDidMount.apply(this, arguments);\n      }\n\n      return componentDidMount;\n    }()\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this$state2 = this.state,\n          isLoading = _this$state2.isLoading,\n          results = _this$state2.results;\n      var title = \"Entrain de Faire un Achat\";\n      var label = \"Ajouter\";\n\n      if (this.state.edit) {\n        title = \"Entrain de Modifier l'Achat\";\n        label = \"Modifier\";\n      } else if (this.state.view) {\n        title = \"Entrain de Voir l'Achat\";\n      }\n\n      if (this.state.view) {\n        return React.createElement(Dimmer.Dimmable, {\n          dimmed: this.state.isModalOpen,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 274\n          },\n          __self: this\n        }, React.createElement(Dimmer, {\n          verticalAlign: \"top\",\n          active: this.state.isModalOpen,\n          page: true,\n          onClickOutside: this.handleModalClose,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 275\n          },\n          __self: this\n        }, React.createElement(Message, {\n          className: styles.dimmerMargin,\n          negative: true,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 276\n          },\n          __self: this\n        }, React.createElement(Message.Item, {\n          className: styles.noStyleList,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 277\n          },\n          __self: this\n        }, React.createElement(Icon, {\n          name: \"warning sign\",\n          size: \"huge\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 278\n          },\n          __self: this\n        })), React.createElement(Message.Header, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 280\n          },\n          __self: this\n        }, this.state.headerErrorMessage), React.createElement(Message.Content, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 281\n          },\n          __self: this\n        }, this.state.contentErrorMessage))), React.createElement(Card, {\n          fluid: true,\n          centered: true,\n          className: styles.boxContainerWide,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 284\n          },\n          __self: this\n        }, React.createElement(Card.Content, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 285\n          },\n          __self: this\n        }, React.createElement(Card.Header, {\n          className: \"font font-18\",\n          textAlign: \"center\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 286\n          },\n          __self: this\n        }, title), React.createElement(\"div\", {\n          className: styles.basicFormContainer,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 289\n          },\n          __self: this\n        }, React.createElement(Form, {\n          className: styles.basicFormWidth,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 290\n          },\n          __self: this\n        }, React.createElement(Form.Group, {\n          grouped: true,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 291\n          },\n          __self: this\n        }, React.createElement(Form.Field, {\n          required: true,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 292\n          },\n          __self: this\n        }, React.createElement(\"label\", {\n          className: styles.basicFormSpacing,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 293\n          },\n          __self: this\n        }, \"Nom du Fournisseur\"), React.createElement(Input, {\n          disabled: this.state.view,\n          icon: \"code\",\n          iconPosition: \"left\",\n          placeholder: \"Nom du Fournisseur\",\n          name: \"clientName\",\n          value: this.state.clientName,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 294\n          },\n          __self: this\n        })), React.createElement(\"div\", {\n          className: styles.basicFormSpacing,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 303\n          },\n          __self: this\n        }, React.createElement(Table, {\n          selectable: true,\n          compact: true,\n          celled: true,\n          striped: true,\n          size: \"small\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 304\n          },\n          __self: this\n        }, React.createElement(Table.Header, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 305\n          },\n          __self: this\n        }, React.createElement(Table.Row, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 306\n          },\n          __self: this\n        }, React.createElement(Table.HeaderCell, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 307\n          },\n          __self: this\n        }, \"Nom du Produit\"), React.createElement(Table.HeaderCell, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 308\n          },\n          __self: this\n        }, \"Prix Unite\"), React.createElement(Table.HeaderCell, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 309\n          },\n          __self: this\n        }, \"Quantite\"), React.createElement(Table.HeaderCell, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 310\n          },\n          __self: this\n        }, \"Total\"))), React.createElement(Table.Body, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 313\n          },\n          __self: this\n        }, this.renderTableRows(this.state.productList)))), this.renderTotals(this.props.data.etat)))))));\n      }\n\n      return React.createElement(Dimmer.Dimmable, {\n        dimmed: this.state.isModalOpen,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 326\n        },\n        __self: this\n      }, React.createElement(Dimmer, {\n        verticalAlign: \"top\",\n        active: this.state.isModalOpen,\n        page: true,\n        onClickOutside: this.handleModalClose,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 327\n        },\n        __self: this\n      }, React.createElement(Message, {\n        className: styles.dimmerMargin,\n        negative: true,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 328\n        },\n        __self: this\n      }, React.createElement(Message.Item, {\n        className: styles.noStyleList,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 329\n        },\n        __self: this\n      }, React.createElement(Icon, {\n        name: \"warning sign\",\n        size: \"huge\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 330\n        },\n        __self: this\n      })), React.createElement(Message.Header, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 332\n        },\n        __self: this\n      }, this.state.headerErrorMessage), React.createElement(Message.Content, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 333\n        },\n        __self: this\n      }, this.state.contentErrorMessage))), React.createElement(Modal, {\n        open: this.state.isProductModalOpen,\n        onClose: this.handleModalClose,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 336\n        },\n        __self: this\n      }, React.createElement(BuyProductForm, {\n        type: this.state.productModalType,\n        item: this.state.item,\n        addToList: this.addToList,\n        reduceToList: this.reduceToList,\n        onClose: this.handleModalClose,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 337\n        },\n        __self: this\n      })), React.createElement(Modal, {\n        open: this.state.isNewProductModalOpen,\n        onClose: this.handleModalClose,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 345\n        },\n        __self: this\n      }, React.createElement(ProduitForm, {\n        achat: true,\n        data: this.state.clientName,\n        onClose: this.handleModalClose,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 346\n        },\n        __self: this\n      })), React.createElement(Modal, {\n        open: this.state.isProviderModalOpen,\n        onClose: this.handleModalClose,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 348\n        },\n        __self: this\n      }, React.createElement(ProviderForm, {\n        onClose: this.handleModalClose,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 349\n        },\n        __self: this\n      })), React.createElement(Card, {\n        fluid: true,\n        centered: true,\n        className: styles.boxContainerWide,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 351\n        },\n        __self: this\n      }, React.createElement(Card.Content, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 352\n        },\n        __self: this\n      }, React.createElement(Card.Header, {\n        className: \"font font-18\",\n        textAlign: \"center\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 353\n        },\n        __self: this\n      }, title), React.createElement(Card.Meta, {\n        className: \"font font-16\",\n        textAlign: \"center\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 356\n        },\n        __self: this\n      }, \"Completer les champs du formulaire\"), React.createElement(\"div\", {\n        className: styles.basicFormContainer,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 359\n        },\n        __self: this\n      }, React.createElement(Form, {\n        className: styles.basicFormWidth,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 360\n        },\n        __self: this\n      }, React.createElement(Form.Group, {\n        grouped: true,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 361\n        },\n        __self: this\n      }, React.createElement(Form.Field, {\n        required: true,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 362\n        },\n        __self: this\n      }, React.createElement(\"label\", {\n        className: styles.basicFormSpacing,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 363\n        },\n        __self: this\n      }, \"Nom du Fournisseur\"), React.createElement(\"div\", {\n        className: styles.spaceBetween,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 364\n        },\n        __self: this\n      }, React.createElement(Search, {\n        style: {\n          flex: 5\n        },\n        input: {\n          icon: \"search\",\n          iconPosition: \"left\"\n        },\n        size: \"small\",\n        disabled: this.state.view,\n        placeholder: \"Search a Fournisseur\",\n        loading: isLoading,\n        onResultSelect: this.handleResultSelect,\n        onSearchChange: debounce(this.handleSearchChange, 500, {\n          leading: true\n        }),\n        results: results,\n        value: this.state.clientName,\n        name: \"clientName\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 365\n        },\n        __self: this\n      }), React.createElement(Button, {\n        style: {\n          flex: 2,\n          marginLeft: \"5px\"\n        },\n        icon: true,\n        labelPosition: \"left\",\n        positive: true,\n        size: \"small\",\n        onClick: this.handleAddProvider,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 380\n        },\n        __self: this\n      }, React.createElement(Icon, {\n        name: \"add\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 388\n        },\n        __self: this\n      }), \" Ajouter un Fournisseur\"))), React.createElement(Form.Field, {\n        required: true,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 392\n        },\n        __self: this\n      }, React.createElement(\"label\", {\n        className: styles.basicFormSpacing,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 393\n        },\n        __self: this\n      }, \"Search a Produit\"), React.createElement(\"div\", {\n        className: styles.spaceBetween,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 394\n        },\n        __self: this\n      }, React.createElement(Search, {\n        style: {\n          flex: 3\n        },\n        input: {\n          icon: \"search\",\n          iconPosition: \"left\"\n        },\n        size: \"small\",\n        disabled: this.state.view,\n        placeholder: \"Search a Produit\",\n        loading: isLoading,\n        onResultSelect: this.handleResultSelect,\n        onSearchChange: debounce(this.handleSearchChange, 500, {\n          leading: true\n        }),\n        results: results,\n        value: this.state.product,\n        name: \"product\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 395\n        },\n        __self: this\n      }), React.createElement(Button, {\n        disabled: this.state.clientName === \"\",\n        style: {\n          flex: 1,\n          marginLeft: \"5px\"\n        },\n        icon: true,\n        labelPosition: \"left\",\n        positive: true,\n        size: \"small\",\n        onClick: this.handleAddProduct,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 410\n        },\n        __self: this\n      }, React.createElement(Icon, {\n        name: \"add\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 419\n        },\n        __self: this\n      }), \" Ajouter un Produit\"))), React.createElement(\"div\", {\n        className: styles.basicFormSpacing,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 423\n        },\n        __self: this\n      }, React.createElement(Table, {\n        selectable: true,\n        compact: true,\n        celled: true,\n        striped: true,\n        size: \"small\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 424\n        },\n        __self: this\n      }, React.createElement(Table.Header, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 425\n        },\n        __self: this\n      }, React.createElement(Table.Row, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 426\n        },\n        __self: this\n      }, React.createElement(Table.HeaderCell, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 427\n        },\n        __self: this\n      }, \"Nom du Produit\"), React.createElement(Table.HeaderCell, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 428\n        },\n        __self: this\n      }, \"Prix Unite\"), React.createElement(Table.HeaderCell, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 429\n        },\n        __self: this\n      }, \"Quantite\"), React.createElement(Table.HeaderCell, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 430\n        },\n        __self: this\n      }, \"Total\"), React.createElement(Table.HeaderCell, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 431\n        },\n        __self: this\n      }, \"Actions\"))), React.createElement(Table.Body, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 435\n        },\n        __self: this\n      }, this.renderTableRows(this.state.productList))))))), React.createElement(\"div\", {\n        className: styles.labelSpacing,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 441\n        },\n        __self: this\n      }, \"Total: \", this.renderTotal(this.state.productList)), React.createElement(\"div\", {\n        style: this.state.view ? {\n          display: \"none\"\n        } : {\n          display: \"block\"\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 442\n        },\n        __self: this\n      }, React.createElement(Button, {\n        fluid: true,\n        size: \"small\",\n        color: \"teal\",\n        content: label,\n        onClick: this.handleSubmit,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 443\n        },\n        __self: this\n      })))));\n    }\n  }]);\n\n  return BuyForm;\n}(PureComponent);\n\nfunction mapStateToProps(_ref3) {\n  var product = _ref3.product,\n      user = _ref3.user,\n      provider = _ref3.provider;\n  return {\n    product: product,\n    user: user,\n    provider: provider\n  };\n}\n\nexport default connect(mapStateToProps)(BuyForm);","map":{"version":3,"sources":["/Users/sondley/Desktop/PapaRohenson/grandsud/src/components/buy-form/buyform.js"],"names":["React","PureComponent","connect","Form","Input","Button","Message","Dimmer","Icon","Card","Search","Table","Modal","Divider","createBuy","modifyBuy","getProviders","getProducts","escapeRegExp","filter","debounce","isEmpty","slice","find","BuyProductForm","ProduitForm","ProviderForm","styles","BuyForm","props","handleChange","event","preventDefault","target","name","value","setState","handleModalClose","isModalOpen","isProductModalOpen","isProviderModalOpen","isNewProductModalOpen","addToList","id","priceUnit","quantity","newProduct","idProduit","nom","prixUnite","quantite","total","parseInt","newList","state","productList","concat","reduceToList","repeatedItem","map","item","resetComponent","isLoading","results","handleResultSelect","e","data","getProduct","product","products","_id","result","productModalType","getProvider","provider","providers","clientName","fournisseur","handleSearchChange","setTimeout","length","source","title","trimmedString","RegExp","isMatch","test","matchedResults","limitedResults","handleAddProvider","handleAddProduct","handleSubmit","formError","edit","achat","idProvider","idUser","user","authedUser","arrayAchat","dispatch","onClose","handleDeleteRow","renderTotal","reduce","intTotal","objItem","renderTableRows","rows","view","renderTotals","etat","labelMultipleSpacing","flexEnd","transportFrais","autres","totalFinal","labelSpacing","headerErrorMessage","label","dimmerMargin","noStyleList","contentErrorMessage","boxContainerWide","basicFormContainer","basicFormWidth","basicFormSpacing","spaceBetween","flex","icon","iconPosition","leading","marginLeft","display","mapStateToProps"],"mappings":";;;;;;;;;;AAAA,OAAOA,KAAP,IAAgBC,aAAhB,QAAqC,OAArC;AACA,SAASC,OAAT,QAAwB,aAAxB;AACA,SAASC,IAAT,EAAeC,KAAf,EAAsBC,MAAtB,EAA8BC,OAA9B,EAAuCC,MAAvC,EAA+CC,IAA/C,EAAqDC,IAArD,EAA2DC,MAA3D,EAAmEC,KAAnE,EAA0EC,KAA1E,EAAiFC,OAAjF,QAAgG,mBAAhG;AACA,SAASC,SAAT,EAAoBC,SAApB,QAAqC,0BAArC;AACA,SAASC,YAAT,QAA6B,8BAA7B;AACA,SAASC,WAAT,QAA4B,6BAA5B;AACA,SAASC,YAAT,EAAuBC,MAAvB,EAA+BC,QAA/B,EAAyCC,OAAzC,EAAkDC,KAAlD,EAAyDC,IAAzD,QAAqE,QAArE,C,CAEA;;AACA,OAAOC,cAAP,MAA2B,oCAA3B;AACA,OAAOC,WAAP,MAAwB,6BAAxB;AACA,OAAOC,YAAP,MAAyB,+BAAzB,C,CAEA;;AACA,OAAOC,MAAP,MAAmB,sBAAnB;;IAEMC,O;;;;;AACL,mBAAYC,KAAZ,EAAmB;AAAA;;AAAA;;AAClB,iFAAMA,KAAN;;AADkB,UAyCnBC,YAzCmB,GAyCJ,UAAAC,KAAK,EAAI;AACvBA,MAAAA,KAAK,CAACC,cAAN;AADuB,0BAECD,KAAK,CAACE,MAFP;AAAA,UAEfC,IAFe,iBAEfA,IAFe;AAAA,UAETC,KAFS,iBAETA,KAFS;;AAGvB,YAAKC,QAAL,qBAAiBF,IAAjB,EAAwBC,KAAxB;AACA,KA7CkB;;AAAA,UA+CnBE,gBA/CmB,GA+CA,YAAM;AACxB,YAAKD,QAAL,CAAc;AACbE,QAAAA,WAAW,EAAE,KADA;AAEbC,QAAAA,kBAAkB,EAAE,KAFP;AAGbC,QAAAA,mBAAmB,EAAE,KAHR;AAIbC,QAAAA,qBAAqB,EAAE;AAJV,OAAd;AAMA,KAtDkB;;AAAA,UAwDnBC,SAxDmB,GAwDP,UAACC,EAAD,EAAKT,IAAL,EAAWU,SAAX,EAAsBC,QAAtB,EAAmC;AAC9C,UAAMC,UAAU,GAAG;AAClBC,QAAAA,SAAS,EAAEJ,EADO;AAElBK,QAAAA,GAAG,EAAEd,IAFa;AAGlBe,QAAAA,SAAS,EAAEL,SAHO;AAIlBM,QAAAA,QAAQ,EAAEL,QAJQ;AAKlBM,QAAAA,KAAK,EAAEC,QAAQ,CAACR,SAAD,CAAR,GAAsBQ,QAAQ,CAACP,QAAD;AALnB,OAAnB;;AAOA,UAAMQ,OAAO,GAAG,MAAKC,KAAL,CAAWC,WAAX,CAAuBC,MAAvB,CAA8BV,UAA9B,CAAhB;;AACA,YAAKV,QAAL,CAAc;AAAEmB,QAAAA,WAAW,EAAEF;AAAf,OAAd;AACA,KAlEkB;;AAAA,UAoEnBI,YApEmB,GAoEJ,UAACd,EAAD,EAAKE,QAAL,EAAkB;AAChC,UAAIa,YAAY,GAAGnC,IAAI,CAAC,MAAK+B,KAAL,CAAWC,WAAZ,EAAyB;AAAER,QAAAA,SAAS,EAAEJ;AAAb,OAAzB,CAAvB;;AACA,UAAMG,UAAU,qBACZY,YADY;AAEfR,QAAAA,QAAQ,EAAEL,QAAQ,GAAGa,YAAY,CAACR,QAFnB;AAGfC,QAAAA,KAAK,EAAEC,QAAQ,CAACM,YAAY,CAACT,SAAd,CAAR,GAAmCG,QAAQ,CAACP,QAAQ,GAAGa,YAAY,CAACR,QAAzB;AAHnC,QAAhB;;AAKA,UAAMG,OAAO,GAAG,MAAKC,KAAL,CAAWC,WAAX,CAAuBI,GAAvB,CAA2B,UAAAC,IAAI,EAAI;AAClD,YAAIA,IAAI,CAACb,SAAL,KAAmBD,UAAU,CAACC,SAAlC,EAA6C;AAC5C,iBAAOa,IAAP;AACA;;AACD,iCAAYA,IAAZ,EAAqBd,UAArB;AACA,OALe,CAAhB;;AAMA,YAAKV,QAAL,CAAc;AAAEmB,QAAAA,WAAW,EAAEF;AAAf,OAAd;AACA,KAlFkB;;AAAA,UAoFnBQ,cApFmB,GAoFF,UAAA3B,IAAI;AAAA,aAAI,MAAKE,QAAL;AAAgB0B,QAAAA,SAAS,EAAE,KAA3B;AAAkCC,QAAAA,OAAO,EAAE;AAA3C,SAAgD7B,IAAhD,EAAuD,EAAvD,EAAJ;AAAA,KApFF;;AAAA,UAsFnB8B,kBAtFmB,GAsFE,UAACC,CAAD,EAAIC,IAAJ,EAAa;AACjC,UAAIA,IAAI,CAAChC,IAAL,KAAc,SAAlB,EAA6B;AAC5B,YAAMiC,UAAU,GAAG,SAAbA,UAAa,CAAAxB,EAAE;AAAA,iBAAIxB,MAAM,CAAC,MAAKU,KAAL,CAAWuC,OAAX,CAAmBC,QAApB,EAA8B;AAAEC,YAAAA,GAAG,EAAE3B;AAAP,WAA9B,CAAV;AAAA,SAArB;;AACA,YAAMiB,KAAI,GAAGO,UAAU,CAACD,IAAI,CAACK,MAAL,CAAY5B,EAAb,CAAvB;;AACA,YAAIe,YAAY,GAAGnC,IAAI,CAAC,MAAK+B,KAAL,CAAWC,WAAZ,EAAyB;AAAER,UAAAA,SAAS,EAAEa,KAAI,CAAC,CAAD,CAAJ,CAAQU;AAArB,SAAzB,CAAvB;;AACA,YAAIZ,YAAJ,EAAkB;AACjB,iBAAO,MAAKtB,QAAL,CAAc;AACpB2B,YAAAA,OAAO,EAAE,EADW;AAEpBK,YAAAA,OAAO,EAAE,EAFW;AAGpB7B,YAAAA,kBAAkB,EAAE,IAHA;AAIpBqB,YAAAA,IAAI,EAAEA,KAAI,CAAC,CAAD,CAJU;AAKpBY,YAAAA,gBAAgB,EAAE;AALE,WAAd,CAAP;AAOA,SARD,MAQO;AACN,iBAAO,MAAKpC,QAAL,CAAc;AACpB2B,YAAAA,OAAO,EAAE,EADW;AAEpBK,YAAAA,OAAO,EAAE,EAFW;AAGpB7B,YAAAA,kBAAkB,EAAE,IAHA;AAIpBqB,YAAAA,IAAI,EAAEA,KAAI,CAAC,CAAD,CAJU;AAKpBY,YAAAA,gBAAgB,EAAE;AALE,WAAd,CAAP;AAOA;AACD;;AACD,UAAMC,WAAW,GAAG,SAAdA,WAAc,CAAA9B,EAAE;AAAA,eAAIxB,MAAM,CAAC,MAAKU,KAAL,CAAW6C,QAAX,CAAoBC,SAArB,EAAgC;AAAEL,UAAAA,GAAG,EAAE3B;AAAP,SAAhC,CAAV;AAAA,OAAtB;;AACA,UAAMiB,IAAI,GAAGa,WAAW,CAACP,IAAI,CAACK,MAAL,CAAY5B,EAAb,CAAxB;AACA,aAAO,MAAKP,QAAL,CAAc;AAAE2B,QAAAA,OAAO,EAAE,EAAX;AAAea,QAAAA,UAAU,EAAEhB,IAAI,CAAC,CAAD,CAAJ,CAAQZ,GAAnC;AAAwC6B,QAAAA,WAAW,EAAEjB,IAAI,CAAC,CAAD;AAAzD,OAAd,CAAP;AACA,KAhHkB;;AAAA,UAkHnBkB,kBAlHmB,GAkHE,UAACb,CAAD,QAAwB;AAAA;;AAAA,UAAlB9B,KAAkB,QAAlBA,KAAkB;AAAA,UAAXD,IAAW,QAAXA,IAAW;;AAC5C,YAAKE,QAAL,yDAAiBF,IAAjB,EAAwBC,KAAxB,iDAA0C,IAA1C;;AAEA4C,MAAAA,UAAU,CAAC,YAAM;AAChB,YAAI,MAAKzB,KAAL,CAAWpB,IAAX,EAAiB8C,MAAjB,GAA0B,CAA9B,EAAiC,OAAO,MAAKnB,cAAL,CAAoB3B,IAApB,CAAP;AACjC,YAAI+C,MAAM,GAAG,EAAb;;AACA,YAAI/C,IAAI,KAAK,SAAb,EAAwB;AACvB+C,UAAAA,MAAM,GAAG,MAAKpD,KAAL,CAAWuC,OAAX,CAAmBC,QAAnB,CAA4BV,GAA5B,CAAgC,UAAAC,IAAI,EAAI;AAChD,mBAAO;AAAEjB,cAAAA,EAAE,EAAEiB,IAAI,CAACU,GAAX;AAAgBY,cAAAA,KAAK,EAAEtB,IAAI,CAACZ;AAA5B,aAAP;AACA,WAFQ,CAAT;AAGA,SAJD,MAIO;AACNiC,UAAAA,MAAM,GAAG,MAAKpD,KAAL,CAAW6C,QAAX,CAAoBC,SAApB,CAA8BhB,GAA9B,CAAkC,UAAAC,IAAI,EAAI;AAClD,mBAAO;AAAEjB,cAAAA,EAAE,EAAEiB,IAAI,CAACU,GAAX;AAAgBY,cAAAA,KAAK,EAAEtB,IAAI,CAACZ;AAA5B,aAAP;AACA,WAFQ,CAAT;AAGA;;AAED,YAAImC,aAAa,GAAG,IAAIC,MAAJ,CAAWlE,YAAY,CAAC,MAAKoC,KAAL,CAAWpB,IAAX,CAAD,CAAvB,EAA2C,GAA3C,CAApB;;AACA,YAAMmD,OAAO,GAAG,SAAVA,OAAU,CAAAd,MAAM;AAAA,iBAAIY,aAAa,CAACG,IAAd,CAAmBf,MAAM,CAACW,KAA1B,CAAJ;AAAA,SAAtB;;AACA,YAAMK,cAAc,GAAGpE,MAAM,CAAC8D,MAAD,EAASI,OAAT,CAA7B;AACA,YAAMG,cAAc,GAAGlE,KAAK,CAACiE,cAAD,EAAiB,CAAjB,EAAoB,CAApB,CAA5B;AACA,eAAO,MAAKnD,QAAL,CAAc;AACpB0B,UAAAA,SAAS,EAAE,KADS;AAEpBC,UAAAA,OAAO,EAAEyB;AAFW,SAAd,CAAP;AAIA,OArBS,EAqBP,GArBO,CAAV;AAsBA,KA3IkB;;AAAA,UA6InBC,iBA7ImB,GA6IC,UAAAxB,CAAC,EAAI;AACxB,YAAK7B,QAAL,CAAc;AAAEI,QAAAA,mBAAmB,EAAE;AAAvB,OAAd;AACA,KA/IkB;;AAAA,UAiJnBkD,gBAjJmB,GAiJA,UAAAzB,CAAC,EAAI;AACvB,YAAK7B,QAAL,CAAc;AAAEK,QAAAA,qBAAqB,EAAE;AAAzB,OAAd;AACA,KAnJkB;;AAAA,UAqJnBkD,YArJmB,GAqJJ,UAAA5D,KAAK,EAAI;AACvBA,MAAAA,KAAK,CAACC,cAAN;AADuB,wBAEc,MAAKsB,KAFnB;AAAA,UAEfC,WAFe,eAEfA,WAFe;AAAA,UAEFsB,WAFE,eAEFA,WAFE;;AAGvB,UAAI,CAAC,MAAKvB,KAAL,CAAWsC,SAAhB,EAA2B;AAC1B,YAAI,MAAKtC,KAAL,CAAWuC,IAAf,EAAqB;AACpB,cAAMC,MAAK,qBACP,MAAKjE,KAAL,CAAWqC,IADJ;AAEV6B,YAAAA,UAAU,EAAElB,WAAW,CAACP,GAFd;AAGV0B,YAAAA,MAAM,EAAE,MAAKnE,KAAL,CAAWoE,IAAX,CAAgBC,UAAhB,CAA2B5B,GAHzB;AAIV6B,YAAAA,UAAU,EAAE5C,WAAW,CAACI,GAAZ,CAAgB,UAAAC,IAAI,EAAI;AACnC,qBAAO;AAAEb,gBAAAA,SAAS,EAAEa,IAAI,CAACb,SAAlB;AAA6BG,gBAAAA,QAAQ,EAAEU,IAAI,CAACV,QAA5C;AAAsDD,gBAAAA,SAAS,EAAEW,IAAI,CAACX;AAAtE,eAAP;AACA,aAFW;AAJF,YAAX;;AAQA,iBAAO,MAAKpB,KAAL,CAAWuE,QAAX,CAAoBrF,SAAS,CAAC+E,MAAD,EAAQ,MAAKjE,KAAL,CAAWwE,OAAnB,CAA7B,CAAP;AACA;;AACD,YAAMP,KAAK,GAAG;AACbC,UAAAA,UAAU,EAAElB,WAAW,CAACP,GADX;AAEb0B,UAAAA,MAAM,EAAE,MAAKnE,KAAL,CAAWoE,IAAX,CAAgBC,UAAhB,CAA2B5B,GAFtB;AAGb6B,UAAAA,UAAU,EAAE5C,WAAW,CAACI,GAAZ,CAAgB,UAAAC,IAAI,EAAI;AACnC,mBAAO;AAAEb,cAAAA,SAAS,EAAEa,IAAI,CAACb,SAAlB;AAA6BG,cAAAA,QAAQ,EAAEU,IAAI,CAACV,QAA5C;AAAsDD,cAAAA,SAAS,EAAEW,IAAI,CAACX;AAAtE,aAAP;AACA,WAFW;AAHC,SAAd;;AAOA,cAAKpB,KAAL,CAAWuE,QAAX,CAAoBtF,SAAS,CAACgF,KAAD,EAAQ,MAAKjE,KAAL,CAAWwE,OAAnB,CAA7B;AACA,OApBD,MAoBO;AACN,cAAKjE,QAAL,CAAc;AAAEE,UAAAA,WAAW,EAAE;AAAf,SAAd;AACA;AACD,KA/KkB;;AAAA,UAiLnBgE,eAjLmB,GAiLD,UAACrC,CAAD,EAAItB,EAAJ,EAAW;AAC5BsB,MAAAA,CAAC,CAACjC,cAAF;;AACA,UAAMqB,OAAO,GAAG,MAAKC,KAAL,CAAWC,WAAX,CAAuBpC,MAAvB,CAA8B;AAAA,YAAGmD,GAAH,SAAGA,GAAH;AAAA,eAAaA,GAAG,KAAK3B,EAArB;AAAA,OAA9B,CAAhB;;AACA,YAAKP,QAAL,CAAc;AAAEmB,QAAAA,WAAW,EAAEF;AAAf,OAAd;AACA,KArLkB;;AAAA,UAuLnBkD,WAvLmB,GAuLL,UAAArC,IAAI,EAAI;AACrB,UAAMf,KAAK,GAAGe,IAAI,CAACsC,MAAL,CAAY,UAACC,QAAD,EAAWC,OAAX,EAAuB;AAChD,eAAOD,QAAQ,GAAGrD,QAAQ,CAACsD,OAAO,CAACvD,KAAT,CAA1B;AACA,OAFa,EAEX,CAFW,CAAd;AAIA,aAAOA,KAAP;AACA,KA7LkB;;AAAA,UA+LnBwD,eA/LmB,GA+LD,UAAAzC,IAAI,EAAI;AACzB,UAAI,CAAC7C,OAAO,CAAC6C,IAAD,CAAZ,EAAoB;AACnB,YAAI0C,IAAJ;AACAA,QAAAA,IAAI,GAAG1C,IAAI,CAACP,GAAL,CAAS,UAAAC,IAAI,EAAI;AACvB,cAAI,MAAKN,KAAL,CAAWuD,IAAf,EAAqB;AACpB,mBACC,oBAAC,KAAD,CAAO,GAAP;AAAW,cAAA,GAAG,EAAEjD,IAAI,CAACU,GAArB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,eACC,oBAAC,KAAD,CAAO,IAAP;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,eAAaV,IAAI,CAACZ,GAAlB,CADD,EAEC,oBAAC,KAAD,CAAO,IAAP;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,eAAaY,IAAI,CAACX,SAAlB,CAFD,EAGC,oBAAC,KAAD,CAAO,IAAP;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,eAAaW,IAAI,CAACV,QAAlB,CAHD,EAIC,oBAAC,KAAD,CAAO,IAAP;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,eAAaU,IAAI,CAACT,KAAlB,CAJD,CADD;AAQA,WATD,MASO;AACN,mBACC,oBAAC,KAAD,CAAO,GAAP;AAAW,cAAA,GAAG,EAAES,IAAI,CAACb,SAArB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,eACC,oBAAC,KAAD,CAAO,IAAP;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,eAAaa,IAAI,CAACZ,GAAlB,CADD,EAEC,oBAAC,KAAD,CAAO,IAAP;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,eAAaY,IAAI,CAACX,SAAlB,CAFD,EAGC,oBAAC,KAAD,CAAO,IAAP;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,eAAaW,IAAI,CAACV,QAAlB,CAHD,EAIC,oBAAC,KAAD,CAAO,IAAP;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,eAAaU,IAAI,CAACT,KAAlB,CAJD,EAKC,oBAAC,KAAD,CAAO,IAAP;AAAY,cAAA,UAAU,MAAtB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,eACC,oBAAC,MAAD;AACC,cAAA,IAAI,EAAC,cADN;AAEC,cAAA,KAAK,EAAC,KAFP;AAGC,cAAA,OAAO,EAAE,iBAAAc,CAAC,EAAI;AACb,sBAAKqC,eAAL,CAAqBrC,CAArB,EAAwBL,IAAI,CAACU,GAA7B;AACA,eALF;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cADD,CALD,CADD;AAiBA;AACD,SA7BM,CAAP;AA8BA,eAAOsC,IAAP;AACA;;AACD;AACA,KAnOkB;;AAAA,UAqOnBE,YArOmB,GAqOJ,UAAAC,IAAI,EAAI;AACtB,UAAIA,IAAI,KAAK,GAAb,EAAkB;AACjB,eACC;AAAK,UAAA,SAAS,EAAEpF,MAAM,CAACqF,oBAAvB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WACC;AAAO,UAAA,SAAS,EAAErF,MAAM,CAACsF,OAAzB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,iCAAqD,MAAKpF,KAAL,CAAWqC,IAAX,CAAgBgD,cAArE,YADD,EAEC;AAAO,UAAA,SAAS,EAAEvF,MAAM,CAACsF,OAAzB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,wBAA4C,MAAKpF,KAAL,CAAWqC,IAAX,CAAgBiD,MAA5D,YAFD,EAGC,oBAAC,OAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,UAHD,EAIC;AAAO,UAAA,SAAS,EAAExF,MAAM,CAACsF,OAAzB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,uBAA2C,MAAKpF,KAAL,CAAWqC,IAAX,CAAgBkD,UAA3D,YAJD,CADD;AAQA;;AACD,aAAO;AAAK,QAAA,SAAS,EAAEzF,MAAM,CAAC0F,YAAvB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,qBAA8C,MAAK/D,KAAL,CAAWH,KAAzD,YAAP;AACA,KAjPkB;;AAGlB,UAAKG,KAAL,GAAa;AACZuC,MAAAA,IAAI,EAAE,SAAS,MAAKhE,KAAL,CAAWgE,IADd;AAEZgB,MAAAA,IAAI,EAAE,SAAS,MAAKhF,KAAL,CAAWgF,IAFd;AAGZS,MAAAA,kBAAkB,EAAE,EAHR;AAIZ1C,MAAAA,UAAU,EAAE,EAJA;AAKZzB,MAAAA,KAAK,EAAE,CALK;AAMZiB,MAAAA,OAAO,EAAE,EANG;AAOZb,MAAAA,WAAW,EAAE,EAPD;AAQZjB,MAAAA,WAAW,EAAE,KARD;AASZC,MAAAA,kBAAkB,EAAE,KATR;AAUZiC,MAAAA,gBAAgB,EAAE,KAVN;AAWZhC,MAAAA,mBAAmB,EAAE,KAXT;AAYZC,MAAAA,qBAAqB,EAAE,KAZX;AAaZsB,MAAAA,OAAO,EAAE,EAbG;AAcZH,MAAAA,IAAI,EAAE,EAdM;AAeZiB,MAAAA,WAAW,EAAE,EAfD;AAgBZf,MAAAA,SAAS,EAAE;AAhBC,KAAb;;AAkBA,QAAI,CAAC,MAAKR,KAAL,CAAWuD,IAAhB,EAAsB;AACrB,YAAKhF,KAAL,CAAWuE,QAAX,CAAoBnF,WAAW,EAA/B;AACA;;AAvBiB;AAwBlB;;;;;;;;;;;;;qBAGII,OAAO,CAAC,KAAKQ,KAAL,CAAW6C,QAAX,CAAoBC,SAArB,C;;;;;;uBACJ,KAAK9C,KAAL,CAAWuE,QAAX,CAAoBpF,YAAY,EAAhC,C;;;AAEP,oBAAI,KAAKsC,KAAL,CAAWuC,IAAX,IAAmB,KAAKvC,KAAL,CAAWuD,IAAlC,EAAwC;AACjCnC,kBAAAA,QADiC,GACtBvD,MAAM,CAAC,KAAKU,KAAL,CAAW6C,QAAX,CAAoBC,SAArB,EAAgC;AAAE3B,oBAAAA,GAAG,EAAE,KAAKnB,KAAL,CAAWqC,IAAX,CAAgBQ;AAAvB,mBAAhC,CADgB;AAEvC,uBAAKtC,QAAL,CAAc;AACbwC,oBAAAA,UAAU,EAAE,KAAK/C,KAAL,CAAWqC,IAAX,CAAgBQ,QADf;AAEbvB,oBAAAA,KAAK,EAAE,KAAKtB,KAAL,CAAWqC,IAAX,CAAgBf,KAFV;AAGbI,oBAAAA,WAAW,EAAE,KAAK1B,KAAL,CAAWqC,IAAX,CAAgBiC,UAHhB;AAIbtB,oBAAAA,WAAW,EAAEH,QAAQ,CAAC,CAAD;AAJR,mBAAd;AAMA;;;;;;;;;;;;;;;;;;6BA6MO;AAAA,yBACuB,KAAKpB,KAD5B;AAAA,UACAQ,SADA,gBACAA,SADA;AAAA,UACWC,OADX,gBACWA,OADX;AAER,UAAImB,KAAK,GAAG,2BAAZ;AACA,UAAIqC,KAAK,GAAG,SAAZ;;AACA,UAAI,KAAKjE,KAAL,CAAWuC,IAAf,EAAqB;AACpBX,QAAAA,KAAK,GAAG,6BAAR;AACAqC,QAAAA,KAAK,GAAG,UAAR;AACA,OAHD,MAGO,IAAI,KAAKjE,KAAL,CAAWuD,IAAf,EAAqB;AAC3B3B,QAAAA,KAAK,GAAG,yBAAR;AACA;;AAED,UAAI,KAAK5B,KAAL,CAAWuD,IAAf,EAAqB;AACpB,eACC,oBAAC,MAAD,CAAQ,QAAR;AAAiB,UAAA,MAAM,EAAE,KAAKvD,KAAL,CAAWhB,WAApC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WACC,oBAAC,MAAD;AAAQ,UAAA,aAAa,EAAC,KAAtB;AAA4B,UAAA,MAAM,EAAE,KAAKgB,KAAL,CAAWhB,WAA/C;AAA4D,UAAA,IAAI,MAAhE;AAAiE,UAAA,cAAc,EAAE,KAAKD,gBAAtF;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WACC,oBAAC,OAAD;AAAS,UAAA,SAAS,EAAEV,MAAM,CAAC6F,YAA3B;AAAyC,UAAA,QAAQ,MAAjD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WACC,oBAAC,OAAD,CAAS,IAAT;AAAc,UAAA,SAAS,EAAE7F,MAAM,CAAC8F,WAAhC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WACC,oBAAC,IAAD;AAAM,UAAA,IAAI,EAAC,cAAX;AAA0B,UAAA,IAAI,EAAC,MAA/B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,UADD,CADD,EAIC,oBAAC,OAAD,CAAS,MAAT;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WAAiB,KAAKnE,KAAL,CAAWgE,kBAA5B,CAJD,EAKC,oBAAC,OAAD,CAAS,OAAT;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WAAkB,KAAKhE,KAAL,CAAWoE,mBAA7B,CALD,CADD,CADD,EAUC,oBAAC,IAAD;AAAM,UAAA,KAAK,MAAX;AAAY,UAAA,QAAQ,MAApB;AAAqB,UAAA,SAAS,EAAE/F,MAAM,CAACgG,gBAAvC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WACC,oBAAC,IAAD,CAAM,OAAN;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WACC,oBAAC,IAAD,CAAM,MAAN;AAAa,UAAA,SAAS,EAAC,cAAvB;AAAsC,UAAA,SAAS,EAAC,QAAhD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WACEzC,KADF,CADD,EAIC;AAAK,UAAA,SAAS,EAAEvD,MAAM,CAACiG,kBAAvB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WACC,oBAAC,IAAD;AAAM,UAAA,SAAS,EAAEjG,MAAM,CAACkG,cAAxB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WACC,oBAAC,IAAD,CAAM,KAAN;AAAY,UAAA,OAAO,MAAnB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WACC,oBAAC,IAAD,CAAM,KAAN;AAAY,UAAA,QAAQ,MAApB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WACC;AAAO,UAAA,SAAS,EAAElG,MAAM,CAACmG,gBAAzB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gCADD,EAEC,oBAAC,KAAD;AACC,UAAA,QAAQ,EAAE,KAAKxE,KAAL,CAAWuD,IADtB;AAEC,UAAA,IAAI,EAAC,MAFN;AAGC,UAAA,YAAY,EAAC,MAHd;AAIC,UAAA,WAAW,EAAC,oBAJb;AAKC,UAAA,IAAI,EAAC,YALN;AAMC,UAAA,KAAK,EAAE,KAAKvD,KAAL,CAAWsB,UANnB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,UAFD,CADD,EAYC;AAAK,UAAA,SAAS,EAAEjD,MAAM,CAACmG,gBAAvB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WACC,oBAAC,KAAD;AAAO,UAAA,UAAU,MAAjB;AAAkB,UAAA,OAAO,MAAzB;AAA0B,UAAA,MAAM,MAAhC;AAAiC,UAAA,OAAO,MAAxC;AAAyC,UAAA,IAAI,EAAC,OAA9C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WACC,oBAAC,KAAD,CAAO,MAAP;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WACC,oBAAC,KAAD,CAAO,GAAP;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WACC,oBAAC,KAAD,CAAO,UAAP;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,4BADD,EAEC,oBAAC,KAAD,CAAO,UAAP;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,wBAFD,EAGC,oBAAC,KAAD,CAAO,UAAP;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBAHD,EAIC,oBAAC,KAAD,CAAO,UAAP;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,mBAJD,CADD,CADD,EASC,oBAAC,KAAD,CAAO,IAAP;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WAAa,KAAKnB,eAAL,CAAqB,KAAKrD,KAAL,CAAWC,WAAhC,CAAb,CATD,CADD,CAZD,EAyBE,KAAKuD,YAAL,CAAkB,KAAKjF,KAAL,CAAWqC,IAAX,CAAgB6C,IAAlC,CAzBF,CADD,CADD,CAJD,CADD,CAVD,CADD;AAmDA;;AACD,aACC,oBAAC,MAAD,CAAQ,QAAR;AAAiB,QAAA,MAAM,EAAE,KAAKzD,KAAL,CAAWhB,WAApC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACC,oBAAC,MAAD;AAAQ,QAAA,aAAa,EAAC,KAAtB;AAA4B,QAAA,MAAM,EAAE,KAAKgB,KAAL,CAAWhB,WAA/C;AAA4D,QAAA,IAAI,MAAhE;AAAiE,QAAA,cAAc,EAAE,KAAKD,gBAAtF;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACC,oBAAC,OAAD;AAAS,QAAA,SAAS,EAAEV,MAAM,CAAC6F,YAA3B;AAAyC,QAAA,QAAQ,MAAjD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACC,oBAAC,OAAD,CAAS,IAAT;AAAc,QAAA,SAAS,EAAE7F,MAAM,CAAC8F,WAAhC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACC,oBAAC,IAAD;AAAM,QAAA,IAAI,EAAC,cAAX;AAA0B,QAAA,IAAI,EAAC,MAA/B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QADD,CADD,EAIC,oBAAC,OAAD,CAAS,MAAT;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAAiB,KAAKnE,KAAL,CAAWgE,kBAA5B,CAJD,EAKC,oBAAC,OAAD,CAAS,OAAT;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAAkB,KAAKhE,KAAL,CAAWoE,mBAA7B,CALD,CADD,CADD,EAUC,oBAAC,KAAD;AAAO,QAAA,IAAI,EAAE,KAAKpE,KAAL,CAAWf,kBAAxB;AAA4C,QAAA,OAAO,EAAE,KAAKF,gBAA1D;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACC,oBAAC,cAAD;AACC,QAAA,IAAI,EAAE,KAAKiB,KAAL,CAAWkB,gBADlB;AAEC,QAAA,IAAI,EAAE,KAAKlB,KAAL,CAAWM,IAFlB;AAGC,QAAA,SAAS,EAAE,KAAKlB,SAHjB;AAIC,QAAA,YAAY,EAAE,KAAKe,YAJpB;AAKC,QAAA,OAAO,EAAE,KAAKpB,gBALf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QADD,CAVD,EAmBC,oBAAC,KAAD;AAAO,QAAA,IAAI,EAAE,KAAKiB,KAAL,CAAWb,qBAAxB;AAA+C,QAAA,OAAO,EAAE,KAAKJ,gBAA7D;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACC,oBAAC,WAAD;AAAa,QAAA,KAAK,MAAlB;AAAmB,QAAA,IAAI,EAAE,KAAKiB,KAAL,CAAWsB,UAApC;AAAgD,QAAA,OAAO,EAAE,KAAKvC,gBAA9D;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QADD,CAnBD,EAsBC,oBAAC,KAAD;AAAO,QAAA,IAAI,EAAE,KAAKiB,KAAL,CAAWd,mBAAxB;AAA6C,QAAA,OAAO,EAAE,KAAKH,gBAA3D;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACC,oBAAC,YAAD;AAAc,QAAA,OAAO,EAAE,KAAKA,gBAA5B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QADD,CAtBD,EAyBC,oBAAC,IAAD;AAAM,QAAA,KAAK,MAAX;AAAY,QAAA,QAAQ,MAApB;AAAqB,QAAA,SAAS,EAAEV,MAAM,CAACgG,gBAAvC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACC,oBAAC,IAAD,CAAM,OAAN;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACC,oBAAC,IAAD,CAAM,MAAN;AAAa,QAAA,SAAS,EAAC,cAAvB;AAAsC,QAAA,SAAS,EAAC,QAAhD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACEzC,KADF,CADD,EAIC,oBAAC,IAAD,CAAM,IAAN;AAAW,QAAA,SAAS,EAAC,cAArB;AAAoC,QAAA,SAAS,EAAC,QAA9C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,8CAJD,EAOC;AAAK,QAAA,SAAS,EAAEvD,MAAM,CAACiG,kBAAvB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACC,oBAAC,IAAD;AAAM,QAAA,SAAS,EAAEjG,MAAM,CAACkG,cAAxB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACC,oBAAC,IAAD,CAAM,KAAN;AAAY,QAAA,OAAO,MAAnB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACC,oBAAC,IAAD,CAAM,KAAN;AAAY,QAAA,QAAQ,MAApB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACC;AAAO,QAAA,SAAS,EAAElG,MAAM,CAACmG,gBAAzB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,8BADD,EAEC;AAAK,QAAA,SAAS,EAAEnG,MAAM,CAACoG,YAAvB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACC,oBAAC,MAAD;AACC,QAAA,KAAK,EAAE;AAAEC,UAAAA,IAAI,EAAE;AAAR,SADR;AAEC,QAAA,KAAK,EAAE;AAAEC,UAAAA,IAAI,EAAE,QAAR;AAAkBC,UAAAA,YAAY,EAAE;AAAhC,SAFR;AAGC,QAAA,IAAI,EAAC,OAHN;AAIC,QAAA,QAAQ,EAAE,KAAK5E,KAAL,CAAWuD,IAJtB;AAKC,QAAA,WAAW,EAAC,sBALb;AAMC,QAAA,OAAO,EAAE/C,SANV;AAOC,QAAA,cAAc,EAAE,KAAKE,kBAPtB;AAQC,QAAA,cAAc,EAAE5C,QAAQ,CAAC,KAAK0D,kBAAN,EAA0B,GAA1B,EAA+B;AACtDqD,UAAAA,OAAO,EAAE;AAD6C,SAA/B,CARzB;AAWC,QAAA,OAAO,EAAEpE,OAXV;AAYC,QAAA,KAAK,EAAE,KAAKT,KAAL,CAAWsB,UAZnB;AAaC,QAAA,IAAI,EAAC,YAbN;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QADD,EAgBC,oBAAC,MAAD;AACC,QAAA,KAAK,EAAE;AAAEoD,UAAAA,IAAI,EAAE,CAAR;AAAWI,UAAAA,UAAU,EAAE;AAAvB,SADR;AAEC,QAAA,IAAI,MAFL;AAGC,QAAA,aAAa,EAAC,MAHf;AAIC,QAAA,QAAQ,MAJT;AAKC,QAAA,IAAI,EAAC,OALN;AAMC,QAAA,OAAO,EAAE,KAAK3C,iBANf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAQC,oBAAC,IAAD;AAAM,QAAA,IAAI,EAAC,KAAX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QARD,4BAhBD,CAFD,CADD,EA+BC,oBAAC,IAAD,CAAM,KAAN;AAAY,QAAA,QAAQ,MAApB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACC;AAAO,QAAA,SAAS,EAAE9D,MAAM,CAACmG,gBAAzB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,4BADD,EAEC;AAAK,QAAA,SAAS,EAAEnG,MAAM,CAACoG,YAAvB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACC,oBAAC,MAAD;AACC,QAAA,KAAK,EAAE;AAAEC,UAAAA,IAAI,EAAE;AAAR,SADR;AAEC,QAAA,KAAK,EAAE;AAAEC,UAAAA,IAAI,EAAE,QAAR;AAAkBC,UAAAA,YAAY,EAAE;AAAhC,SAFR;AAGC,QAAA,IAAI,EAAC,OAHN;AAIC,QAAA,QAAQ,EAAE,KAAK5E,KAAL,CAAWuD,IAJtB;AAKC,QAAA,WAAW,EAAC,kBALb;AAMC,QAAA,OAAO,EAAE/C,SANV;AAOC,QAAA,cAAc,EAAE,KAAKE,kBAPtB;AAQC,QAAA,cAAc,EAAE5C,QAAQ,CAAC,KAAK0D,kBAAN,EAA0B,GAA1B,EAA+B;AACtDqD,UAAAA,OAAO,EAAE;AAD6C,SAA/B,CARzB;AAWC,QAAA,OAAO,EAAEpE,OAXV;AAYC,QAAA,KAAK,EAAE,KAAKT,KAAL,CAAWc,OAZnB;AAaC,QAAA,IAAI,EAAC,SAbN;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QADD,EAgBC,oBAAC,MAAD;AACC,QAAA,QAAQ,EAAE,KAAKd,KAAL,CAAWsB,UAAX,KAA0B,EADrC;AAEC,QAAA,KAAK,EAAE;AAAEoD,UAAAA,IAAI,EAAE,CAAR;AAAWI,UAAAA,UAAU,EAAE;AAAvB,SAFR;AAGC,QAAA,IAAI,MAHL;AAIC,QAAA,aAAa,EAAC,MAJf;AAKC,QAAA,QAAQ,MALT;AAMC,QAAA,IAAI,EAAC,OANN;AAOC,QAAA,OAAO,EAAE,KAAK1C,gBAPf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SASC,oBAAC,IAAD;AAAM,QAAA,IAAI,EAAC,KAAX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QATD,wBAhBD,CAFD,CA/BD,EA8DC;AAAK,QAAA,SAAS,EAAE/D,MAAM,CAACmG,gBAAvB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACC,oBAAC,KAAD;AAAO,QAAA,UAAU,MAAjB;AAAkB,QAAA,OAAO,MAAzB;AAA0B,QAAA,MAAM,MAAhC;AAAiC,QAAA,OAAO,MAAxC;AAAyC,QAAA,IAAI,EAAC,OAA9C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACC,oBAAC,KAAD,CAAO,MAAP;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACC,oBAAC,KAAD,CAAO,GAAP;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACC,oBAAC,KAAD,CAAO,UAAP;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,0BADD,EAEC,oBAAC,KAAD,CAAO,UAAP;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBAFD,EAGC,oBAAC,KAAD,CAAO,UAAP;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBAHD,EAIC,oBAAC,KAAD,CAAO,UAAP;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,iBAJD,EAKC,oBAAC,KAAD,CAAO,UAAP;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,mBALD,CADD,CADD,EAWC,oBAAC,KAAD,CAAO,IAAP;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAAa,KAAKnB,eAAL,CAAqB,KAAKrD,KAAL,CAAWC,WAAhC,CAAb,CAXD,CADD,CA9DD,CADD,CADD,CAPD,EAyFC;AAAK,QAAA,SAAS,EAAE5B,MAAM,CAAC0F,YAAvB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBAA6C,KAAKd,WAAL,CAAiB,KAAKjD,KAAL,CAAWC,WAA5B,CAA7C,CAzFD,EA0FC;AAAK,QAAA,KAAK,EAAE,KAAKD,KAAL,CAAWuD,IAAX,GAAkB;AAAEwB,UAAAA,OAAO,EAAE;AAAX,SAAlB,GAAwC;AAAEA,UAAAA,OAAO,EAAE;AAAX,SAApD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACC,oBAAC,MAAD;AAAQ,QAAA,KAAK,MAAb;AAAc,QAAA,IAAI,EAAC,OAAnB;AAA2B,QAAA,KAAK,EAAC,MAAjC;AAAwC,QAAA,OAAO,EAAEd,KAAjD;AAAwD,QAAA,OAAO,EAAE,KAAK5B,YAAtE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QADD,CA1FD,CADD,CAzBD,CADD;AA4HA;;;;EAhboB1F,a;;AAmbtB,SAASqI,eAAT,QAAsD;AAAA,MAA3BlE,OAA2B,SAA3BA,OAA2B;AAAA,MAAlB6B,IAAkB,SAAlBA,IAAkB;AAAA,MAAZvB,QAAY,SAAZA,QAAY;AACrD,SAAO;AAAEN,IAAAA,OAAO,EAAPA,OAAF;AAAW6B,IAAAA,IAAI,EAAJA,IAAX;AAAiBvB,IAAAA,QAAQ,EAARA;AAAjB,GAAP;AACA;;AAED,eAAexE,OAAO,CAACoI,eAAD,CAAP,CAAyB1G,OAAzB,CAAf","sourcesContent":["import React, { PureComponent } from \"react\";\nimport { connect } from \"react-redux\";\nimport { Form, Input, Button, Message, Dimmer, Icon, Card, Search, Table, Modal, Divider } from \"semantic-ui-react\";\nimport { createBuy, modifyBuy } from \"../../redux/actions/buys\";\nimport { getProviders } from \"../../redux/actions/provider\";\nimport { getProducts } from \"../../redux/actions/product\";\nimport { escapeRegExp, filter, debounce, isEmpty, slice, find } from \"lodash\";\n\n// Internal Components\nimport BuyProductForm from \"../buy-product-form/buyproductform\";\nimport ProduitForm from \"../produit-form/produitform\";\nimport ProviderForm from \"../provider-form/providerform\";\n\n//Styles\nimport styles from \"./buyform.module.css\";\n\nclass BuyForm extends PureComponent {\n\tconstructor(props) {\n\t\tsuper(props);\n\n\t\tthis.state = {\n\t\t\tedit: false || this.props.edit,\n\t\t\tview: false || this.props.view,\n\t\t\theaderErrorMessage: \"\",\n\t\t\tclientName: \"\",\n\t\t\ttotal: 0,\n\t\t\tproduct: \"\",\n\t\t\tproductList: [],\n\t\t\tisModalOpen: false,\n\t\t\tisProductModalOpen: false,\n\t\t\tproductModalType: \"new\",\n\t\t\tisProviderModalOpen: false,\n\t\t\tisNewProductModalOpen: false,\n\t\t\tresults: [],\n\t\t\titem: {},\n\t\t\tfournisseur: {},\n\t\t\tisLoading: false\n\t\t};\n\t\tif (!this.state.view) {\n\t\t\tthis.props.dispatch(getProducts());\n\t\t}\n\t}\n\n\tasync componentDidMount() {\n\t\tif (isEmpty(this.props.provider.providers)) {\n\t\t\tawait this.props.dispatch(getProviders());\n\t\t}\n\t\tif (this.state.edit || this.state.view) {\n\t\t\tconst provider = filter(this.props.provider.providers, { nom: this.props.data.provider });\n\t\t\tthis.setState({\n\t\t\t\tclientName: this.props.data.provider,\n\t\t\t\ttotal: this.props.data.total,\n\t\t\t\tproductList: this.props.data.arrayAchat,\n\t\t\t\tfournisseur: provider[0]\n\t\t\t});\n\t\t}\n\t}\n\n\thandleChange = event => {\n\t\tevent.preventDefault();\n\t\tconst { name, value } = event.target;\n\t\tthis.setState({ [name]: value });\n\t};\n\n\thandleModalClose = () => {\n\t\tthis.setState({\n\t\t\tisModalOpen: false,\n\t\t\tisProductModalOpen: false,\n\t\t\tisProviderModalOpen: false,\n\t\t\tisNewProductModalOpen: false\n\t\t});\n\t};\n\n\taddToList = (id, name, priceUnit, quantity) => {\n\t\tconst newProduct = {\n\t\t\tidProduit: id,\n\t\t\tnom: name,\n\t\t\tprixUnite: priceUnit,\n\t\t\tquantite: quantity,\n\t\t\ttotal: parseInt(priceUnit) * parseInt(quantity)\n\t\t};\n\t\tconst newList = this.state.productList.concat(newProduct);\n\t\tthis.setState({ productList: newList });\n\t};\n\n\treduceToList = (id, quantity) => {\n\t\tlet repeatedItem = find(this.state.productList, { idProduit: id });\n\t\tconst newProduct = {\n\t\t\t...repeatedItem,\n\t\t\tquantite: quantity + repeatedItem.quantite,\n\t\t\ttotal: parseInt(repeatedItem.prixUnite) * parseInt(quantity + repeatedItem.quantite)\n\t\t};\n\t\tconst newList = this.state.productList.map(item => {\n\t\t\tif (item.idProduit !== newProduct.idProduit) {\n\t\t\t\treturn item;\n\t\t\t}\n\t\t\treturn { ...item, ...newProduct };\n\t\t});\n\t\tthis.setState({ productList: newList });\n\t};\n\n\tresetComponent = name => this.setState({ isLoading: false, results: [], [name]: \"\" });\n\n\thandleResultSelect = (e, data) => {\n\t\tif (data.name === \"product\") {\n\t\t\tconst getProduct = id => filter(this.props.product.products, { _id: id });\n\t\t\tconst item = getProduct(data.result.id);\n\t\t\tlet repeatedItem = find(this.state.productList, { idProduit: item[0]._id });\n\t\t\tif (repeatedItem) {\n\t\t\t\treturn this.setState({\n\t\t\t\t\tresults: [],\n\t\t\t\t\tproduct: \"\",\n\t\t\t\t\tisProductModalOpen: true,\n\t\t\t\t\titem: item[0],\n\t\t\t\t\tproductModalType: \"repeat\"\n\t\t\t\t});\n\t\t\t} else {\n\t\t\t\treturn this.setState({\n\t\t\t\t\tresults: [],\n\t\t\t\t\tproduct: \"\",\n\t\t\t\t\tisProductModalOpen: true,\n\t\t\t\t\titem: item[0],\n\t\t\t\t\tproductModalType: \"new\"\n\t\t\t\t});\n\t\t\t}\n\t\t}\n\t\tconst getProvider = id => filter(this.props.provider.providers, { _id: id });\n\t\tconst item = getProvider(data.result.id);\n\t\treturn this.setState({ results: [], clientName: item[0].nom, fournisseur: item[0] });\n\t};\n\n\thandleSearchChange = (e, { value, name }) => {\n\t\tthis.setState({ [name]: value, isLoading: true });\n\n\t\tsetTimeout(() => {\n\t\t\tif (this.state[name].length < 1) return this.resetComponent(name);\n\t\t\tlet source = {};\n\t\t\tif (name === \"product\") {\n\t\t\t\tsource = this.props.product.products.map(item => {\n\t\t\t\t\treturn { id: item._id, title: item.nom };\n\t\t\t\t});\n\t\t\t} else {\n\t\t\t\tsource = this.props.provider.providers.map(item => {\n\t\t\t\t\treturn { id: item._id, title: item.nom };\n\t\t\t\t});\n\t\t\t}\n\n\t\t\tlet trimmedString = new RegExp(escapeRegExp(this.state[name]), \"i\");\n\t\t\tconst isMatch = result => trimmedString.test(result.title);\n\t\t\tconst matchedResults = filter(source, isMatch);\n\t\t\tconst limitedResults = slice(matchedResults, 0, 5);\n\t\t\treturn this.setState({\n\t\t\t\tisLoading: false,\n\t\t\t\tresults: limitedResults\n\t\t\t});\n\t\t}, 500);\n\t};\n\n\thandleAddProvider = e => {\n\t\tthis.setState({ isProviderModalOpen: true });\n\t};\n\n\thandleAddProduct = e => {\n\t\tthis.setState({ isNewProductModalOpen: true });\n\t};\n\n\thandleSubmit = event => {\n\t\tevent.preventDefault();\n\t\tconst { productList, fournisseur } = this.state;\n\t\tif (!this.state.formError) {\n\t\t\tif (this.state.edit) {\n\t\t\t\tconst achat = {\n\t\t\t\t\t...this.props.data,\n\t\t\t\t\tidProvider: fournisseur._id,\n\t\t\t\t\tidUser: this.props.user.authedUser._id,\n\t\t\t\t\tarrayAchat: productList.map(item => {\n\t\t\t\t\t\treturn { idProduit: item.idProduit, quantite: item.quantite, prixUnite: item.prixUnite };\n\t\t\t\t\t})\n\t\t\t\t};\n\t\t\t\treturn this.props.dispatch(modifyBuy(achat, this.props.onClose));\n\t\t\t}\n\t\t\tconst achat = {\n\t\t\t\tidProvider: fournisseur._id,\n\t\t\t\tidUser: this.props.user.authedUser._id,\n\t\t\t\tarrayAchat: productList.map(item => {\n\t\t\t\t\treturn { idProduit: item.idProduit, quantite: item.quantite, prixUnite: item.prixUnite };\n\t\t\t\t})\n\t\t\t};\n\t\t\tthis.props.dispatch(createBuy(achat, this.props.onClose));\n\t\t} else {\n\t\t\tthis.setState({ isModalOpen: true });\n\t\t}\n\t};\n\n\thandleDeleteRow = (e, id) => {\n\t\te.preventDefault();\n\t\tconst newList = this.state.productList.filter(({ _id }) => _id !== id);\n\t\tthis.setState({ productList: newList });\n\t};\n\n\trenderTotal = data => {\n\t\tconst total = data.reduce((intTotal, objItem) => {\n\t\t\treturn intTotal + parseInt(objItem.total);\n\t\t}, 0);\n\n\t\treturn total;\n\t};\n\n\trenderTableRows = data => {\n\t\tif (!isEmpty(data)) {\n\t\t\tlet rows;\n\t\t\trows = data.map(item => {\n\t\t\t\tif (this.state.view) {\n\t\t\t\t\treturn (\n\t\t\t\t\t\t<Table.Row key={item._id}>\n\t\t\t\t\t\t\t<Table.Cell>{item.nom}</Table.Cell>\n\t\t\t\t\t\t\t<Table.Cell>{item.prixUnite}</Table.Cell>\n\t\t\t\t\t\t\t<Table.Cell>{item.quantite}</Table.Cell>\n\t\t\t\t\t\t\t<Table.Cell>{item.total}</Table.Cell>\n\t\t\t\t\t\t</Table.Row>\n\t\t\t\t\t);\n\t\t\t\t} else {\n\t\t\t\t\treturn (\n\t\t\t\t\t\t<Table.Row key={item.idProduit}>\n\t\t\t\t\t\t\t<Table.Cell>{item.nom}</Table.Cell>\n\t\t\t\t\t\t\t<Table.Cell>{item.prixUnite}</Table.Cell>\n\t\t\t\t\t\t\t<Table.Cell>{item.quantite}</Table.Cell>\n\t\t\t\t\t\t\t<Table.Cell>{item.total}</Table.Cell>\n\t\t\t\t\t\t\t<Table.Cell collapsing>\n\t\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\t\ticon=\"minus square\"\n\t\t\t\t\t\t\t\t\tcolor=\"red\"\n\t\t\t\t\t\t\t\t\tonClick={e => {\n\t\t\t\t\t\t\t\t\t\tthis.handleDeleteRow(e, item._id);\n\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</Table.Cell>\n\t\t\t\t\t\t</Table.Row>\n\t\t\t\t\t);\n\t\t\t\t}\n\t\t\t});\n\t\t\treturn rows;\n\t\t}\n\t\treturn;\n\t};\n\n\trenderTotals = etat => {\n\t\tif (etat === \"0\") {\n\t\t\treturn (\n\t\t\t\t<div className={styles.labelMultipleSpacing}>\n\t\t\t\t\t<label className={styles.flexEnd}>Transport Frais: ${this.props.data.transportFrais}.00 HTG</label>\n\t\t\t\t\t<label className={styles.flexEnd}>Autres: ${this.props.data.autres}.00 HTG</label>\n\t\t\t\t\t<Divider />\n\t\t\t\t\t<label className={styles.flexEnd}>Total: ${this.props.data.totalFinal}.00 HTG</label>\n\t\t\t\t</div>\n\t\t\t);\n\t\t}\n\t\treturn <div className={styles.labelSpacing}>Total: ${this.state.total}.00 HTG</div>;\n\t};\n\n\trender() {\n\t\tconst { isLoading, results } = this.state;\n\t\tlet title = \"Entrain de Faire un Achat\";\n\t\tlet label = \"Ajouter\";\n\t\tif (this.state.edit) {\n\t\t\ttitle = \"Entrain de Modifier l'Achat\";\n\t\t\tlabel = \"Modifier\";\n\t\t} else if (this.state.view) {\n\t\t\ttitle = \"Entrain de Voir l'Achat\";\n\t\t}\n\n\t\tif (this.state.view) {\n\t\t\treturn (\n\t\t\t\t<Dimmer.Dimmable dimmed={this.state.isModalOpen}>\n\t\t\t\t\t<Dimmer verticalAlign=\"top\" active={this.state.isModalOpen} page onClickOutside={this.handleModalClose}>\n\t\t\t\t\t\t<Message className={styles.dimmerMargin} negative>\n\t\t\t\t\t\t\t<Message.Item className={styles.noStyleList}>\n\t\t\t\t\t\t\t\t<Icon name=\"warning sign\" size=\"huge\" />\n\t\t\t\t\t\t\t</Message.Item>\n\t\t\t\t\t\t\t<Message.Header>{this.state.headerErrorMessage}</Message.Header>\n\t\t\t\t\t\t\t<Message.Content>{this.state.contentErrorMessage}</Message.Content>\n\t\t\t\t\t\t</Message>\n\t\t\t\t\t</Dimmer>\n\t\t\t\t\t<Card fluid centered className={styles.boxContainerWide}>\n\t\t\t\t\t\t<Card.Content>\n\t\t\t\t\t\t\t<Card.Header className=\"font font-18\" textAlign=\"center\">\n\t\t\t\t\t\t\t\t{title}\n\t\t\t\t\t\t\t</Card.Header>\n\t\t\t\t\t\t\t<div className={styles.basicFormContainer}>\n\t\t\t\t\t\t\t\t<Form className={styles.basicFormWidth}>\n\t\t\t\t\t\t\t\t\t<Form.Group grouped>\n\t\t\t\t\t\t\t\t\t\t<Form.Field required>\n\t\t\t\t\t\t\t\t\t\t\t<label className={styles.basicFormSpacing}>Nom du Fournisseur</label>\n\t\t\t\t\t\t\t\t\t\t\t<Input\n\t\t\t\t\t\t\t\t\t\t\t\tdisabled={this.state.view}\n\t\t\t\t\t\t\t\t\t\t\t\ticon=\"code\"\n\t\t\t\t\t\t\t\t\t\t\t\ticonPosition=\"left\"\n\t\t\t\t\t\t\t\t\t\t\t\tplaceholder=\"Nom du Fournisseur\"\n\t\t\t\t\t\t\t\t\t\t\t\tname=\"clientName\"\n\t\t\t\t\t\t\t\t\t\t\t\tvalue={this.state.clientName}\n\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t</Form.Field>\n\t\t\t\t\t\t\t\t\t\t<div className={styles.basicFormSpacing}>\n\t\t\t\t\t\t\t\t\t\t\t<Table selectable compact celled striped size=\"small\">\n\t\t\t\t\t\t\t\t\t\t\t\t<Table.Header>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Table.Row>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Table.HeaderCell>Nom du Produit</Table.HeaderCell>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Table.HeaderCell>Prix Unite</Table.HeaderCell>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Table.HeaderCell>Quantite</Table.HeaderCell>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Table.HeaderCell>Total</Table.HeaderCell>\n\t\t\t\t\t\t\t\t\t\t\t\t\t</Table.Row>\n\t\t\t\t\t\t\t\t\t\t\t\t</Table.Header>\n\t\t\t\t\t\t\t\t\t\t\t\t<Table.Body>{this.renderTableRows(this.state.productList)}</Table.Body>\n\t\t\t\t\t\t\t\t\t\t\t</Table>\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t{this.renderTotals(this.props.data.etat)}\n\t\t\t\t\t\t\t\t\t</Form.Group>\n\t\t\t\t\t\t\t\t</Form>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</Card.Content>\n\t\t\t\t\t</Card>\n\t\t\t\t</Dimmer.Dimmable>\n\t\t\t);\n\t\t}\n\t\treturn (\n\t\t\t<Dimmer.Dimmable dimmed={this.state.isModalOpen}>\n\t\t\t\t<Dimmer verticalAlign=\"top\" active={this.state.isModalOpen} page onClickOutside={this.handleModalClose}>\n\t\t\t\t\t<Message className={styles.dimmerMargin} negative>\n\t\t\t\t\t\t<Message.Item className={styles.noStyleList}>\n\t\t\t\t\t\t\t<Icon name=\"warning sign\" size=\"huge\" />\n\t\t\t\t\t\t</Message.Item>\n\t\t\t\t\t\t<Message.Header>{this.state.headerErrorMessage}</Message.Header>\n\t\t\t\t\t\t<Message.Content>{this.state.contentErrorMessage}</Message.Content>\n\t\t\t\t\t</Message>\n\t\t\t\t</Dimmer>\n\t\t\t\t<Modal open={this.state.isProductModalOpen} onClose={this.handleModalClose}>\n\t\t\t\t\t<BuyProductForm\n\t\t\t\t\t\ttype={this.state.productModalType}\n\t\t\t\t\t\titem={this.state.item}\n\t\t\t\t\t\taddToList={this.addToList}\n\t\t\t\t\t\treduceToList={this.reduceToList}\n\t\t\t\t\t\tonClose={this.handleModalClose}\n\t\t\t\t\t/>\n\t\t\t\t</Modal>\n\t\t\t\t<Modal open={this.state.isNewProductModalOpen} onClose={this.handleModalClose}>\n\t\t\t\t\t<ProduitForm achat data={this.state.clientName} onClose={this.handleModalClose} />\n\t\t\t\t</Modal>\n\t\t\t\t<Modal open={this.state.isProviderModalOpen} onClose={this.handleModalClose}>\n\t\t\t\t\t<ProviderForm onClose={this.handleModalClose} />\n\t\t\t\t</Modal>\n\t\t\t\t<Card fluid centered className={styles.boxContainerWide}>\n\t\t\t\t\t<Card.Content>\n\t\t\t\t\t\t<Card.Header className=\"font font-18\" textAlign=\"center\">\n\t\t\t\t\t\t\t{title}\n\t\t\t\t\t\t</Card.Header>\n\t\t\t\t\t\t<Card.Meta className=\"font font-16\" textAlign=\"center\">\n\t\t\t\t\t\t\tCompleter les champs du formulaire\n\t\t\t\t\t\t</Card.Meta>\n\t\t\t\t\t\t<div className={styles.basicFormContainer}>\n\t\t\t\t\t\t\t<Form className={styles.basicFormWidth}>\n\t\t\t\t\t\t\t\t<Form.Group grouped>\n\t\t\t\t\t\t\t\t\t<Form.Field required>\n\t\t\t\t\t\t\t\t\t\t<label className={styles.basicFormSpacing}>Nom du Fournisseur</label>\n\t\t\t\t\t\t\t\t\t\t<div className={styles.spaceBetween}>\n\t\t\t\t\t\t\t\t\t\t\t<Search\n\t\t\t\t\t\t\t\t\t\t\t\tstyle={{ flex: 5 }}\n\t\t\t\t\t\t\t\t\t\t\t\tinput={{ icon: \"search\", iconPosition: \"left\" }}\n\t\t\t\t\t\t\t\t\t\t\t\tsize=\"small\"\n\t\t\t\t\t\t\t\t\t\t\t\tdisabled={this.state.view}\n\t\t\t\t\t\t\t\t\t\t\t\tplaceholder=\"Search a Fournisseur\"\n\t\t\t\t\t\t\t\t\t\t\t\tloading={isLoading}\n\t\t\t\t\t\t\t\t\t\t\t\tonResultSelect={this.handleResultSelect}\n\t\t\t\t\t\t\t\t\t\t\t\tonSearchChange={debounce(this.handleSearchChange, 500, {\n\t\t\t\t\t\t\t\t\t\t\t\t\tleading: true\n\t\t\t\t\t\t\t\t\t\t\t\t})}\n\t\t\t\t\t\t\t\t\t\t\t\tresults={results}\n\t\t\t\t\t\t\t\t\t\t\t\tvalue={this.state.clientName}\n\t\t\t\t\t\t\t\t\t\t\t\tname=\"clientName\"\n\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\t\t\t\t\tstyle={{ flex: 2, marginLeft: \"5px\" }}\n\t\t\t\t\t\t\t\t\t\t\t\ticon\n\t\t\t\t\t\t\t\t\t\t\t\tlabelPosition=\"left\"\n\t\t\t\t\t\t\t\t\t\t\t\tpositive\n\t\t\t\t\t\t\t\t\t\t\t\tsize=\"small\"\n\t\t\t\t\t\t\t\t\t\t\t\tonClick={this.handleAddProvider}\n\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t<Icon name=\"add\" /> Ajouter un Fournisseur\n\t\t\t\t\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t</Form.Field>\n\t\t\t\t\t\t\t\t\t<Form.Field required>\n\t\t\t\t\t\t\t\t\t\t<label className={styles.basicFormSpacing}>Search a Produit</label>\n\t\t\t\t\t\t\t\t\t\t<div className={styles.spaceBetween}>\n\t\t\t\t\t\t\t\t\t\t\t<Search\n\t\t\t\t\t\t\t\t\t\t\t\tstyle={{ flex: 3 }}\n\t\t\t\t\t\t\t\t\t\t\t\tinput={{ icon: \"search\", iconPosition: \"left\" }}\n\t\t\t\t\t\t\t\t\t\t\t\tsize=\"small\"\n\t\t\t\t\t\t\t\t\t\t\t\tdisabled={this.state.view}\n\t\t\t\t\t\t\t\t\t\t\t\tplaceholder=\"Search a Produit\"\n\t\t\t\t\t\t\t\t\t\t\t\tloading={isLoading}\n\t\t\t\t\t\t\t\t\t\t\t\tonResultSelect={this.handleResultSelect}\n\t\t\t\t\t\t\t\t\t\t\t\tonSearchChange={debounce(this.handleSearchChange, 500, {\n\t\t\t\t\t\t\t\t\t\t\t\t\tleading: true\n\t\t\t\t\t\t\t\t\t\t\t\t})}\n\t\t\t\t\t\t\t\t\t\t\t\tresults={results}\n\t\t\t\t\t\t\t\t\t\t\t\tvalue={this.state.product}\n\t\t\t\t\t\t\t\t\t\t\t\tname=\"product\"\n\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\t\t\t\t\tdisabled={this.state.clientName === \"\"}\n\t\t\t\t\t\t\t\t\t\t\t\tstyle={{ flex: 1, marginLeft: \"5px\" }}\n\t\t\t\t\t\t\t\t\t\t\t\ticon\n\t\t\t\t\t\t\t\t\t\t\t\tlabelPosition=\"left\"\n\t\t\t\t\t\t\t\t\t\t\t\tpositive\n\t\t\t\t\t\t\t\t\t\t\t\tsize=\"small\"\n\t\t\t\t\t\t\t\t\t\t\t\tonClick={this.handleAddProduct}\n\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t<Icon name=\"add\" /> Ajouter un Produit\n\t\t\t\t\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t</Form.Field>\n\t\t\t\t\t\t\t\t\t<div className={styles.basicFormSpacing}>\n\t\t\t\t\t\t\t\t\t\t<Table selectable compact celled striped size=\"small\">\n\t\t\t\t\t\t\t\t\t\t\t<Table.Header>\n\t\t\t\t\t\t\t\t\t\t\t\t<Table.Row>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Table.HeaderCell>Nom du Produit</Table.HeaderCell>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Table.HeaderCell>Prix Unite</Table.HeaderCell>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Table.HeaderCell>Quantite</Table.HeaderCell>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Table.HeaderCell>Total</Table.HeaderCell>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Table.HeaderCell>Actions</Table.HeaderCell>\n\t\t\t\t\t\t\t\t\t\t\t\t</Table.Row>\n\t\t\t\t\t\t\t\t\t\t\t</Table.Header>\n\n\t\t\t\t\t\t\t\t\t\t\t<Table.Body>{this.renderTableRows(this.state.productList)}</Table.Body>\n\t\t\t\t\t\t\t\t\t\t</Table>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t</Form.Group>\n\t\t\t\t\t\t\t</Form>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div className={styles.labelSpacing}>Total: {this.renderTotal(this.state.productList)}</div>\n\t\t\t\t\t\t<div style={this.state.view ? { display: \"none\" } : { display: \"block\" }}>\n\t\t\t\t\t\t\t<Button fluid size=\"small\" color=\"teal\" content={label} onClick={this.handleSubmit} />\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</Card.Content>\n\t\t\t\t</Card>\n\t\t\t</Dimmer.Dimmable>\n\t\t);\n\t}\n}\n\nfunction mapStateToProps({ product, user, provider }) {\n\treturn { product, user, provider };\n}\n\nexport default connect(mapStateToProps)(BuyForm);\n"]},"metadata":{},"sourceType":"module"}